<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Random musings on books, code, and tabletop games.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Lacking Natural Simplicity | Lacking Natural Simplicity</title>
<link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<link rel="alternate" type="application/atom+xml" title="Atom" href="feed.atom">
<link rel="canonical" href="https://tkurtbond.github.io/">
<link rel="next" href="index-94.html" type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5.js"></script><![endif]--><link rel="prefetch" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/" type="text/html">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,700;1,400;1,700&amp;family=Lato:ital,wght@0,400;0,700;1,400;1,700&amp;family=Source+Code+Pro:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" rel="stylesheet">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<div class="blog-masthead">
    <div class="container">
<!-- This keeps the margins nice -->
        <nav class="blog-nav" role="navigation"><a href="#" class="blog-nav-item">Home</a>
            <a href="archive.html" class="blog-nav-item">Archives</a>
            <a href="categories/index.html" class="blog-nav-item">Tags &amp; Categories</a>
            <a href="rss.xml" class="blog-nav-item">RSS feed</a>
            <a href="feed.atom" class="blog-nav-item">Atom feed</a>

            

                
            
        </nav>
</div>
<!-- /.container -->
</div>
<!-- End of Menubar -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <div class="blog-header">
            <h1 class="blog-title">
                <a href="https://tkurtbond.github.io/">

                    <span id="blog-title">Lacking Natural Simplicity</span>
                </a>
            </h1>
            <p class="lead blog-description">Random musings on books, code, and tabletop games.</p>
            
        </div>
        <!--Body content-->
        <div class="row">
            <div class="col-sm-8 blog-main">
<div class="postindex">
    <article class="blog-post h-entry post-text"><header><h2 class="p-name entry-title blog-post-title"><a href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/" class="u-url">Overcoming reST's limited table control by including raw groff TBL</a></h2>
        <div class="metadata blog-post-meta">
            <p class="byline author vcard"><span class="byline-name fn">T. Kurt Bond</span></p>
            <p class="dateline"><a href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/" rel="bookmark"><time class="published dt-published" datetime="2023-02-03T08:31:34-05:00" title="2023-02-03 08:31">2023-02-03 08:31</time></a></p>
                <p class="commentline">        <a href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#disqus_thread" data-disqus-identifier="cache/posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p><em>Last edited: 2023-02-03 20:00:46 EST</em></p>
<p>So.  I have a CHICKEN Scheme program that converts <a class="reference external" href="http://dyskami.ca/besm.html">Big Eyes Small
Mouth 4E</a> characters from a YAML definition into <a class="reference external" href="https://docutils.sourceforge.io/rst.html">reStructuredText</a>
(reST).</p>
<p>Unfortunately, <a class="reference external" href="https://pandoc.org/">pandoc</a>‚Äôs (and probably the orginal python <a class="reference external" href="https://docutils.sourceforge.io/">docutils</a>‚Äô),
formatting of tables from <span class="app">reST</span> is limited and doesn‚Äôt let me do
what I need to do.<a class="footnote-reference brackets" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#markdown" id="footnote-reference-1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p>
<p>Here‚Äôs an image of the BESM 4E character, Xeksil <a class="footnote-reference brackets" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#xeksil" id="footnote-reference-2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>, I played
Wednesday night:</p>
<img alt="Original charactersheet for Xeksil in :app:`reST` using grid tables" src="images/xeksil-plain-rst-version.png"><p>As you can see, it doesn‚Äôt fully fill the width of the page, and the
first two columns are two wide for the information they contain.</p>
<p>I‚Äôm contemplating changing the program so that the actual tables are
in <a class="reference external" href="https://www.gnu.org/software/groff/">groff</a> <span class="app">tbl</span> format directly, and insert them into the
generated <span class="app">reST</span> file in <code class="docutils literal">.. raw:: ms</code> directives.  That locks
me into using <span class="app">pandoc</span>‚Äôs <span class="app">groff</span> <span class="app">ms</span> macros output, but I
could just write a new version that outputs ConTeXt (<a class="reference external" href="https://en.wikipedia.org/wiki/ConTeXt">C1</a>, <a class="reference external" href="https://wiki.contextgarden.net/Main_Page">C2</a>) if I
ever need one‚Ä¶</p>
<p>As a test, I converted a character and his mecha into raw <span class="app">groff</span>
<span class="app">ms</span> with <span class="app">tbl</span> output.  Here‚Äôs an image of that:</p>
<img alt="Test character sheet for Enyon Boase in plain groff -ms with TBL." src="images/enyon-in-groff-ms-directly.png"><p>As you can see, the tables fill the width of the text entirely and the
first two columns are narrower and the third column expands to fill
the width of the text.  I was also able to put double lines before and
after each entity, and put single lines after the headers and before
the total lines.</p>
<p>I think this looks much better.</p>
<p>Note that the first example is on 5.5‚Äù by 8.5‚Äù page (which I use for
things I‚Äôm going to look at on the screen a lot, because it takes up
less space) and the second example is on 8.5‚Äù by 11‚Äù paper and in two
columns.  It was essentially impossible to have <span class="app">pandoc</span> (and I‚Äôm
sure docutils) produce 2 column output and have the <span class="app">reST</span>
versions of the tables adapt to the width of the columns.  With the
narrower widths of the first two table columns the third table column
is wide enough that I can use pages with two columns.</p>
<p>CPB (who I talked about this with earlier) commented: The data is in
YAML now right?  Why not just generate troff?</p>
<p>Because when I write the actual text of things, I prefer <span class="app">reST</span>.
So, for instance, the description of the character or entity I write
in <span class="app">reST</span>.  And I like <span class="app">reST</span> for the main documents into
which I include these generated files because then I can output to
HTML too.  (Or to ConTexT; I‚Äôve got some documents where I needed
features that ConTexT has and <span class="app">pandoc</span>‚Äôs groff -ms output doesn‚Äôt
have.)</p>
<p>I‚Äôve already written the character formatting program (named
<span class="command">besm-rst</span>, originally enough) so that it can output the
table version or a terse version where the different sections are in
normal paragraphs, which is useful because it is much more compact.
Adding a version that outputs <span class="app">reST</span> with tables expressed as an
<span class="app">reST</span> <code class="docutils literal">.. raw:: ms</code> block that contains the table sections as
<span class="app">groff -ms</span> <span class="app">tbl</span> source would just be writing another
version of the output routine, selectable with a command line option.</p>
<p>The original output routine to produce <span class="app">reST</span> grid tables and its
support procedures were 315 lines.  The second output routine to
paragraphs and its new support procedures (it uses some of the first
output routine‚Äôs support procedures) was 158 lines.</p>
<p>It will be interesting to see how long the troff output will be.</p>
<p>Oh, here is Lieutenant Enyon Boase again, this time in paragraph format:</p>
<img alt="/images/enyon-terse-plain-rst-version.png" src="images/enyon-terse-plain-rst-version.png"><p>That‚Äôs also a 8.5‚Äù by 11‚Äù page, and as you can see, it‚Äôs much more
compact, but harder for folks to find each individual item.  This is
basically the format that was used in the original BESM 1E and 2E
books, and the table based version appeared in BESM 3E and was
continued in 4E.</p>
<p>I think the table format is much easier to read.</p>
<p>Now, when I use the <span class="app">reST</span> table output and generate HTML from it
it looks kinda crude:</p>
<img alt="Character sheet for Enyon Boase using reST grid tables for HTML output." src="images/enyon-rst-grid-table-html-output.png"><p>However, I think I may be able to fix that with CSS.</p>
<p>The HTML is relatively clean.  (It probably doesn't really need the
width specifications in the colgroup element, but <span class="app">pandoc</span> puts
those in.)</p>
<p>That‚Äôs actually six tables.  If I wrap them in one div with a
particular class I think I can get them formatted right.</p>
<p>CPB commented: CSS supports printing.</p>
<p>Yes, there is actually at least one commercial document formatting
system that uses CSS for sophisticated print output, much more
elaborate than what the browsers support, I think.</p>
<p>But I know <span class="app">tbl</span> better than CSS. üòâ</p>
<p>I do have a need for good looking output html for the output of the
program: so I can put it on my blog!  It would be better than images
in cases where I‚Äôm not actually comparing the PDF output of various
things.</p>
<p>Well, it took me longer that I expected, 4¬º hours.  After the first 2
hours I was fried (it had been a long day): if I had stopped then I
probably could have finished it the next day in an hour.  Oh well.
The new output routine and its new supporting routines were 208 lines
long.</p>
<p>Here's an image of the page produced (probably from same YAML file; I
have a couple, since one of them was an early test file for
<span class="command">besm-rst</span>.)  using the new output routine, with <span class="app">reST</span>
output with <span class="app">tbl</span> output in <code class="docutils literal">.. raw:: ms</code>, pulled from the
document with all the pregenerated characters:</p>
<img alt="Enyon Boase reST output with tbl in raw ms block" src="images/enyon-boase-rst-output-with-raw-ms-tbl.png"><p>And for reference, here is the YAML version of Enyon Boase:</p>
<div class="code"><pre class="code yaml"><a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-1" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-1" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-1"></a><span class="nn">---</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-2" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-2" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-2"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Lieutenant Enyon Boase</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-3" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-3" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-3"></a><span class="w">  </span><span class="nt">stats</span><span class="p">:</span><span class="w">                        </span><span class="c1"># Average: (/ (+ 8 6 6) 3.0) 6.666666666666667</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-4" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-4" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-4"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Body</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-5" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-5" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-5"></a><span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-6" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-6" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-6"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">16</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-7" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-7" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-7"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Mind</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-8" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-8" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-8"></a><span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-9" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-9" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-9"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">12</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-10" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-10" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-10"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Soul</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-11" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-11" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-11"></a><span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-12" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-12" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-12"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">12</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-13" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-13" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-13"></a><span class="w">  </span><span class="nt">derived</span><span class="p">:</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-14" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-14" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-14"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ACV</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-15" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-15" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-15"></a><span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">9</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-16" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-16" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-16"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DCV</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-17" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-17" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-17"></a><span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">7</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-18" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-18" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-18"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DM</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-19" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-19" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-19"></a><span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-20" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-20" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-20"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">HP</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-21" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-21" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-21"></a><span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">70</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-22" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-22" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-22"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">EP</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-23" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-23" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-23"></a><span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">60</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-24" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-24" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-24"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SV</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-25" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-25" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-25"></a><span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">14</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-26" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-26" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-26"></a><span class="w">  </span><span class="nt">attributes</span><span class="p">:</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-27" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-27" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-27"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Attack Mastery</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-28" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-28" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-28"></a><span class="w">      </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-29" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-29" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-29"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-30" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-30" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-30"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Extra Actions</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-31" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-31" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-31"></a><span class="w">      </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-32" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-32" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-32"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-33" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-33" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-33"></a><span class="w">      </span><span class="nt">details</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">+1 Extra Action</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-34" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-34" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-34"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">"Item:</span><span class="nv"> </span><span class="s">FV2021</span><span class="nv"> </span><span class="s">Coleopteran"</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-35" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-35" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-35"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">35</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-36" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-36" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-36"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Skills</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-37" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-37" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-37"></a><span class="w">      </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-38" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-38" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-38"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-39" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-39" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-39"></a><span class="w">      </span><span class="nt">details</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">20 Skill Points</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-40" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-40" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-40"></a><span class="w">  </span><span class="nt">defects</span><span class="p">:</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-41" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-41" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-41"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">"Unique</span><span class="nv"> </span><span class="s">Defect:</span><span class="nv"> </span><span class="s">Obsessed</span><span class="nv"> </span><span class="s">by</span><span class="nv"> </span><span class="s">Military</span><span class="nv"> </span><span class="s">History"</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-42" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-42" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-42"></a><span class="w">      </span><span class="nt">rank</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-43" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-43" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-43"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-1</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-44" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-44" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-44"></a><span class="w">  </span><span class="nt">skills</span><span class="p">:</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-45" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-45" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-45"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Interrogation</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-46" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-46" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-46"></a><span class="w">      </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-47" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-47" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-47"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-48" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-48" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-48"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Law</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-49" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-49" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-49"></a><span class="w">      </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-50" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-50" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-50"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-51" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-51" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-51"></a><span class="w">      </span><span class="nt">specialisations</span><span class="p">:</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-52" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-52" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-52"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Military</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-53" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-53" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-53"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Leadership</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-54" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-54" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-54"></a><span class="w">      </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-55" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-55" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-55"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-56" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-56" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-56"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Military Sciences</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-57" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-57" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-57"></a><span class="w">      </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-58" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-58" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-58"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-59" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-59" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-59"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Persuasion</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-60" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-60" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-60"></a><span class="w">      </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-61" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-61" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-61"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-62" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-62" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-62"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Political Sciences</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-63" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-63" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-63"></a><span class="w">      </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-64" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-64" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-64"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-65" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-65" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-65"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Stealth</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-66" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-66" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-66"></a><span class="w">      </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-67" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-67" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-67"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-68" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-68" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-68"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Visual Arts</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-69" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-69" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-69"></a><span class="w">      </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-70" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-70" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-70"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-71" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-71" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-71"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Writing</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-72" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-72" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-72"></a><span class="w">      </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-73" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-73" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-73"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-74" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-74" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-74"></a><span class="w">      </span><span class="nt">specialisations</span><span class="p">:</span>
<a id="rest_code_ed442946973c44aeb5a463ec0a327b9e-75" name="rest_code_ed442946973c44aeb5a463ec0a327b9e-75" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_ed442946973c44aeb5a463ec0a327b9e-75"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Reports</span>
</pre></div>
<p>And here is the YAML version of his FV2021 Coleopteran:</p>
<div class="code"><pre class="code yaml"><a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-1" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-1" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-1"></a><span class="nn">---</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-2" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-2" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-2"></a><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FV2021 Coleopteran</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-3" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-3" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-3"></a><span class="w">  </span><span class="nt">page</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">BRCS, p. 94=95</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-4" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-4" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-4"></a><span class="w">  </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-5" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-5" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-5"></a><span class="w">    </span><span class="no">A three-metre talk British-built humanoid combat walker used by</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-6" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-6" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-6"></a><span class="w">    </span><span class="no">the Canadians on Mars.  They use a new ‚Äúmind-interface‚Äù</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-7" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-7" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-7"></a><span class="w">    </span><span class="no">neuro-helmet that makes the mecha very agile.  However, if a</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-8" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-8" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-8"></a><span class="w">    </span><span class="no">different pilot wants to use the mecha, the neuro-helmet must be</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-9" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-9" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-9"></a><span class="w">    </span><span class="no">‚Äúretuned‚Äù to their brain waves ‚Äî this takes a full day; until</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-10" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-10" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-10"></a><span class="w">    </span><span class="no">then, halve the Defence Mastery and Combat Technique: Lightning</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-11" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-11" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-11"></a><span class="w">    </span><span class="no">Reflexes Attribute bonuses.  The mecha are painted standard</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-12" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-12" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-12"></a><span class="w">    </span><span class="no">colours: UN white, with sky-blue helmets.</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-13" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-13" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-13"></a><span class="w">  </span><span class="nt">derived</span><span class="p">:</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-14" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-14" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-14"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Health Points</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-15" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-15" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-15"></a><span class="w">      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-16" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-16" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-16"></a><span class="w">  </span><span class="nt">attributes</span><span class="p">:</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-17" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-17" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-17"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Features</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-18" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-18" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-18"></a><span class="w">      </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-19" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-19" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-19"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-20" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-20" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-20"></a><span class="w">      </span><span class="nt">details</span><span class="p">:</span><span class="w"> </span><span class="s">"Radio,</span><span class="nv"> </span><span class="s">Inertial</span><span class="nv"> </span><span class="s">Naviagion"</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-21" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-21" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-21"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Ground Speed</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-22" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-22" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-22"></a><span class="w">      </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-23" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-23" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-23"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-24" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-24" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-24"></a><span class="w">      </span><span class="nt">details</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Up to 50 kph</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-25" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-25" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-25"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Armour</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-26" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-26" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-26"></a><span class="w">      </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-27" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-27" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-27"></a><span class="w">      </span><span class="nt">effective</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-28" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-28" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-28"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-29" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-29" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-29"></a><span class="w">      </span><span class="nt">limiters</span><span class="p">:</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-30" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-30" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-30"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">"Unique</span><span class="nv"> </span><span class="s">Limiter:</span><span class="nv"> </span><span class="s">Partial:</span><span class="nv"> </span><span class="s">Thin"</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-31" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-31" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-31"></a><span class="w">      </span><span class="nt">details</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-32" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-32" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-32"></a><span class="w">        </span><span class="no">Hit thin area with called shot for half Armour Rating; 20 AR;</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-33" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-33" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-33"></a><span class="w">        </span><span class="no">20 Health Points</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-34" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-34" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-34"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Combat Technique</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-35" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-35" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-35"></a><span class="w">      </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-36" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-36" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-36"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-37" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-37" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-37"></a><span class="w">      </span><span class="nt">details</span><span class="p">:</span><span class="w"> </span><span class="s">"Lightning</span><span class="nv"> </span><span class="s">Reflexes:</span><span class="nv"> </span><span class="s">major</span><span class="nv"> </span><span class="s">edge</span><span class="nv"> </span><span class="s">on</span><span class="nv"> </span><span class="s">Initiative</span><span class="nv"> </span><span class="s">rolls"</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-38" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-38" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-38"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Defence Mastery</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-39" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-39" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-39"></a><span class="w">      </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-40" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-40" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-40"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-41" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-41" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-41"></a><span class="w">      </span><span class="nt">details</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">+2 to Defense Combat Value</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-42" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-42" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-42"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Resilient</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-43" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-43" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-43"></a><span class="w">      </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-44" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-44" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-44"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">12</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-45" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-45" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-45"></a><span class="w">      </span><span class="nt">details</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-46" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-46" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-46"></a><span class="w">        </span><span class="no">Space: low pressure, high pressure, intense cold, intense</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-47" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-47" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-47"></a><span class="w">        </span><span class="no">heat, radiation, lack of air</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-48" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-48" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-48"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Supersense</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-49" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-49" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-49"></a><span class="w">      </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-50" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-50" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-50"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">4</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-51" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-51" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-51"></a><span class="w">      </span><span class="nt">details</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Sensors, range 10 km</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-52" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-52" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-52"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Superstrength</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-53" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-53" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-53"></a><span class="w">      </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-54" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-54" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-54"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">8</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-55" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-55" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-55"></a><span class="w">      </span><span class="nt">details</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-56" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-56" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-56"></a><span class="w">        </span><span class="no">Lift 500 kg (a horse); +10 Unarmed Combat Damage;</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-57" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-57" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-57"></a><span class="w">        </span><span class="no">+2 Muscle Weapons Damage</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-58" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-58" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-58"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Tough</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-59" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-59" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-59"></a><span class="w">      </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-60" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-60" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-60"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">6</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-61" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-61" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-61"></a><span class="w">      </span><span class="nt">details</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">+60 Health Points</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-62" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-62" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-62"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">"Weapon:</span><span class="nv"> </span><span class="s">Railgun"</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-63" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-63" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-63"></a><span class="w">      </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">12</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-64" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-64" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-64"></a><span class="w">      </span><span class="nt">effective</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">9</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-65" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-65" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-65"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">24</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-66" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-66" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-66"></a><span class="w">      </span><span class="nt">details</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-67" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-67" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-67"></a><span class="w">        </span><span class="no">Damage Modifier √ó</span><span class="err">‚Äâ</span><span class="no">9; Range 10 km; fails and cannot be used</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-68" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-68" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-68"></a><span class="w">        </span><span class="no">again on natural 2 or 3</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-69" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-69" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-69"></a><span class="w">      </span><span class="nt">enhancements</span><span class="p">:</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-70" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-70" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-70"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">Range</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">5</span><span class="p p-Indicator">]</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-71" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-71" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-71"></a><span class="w">      </span><span class="nt">limiters</span><span class="p">:</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-72" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-72" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-72"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">Unreliable</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">2</span><span class="p p-Indicator">]</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-73" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-73" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-73"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">"Weapon:</span><span class="nv"> </span><span class="s">Rocket</span><span class="nv"> </span><span class="s">Pod"</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-74" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-74" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-74"></a><span class="w">      </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">14</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-75" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-75" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-75"></a><span class="w">      </span><span class="nt">effective</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">9</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-76" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-76" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-76"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">14</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-77" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-77" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-77"></a><span class="w">      </span><span class="nt">details</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-78" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-78" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-78"></a><span class="w">        </span><span class="no">Damage Modifier √ó</span><span class="err">‚Äâ</span><span class="no">9; Autofire: 1 hit if attack exceeds defence</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-79" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-79" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-79"></a><span class="w">        </span><span class="no">by 0‚Äì3, 2 hits if it exceeds by 4‚Äì6, 3 hits if it exceeds by</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-80" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-80" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-80"></a><span class="w">        </span><span class="no">&gt;7‚Äì9, etc.; Area 3m radius; Range 1 km; 3 shots; Can be</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-81" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-81" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-81"></a><span class="w">        </span><span class="no">deflected or destroyed for 1 round; Alternate attack: cost</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-82" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-82" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-82"></a><span class="w">        </span><span class="no">halved</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-83" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-83" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-83"></a><span class="w">      </span><span class="nt">enhancements</span><span class="p">:</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-84" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-84" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-84"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">Autofire</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">3</span><span class="p p-Indicator">]</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-85" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-85" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-85"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Area</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-86" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-86" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-86"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">Range</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">4</span><span class="p p-Indicator">]</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-87" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-87" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-87"></a><span class="w">      </span><span class="nt">limiters</span><span class="p">:</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-88" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-88" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-88"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">Charges</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">2</span><span class="p p-Indicator">]</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-89" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-89" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-89"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Stoppable</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-90" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-90" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-90"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">"Weapon:</span><span class="nv"> </span><span class="s">Plasma</span><span class="nv"> </span><span class="s">Fist"</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-91" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-91" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-91"></a><span class="w">      </span><span class="nt">level</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">11</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-92" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-92" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-92"></a><span class="w">      </span><span class="nt">effective</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">12</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-93" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-93" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-93"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">11</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-94" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-94" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-94"></a><span class="w">      </span><span class="nt">details</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-95" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-95" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-95"></a><span class="w">        </span><span class="no">Damage Modifier √ó</span><span class="err">‚Äâ</span><span class="no">12; Muscle Weapon; 6 shots; Alternate attack:</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-96" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-96" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-96"></a><span class="w">        </span><span class="no">cost halved</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-97" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-97" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-97"></a><span class="w">      </span><span class="nt">limiters</span><span class="p">:</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-98" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-98" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-98"></a><span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Charges</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-99" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-99" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-99"></a><span class="w">  </span><span class="nt">defects</span><span class="p">:</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-100" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-100" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-100"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Awkward Size</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-101" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-101" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-101"></a><span class="w">      </span><span class="nt">rank</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-102" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-102" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-102"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-4</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-103" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-103" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-103"></a><span class="w">      </span><span class="nt">details</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-104" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-104" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-104"></a><span class="w">        </span><span class="no">Size 2: Medium: +2 to be hit for every size attacker is</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-105" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-105" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-105"></a><span class="w">        </span><span class="no">smaller, ‚àí2 to be hit for every size attack is larger, 1.5‚Äì8</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-106" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-106" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-106"></a><span class="w">        </span><span class="no">tonnes, big horse to bigger than an elephant</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-107" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-107" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-107"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Conditional Ownership</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-108" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-108" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-108"></a><span class="w">      </span><span class="nt">rank</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-109" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-109" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-109"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-1</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-110" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-110" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-110"></a><span class="w">      </span><span class="nt">details</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">UN Army ownership</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-111" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-111" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-111"></a><span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="s">"Special</span><span class="nv"> </span><span class="s">Requirement:</span><span class="nv"> </span><span class="s">Frequent</span><span class="nv"> </span><span class="s">maintenance"</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-112" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-112" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-112"></a><span class="w">      </span><span class="nt">rank</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<a id="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-113" name="rest_code_452fb24f5a7e4334aa008299d8f7b9f4-113" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#rest_code_452fb24f5a7e4334aa008299d8f7b9f4-113"></a><span class="w">      </span><span class="nt">points</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-3</span>
</pre></div>
<p>The git repo with this program and some test data is on <a class="reference external" href="https://github.com/tkurtbond/besm-tools">github</a>.</p>
<p>Enyon Boase is a pregenerated character that I came up for the
<span class="title">BESM 4E</span> rewrite of the <span class="title">BESM 1E</span> adventure ‚ÄúRed
Planet, Blue Helmets‚Äù, from <span class="title">Big Robots, Cool Starships</span>.  The
FV2021 Coleopteran is also from that adventure.</p>
<aside class="footnote-list brackets"><aside class="footnote brackets" id="markdown" role="note"><span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#footnote-reference-1">1</a><span class="fn-bracket">]</span></span>
<p>It's a little better coming from one of <span class="app">pandoc</span>'s
variants of Markdown, because you can specify alignment of columns
in some forms of tables, but you still have too little control over
the appearance of the table, and to make tables easy to read you
need more control than you have.</p>
</aside><aside class="footnote brackets" id="xeksil" role="note"><span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#footnote-reference-2">2</a><span class="fn-bracket">]</span></span>
<p>Xeksil has the ‚ÄúDimension Walk‚Äù attribute.  In the
backstory in my head he's the son of a woman from the Courts of
Chaos (from Zelazny's <span class="series">Amber Chronicles</span>) and a man that at
least <em>looks</em> human (but may not be; I haven't decided yet), so for
Xeksil this ability is ‚ÄúShadow Shifting‚Äù.</p>
</aside></aside><!-- Why does the footnote in this link

    http://0.0.0.0:8000/posts/2023/02/03/overcoming-rests-limited-table-control-by-including-raw-groff-tbl/#xeksil

have the square brackets around it and is a span element before a p
element, while the one in

    http://0.0.0.0:8000/posts/2020/11/29/looking-at-the-mini-six-rpg-and-related-games/#id1

doesn't and is in a dl element? --><!-- Local Variables:
time-stamp-format: "%Y-%02m-%02d %02H:%02M:%02S %Z"
time-stamp-start: "\\*Last edited:[ \t]+\\\\?"
time-stamp-end: "\\*\\\\?\n"
End: --><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="categories/besm/" rel="tag">besm</a></li>
            <li><a class="tag p-category" href="categories/besm-4e/" rel="tag">besm 4e</a></li>
            <li><a class="tag p-category" href="categories/big-eyes-small-mouth/" rel="tag">big eyes small mouth</a></li>
            <li><a class="tag p-category" href="categories/context/" rel="tag">context</a></li>
            <li><a class="tag p-category" href="categories/docutils/" rel="tag">docutils</a></li>
            <li><a class="tag p-category" href="categories/groff/" rel="tag">groff</a></li>
            <li><a class="tag p-category" href="categories/html/" rel="tag">html</a></li>
            <li><a class="tag p-category" href="categories/pandoc/" rel="tag">pandoc</a></li>
            <li><a class="tag p-category" href="categories/rest/" rel="tag">rest</a></li>
            <li><a class="tag p-category" href="categories/restructuredtext/" rel="tag">restructuredtext</a></li>
            <li><a class="tag p-category" href="categories/rpg/" rel="tag">rpg</a></li>
            <li><a class="tag p-category" href="categories/yaml/" rel="tag">yaml</a></li>
        </ul></nav>
</div>
    </article><article class="blog-post h-entry post-text"><header><h2 class="p-name entry-title blog-post-title"><a href="posts/2022/12/30/micro-blog-experiment/" class="u-url">Minimal blog experiment</a></h2>
        <div class="metadata blog-post-meta">
            <p class="byline author vcard"><span class="byline-name fn">T. Kurt Bond</span></p>
            <p class="dateline"><a href="posts/2022/12/30/micro-blog-experiment/" rel="bookmark"><time class="published dt-published" datetime="2022-12-30T14:07:27-05:00" title="2022-12-30 14:07">2022-12-30 14:07</time></a></p>
                <p class="commentline">        <a href="posts/2022/12/30/micro-blog-experiment/#disqus_thread" data-disqus-identifier="cache/posts/2022/12/30/micro-blog-experiment.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p>I'm trying an experiment in minimal blogging at <a class="reference external" href="http://consp.org/">Lacking Natural
Simplicity, Another Take</a>, using <a class="reference external" href="https://lichen.sensorstation.co/">Lichen</a> (a
Content Management System someone wrote in Forth) and <a class="reference external" href="https://gemini.circumlunar.space/docs/cheatsheet.gmi">Gemtext</a>.</p>
    <nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="categories/gemini/" rel="tag">gemini</a></li>
            <li><a class="tag p-category" href="categories/gemtext/" rel="tag">gemtext</a></li>
            <li><a class="tag p-category" href="categories/lichen/" rel="tag">lichen</a></li>
        </ul></nav>
</div>
    </article><article class="blog-post h-entry post-text"><header><h2 class="p-name entry-title blog-post-title"><a href="posts/2022/12/10/the-lord-of-the-rings-adventure-game-from-iron-crown-enterprises/" class="u-url">The Lord of the Rings Adventure Game from Iron Crown Enterprises</a></h2>
        <div class="metadata blog-post-meta">
            <p class="byline author vcard"><span class="byline-name fn">T. Kurt Bond</span></p>
            <p class="dateline"><a href="posts/2022/12/10/the-lord-of-the-rings-adventure-game-from-iron-crown-enterprises/" rel="bookmark"><time class="published dt-published" datetime="2022-12-10T18:30:01-05:00" title="2022-12-10 18:30">2022-12-10 18:30</time></a></p>
                <p class="commentline">        <a href="posts/2022/12/10/the-lord-of-the-rings-adventure-game-from-iron-crown-enterprises/#disqus_thread" data-disqus-identifier="cache/posts/2022/12/10/the-lord-of-the-rings-adventure-game-from-iron-crown-enterprises.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p><em>Last edited: 2022-12-26 22:43:46 EST</em></p>
<p>I got an interesting game yesterday, and finished reading it today:
the 1991 <em>Lord of the Rings Adventure Game</em> from <a class="reference external" href="https://en.wikipedia.org/wiki/Iron_Crown_Enterprises">Iron Crown
Enterprises</a>, which was the first holder of the Tolkien franchise
for RPGs.</p>
<p>ICE got its start with <a class="reference external" href="https://en.wikipedia.org/wiki/Rolemaster">Rolemaster</a>, which started as a detailed
add-on combat system for D&amp;D and developed into a very detailed RPG of
its own, based on open-ended d100 rolls: high is good and on very
high or low rolls you roll again and add the new roll for high or
subtracted for low, continuing infinitely in either direction.</p>
<p>ICE then got the Tolkien franchise and developed <a class="reference external" href="https://en.wikipedia.org/wiki/Middle-earth_Role_Playing">Middle-Earth Role
Playing</a> (MERP) as a slightly simplified RPG for those who wanted to
play in Middle Earth, but did not want all the complexities of the
full Rolemaster system.  The adventures were written in such a way that
you could play them either with Rolemaster or MERP, and had some short
guidelines to help the GM adapt them for other games.  They had a lot
of success and their Middle Earth products were extensive and highly
regarded.</p>
<p>Lots of folk used them with other RPG systems.  (I bought several for
the ideas.)</p>
<p>Later in their run, ICE wanted to tap the larger Tolkien readership and
so wrote the <a class="reference external" href="https://en.wikipedia.org/wiki/Lord_of_the_Rings_Adventure_Game">Lord of the Ring Adventure Game</a> as a much simpler
game that they hoped would draw interested readers and the viewers of
the animated Hobbit and Lord of the Rings.</p>
<p>(I have fond memories of the animated Hobbit, though I knew it only
through reading the graphic novel adaptation that used art from the
movie when I was at my uncle and aunt's place in New York one summer.
I finally saw it, probably on TV some years later.)</p>
<p>Anyway, the Lord of the Rings Adventure Game (LOR hereafter, as seems
to be customary) comes in a box with a 32 page rulebook, a 64 page
adventure with 6 pre-generated characters, a 32 pamphlet of 4 pages of
backstory for the 6 pregens and area maps for the adventure, several
poster sized maps, including a nice color one of Middle Earth, and
(missing in my copy, as the seller had noted in the description) 2
six-sided dice and a sheet of standup cardboard figures of people and
creatures and the pregens.</p>
<p>Characters have 12 stats: 6 capabilities (Strength, Agility,
Intelligence, Movement, and Endurance) and 6 skills (Defense, Melee
Offensive Bonus, Ranged Offensive Bonus, General, Subterfuge,
Perception, and Magical).  The value of each of these is called a
bonus, and can be less than zero.</p>
<p>You pick one of 9 character types (Hobbit Scout, Elf Scout, Human
Warrior, Dwarf Warrior, Elf Warrior, Human Ranger, Half-elf Ranger,
Human Bard, and Elf Bard), which sets your equipment and capability
values and starting skill values, and then you have six +1 bonuses to
add to your skills as you choose, no more than +3 to any one skill.
If you have +1 or more in magic you get two spells per +1 bonus.  Some
of your equipment gives bonuses to your stats.  I'll note that your
character type doesn't restrict what you can do: if you want your
Warrior to be able to use magic, put some of your starting skill
bonuses into Magical!  And they don't really have much to do with what
your characters occupation is: someone who takes one of the Warrior
character types can be a merchant, someone who takes one of the Scout
character types can be a healer.  It is all in how you assign your
starting skill bonuses.</p>
<p>Your character type sets your Endurance (basically your hit points),
with the dwarf warrior having the most at 60 points and the elf bard
the least at 30 points.</p>
<p>There are 15 spells, all with a fairly reasonable balance between
keeping with the magic seen in the novels, which is to say not
tremendously powerful, and what one would expect from a fantasy RPG.
The spells are Strength, Shield, Speed, Balance, Camouflage,
Concentration, Item Analysis, Clairvoyance, Healing, Luck, Protection
from Magic, Sustenance, Calm, Charm Animal, and Fire Bolt.  Magic
items typically add a plus to a stat, or let you do something you
couldn‚Äôt before.</p>
<p>Maneuvers are how you use your stats.  Some, like climbing a tree have
a set difficulty.  Others the GM sets the difficulty, from Routine (4)
to Absurd (18).</p>
<p>You roll 2d6 plus a stat bonus versus a target number or an opponent‚Äôs
roll.  Meet or exceed an unopposed roll to succeed, while you can tie
on opposed rolls.  In combat you take the attacker‚Äôs Offensive Bonus
minus the defenders Defensive Bonus and roll 2d6 and look the result
up in a chart to see how much damage is done and whether the defender
is knocked unconscious or killed outright.</p>
<p>Activities are things that are normally automatically successful if
you have the equipment and time (tying up a captive, setting up camp,
digging a ditch), but turn into GM moderated maneuvers if you don‚Äôt
have the time or equipment (digging a ditch to hide in before the
opponents you want to ambush show up).</p>
<p>There are 14 action sequences.  These things like combat (one of the
action sequences) where there is a general sequence you follow to do
something, from sneaking through a town at night to tracking through a
wilderness or ambushing an enemy.  I like how these are written up as
a standard sequence of things to do and consider, just like how combat
is done in most system.</p>
<p>These action sequences can be adjusted by the GM for circumstances and
they encourage you to make up your own.  You might make one up for
when someone is wanting to convince a crowd of something.  They are
multi-step procedures for doing something.  I think they would be
quite useful.</p>
<p>You get Experience Points (EP) for successful maneuvers depending on
how hard the target number was, for every point of damage inflicted,
with unconsciousness and killed results worth more, and for every
point of damage the caster of a spell takes to cast the spell.  (Every
spell costs the caster Damage to cast!). You also get EP for good
ideas and for the group accomplishing significant goals.</p>
<p>The included adventure is a mix of programmed sequences to help the
new GM and players learn the system, where the choices the players
make determines what section you turn to next, and the sections are
broken up into action sequences and the results determine which
section the players go to next, GM notes on how to run or adjust
things, and descriptions of what happens.</p>
<p>I do notice that each of the pregens has a special ability: finding
lost items or people, eidetic memory, knowing if any creature within a
20 foot radius is aligned with forces of darkness, healing wounds
faster, being unusually skilled at bargaining and negotiation, and
always knowing which way is north and can follow known routes
perfectly.  But there is no rule for assigning these to characters.  I
imagine that if the GM wanted to have special abilities for other
characters the GM and the players should come up with them.</p>
<p>The rules encourage you to use figures or counters to represent
characters in combat, and movement is given in inches, to be measured
on the map, if you draw one, or on the table if you just set out the
figures at the right distances.  You could easily use a battle map
with a grid, if you have one.  Movement at a walk is 50 feet plus 10
feet multiplied by the characters Movement bonus.</p>
<p>Anyway, I like it.  I hope to run it this year for Christmas, if all
goes well.</p>
<p>There is, of course, a Wikipedia <a class="reference external" href="https://en.wikipedia.org/wiki/Lord_of_the_Rings_Adventure_Game">page</a> about it, but it is even
briefer than this post.</p>
<p>There is a compatible game, The <a class="reference external" href="https://sites.google.com/site/ambarquenta/home/the-offical-games/meag">Middle-Earth Adventure Game</a>
(MEAG), that was designed by Brian Gross and J.R. Gracen.  I knew of
it before I got the LotRAG, it seems to be a generalization and
expansion, and thus a little more complicated, but it doesn't look
<em>too</em> complicated.  I'll read it and report what I think of it.</p>
<!-- Local Variables:
time-stamp-format: "%Y-%02m-%02d %02H:%02M:%02S %Z"
time-stamp-start: "\\*Last edited:[ \t]+\\\\?"
time-stamp-end: "\\*\\\\?\n"
End: -->
    <nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="categories/ice/" rel="tag">ice</a></li>
            <li><a class="tag p-category" href="categories/iron-crown-enterprises/" rel="tag">iron crown enterprises</a></li>
            <li><a class="tag p-category" href="categories/lor/" rel="tag">lor</a></li>
            <li><a class="tag p-category" href="categories/lord-of-the-rings-adventure-game/" rel="tag">lord of the rings adventure game</a></li>
            <li><a class="tag p-category" href="categories/lotrag/" rel="tag">lotrag</a></li>
            <li><a class="tag p-category" href="categories/merp/" rel="tag">merp</a></li>
            <li><a class="tag p-category" href="categories/rolemaster/" rel="tag">rolemaster</a></li>
        </ul></nav>
</div>
    </article><article class="blog-post h-entry post-text"><header><h2 class="p-name entry-title blog-post-title"><a href="posts/2022/12/06/maintaining-the-old-ada-modeel-formerly-distributed-with-emacs/" class="u-url">Maintaining the old ada-mode.el formerly distributed with Emacs</a></h2>
        <div class="metadata blog-post-meta">
            <p class="byline author vcard"><span class="byline-name fn">T. Kurt Bond</span></p>
            <p class="dateline"><a href="posts/2022/12/06/maintaining-the-old-ada-modeel-formerly-distributed-with-emacs/" rel="bookmark"><time class="published dt-published" datetime="2022-12-06T13:28:59-05:00" title="2022-12-06 13:28">2022-12-06 13:28</time></a></p>
                <p class="commentline">        <a href="posts/2022/12/06/maintaining-the-old-ada-modeel-formerly-distributed-with-emacs/#disqus_thread" data-disqus-identifier="cache/posts/2022/12/06/maintaining-the-old-ada-modeel-formerly-distributed-with-emacs.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p>I wrote a <a class="reference external" href="posts/2022/07/09/using-the-old-version-of-ada-mode-for-emacs/">post</a> about using the old ada-mode.el that used to be
distributed with <span class="app">Emacs</span> because I couldn't get the newer,
separate package <a class="reference external" href="https://www.gnu.org/software/emacs/manual/html_mono/ada-mode.html">version</a> to work for me.</p>
<p>Well, this morning when I pulled up an Ada file in <span class="app">Emacs</span> version
28 there were two problems:</p>
<ol class="arabic">
<li>
<p>The information to invoke ada-mode on Ada files was not in the
<code class="docutils literal"><span class="pre">auto-mode-alist</span></code> variable in <span class="app">Emacs</span>.  That was easy
enough to fix: add <span class="file">.ada</span>, <span class="file">.ads</span>, and <span class="file">.adb</span> to
<code class="docutils literal"><span class="pre">auto-mode-alist</span></code> (and <span class="file">.gpr</span>, too, since Ada mode works
for <span class="app">gprbuild</span> files as well):</p>
<div class="code"><pre class="code emacs-lisp"><a id="rest_code_b91809c7171d4567bc6587fda662b705-1" name="rest_code_b91809c7171d4567bc6587fda662b705-1" href="posts/2022/12/06/maintaining-the-old-ada-modeel-formerly-distributed-with-emacs/#rest_code_b91809c7171d4567bc6587fda662b705-1"></a><span class="p">(</span><span class="nb">cl-loop</span><span class="w"> </span><span class="nv">for</span><span class="w"> </span><span class="nv">ext</span><span class="w"> </span><span class="nv">in</span><span class="w"> </span><span class="o">'</span><span class="p">(</span><span class="s">"\\.gpr$"</span><span class="w"> </span><span class="s">"\\.ada$"</span><span class="w"> </span><span class="s">"\\.ads$"</span><span class="w"> </span><span class="s">"\\.adb$"</span><span class="p">)</span>
<a id="rest_code_b91809c7171d4567bc6587fda662b705-2" name="rest_code_b91809c7171d4567bc6587fda662b705-2" href="posts/2022/12/06/maintaining-the-old-ada-modeel-formerly-distributed-with-emacs/#rest_code_b91809c7171d4567bc6587fda662b705-2"></a><span class="w">  </span><span class="nb">do</span><span class="w"> </span><span class="p">(</span><span class="nv">add-to-list</span><span class="w"> </span><span class="ss">'auto-mode-alist</span><span class="w"> </span><span class="p">(</span><span class="nf">cons</span><span class="w"> </span><span class="nv">ext</span><span class="w"> </span><span class="ss">'ada-mode</span><span class="p">)))</span>
</pre></div>
<p>That was easy enough.</p>
</li>
<li><p>When I tried to do any indentation <span class="cmd">emacs</span> reported an error,
with the error message ‚ÄúEnd position is smaller than start
position‚Äù.  Eventually I tracked this down to a call to
<code class="docutils literal"><span class="pre">parse-partial-sexp</span></code> in <code class="docutils literal"><span class="pre">ada-in-open-paren-p</span></code>.  It turns out
that somewhere after <span class="app">Emacs</span> version 27.2 was released the
<span class="app">Emacs</span> developers added a check to <code class="docutils literal"><span class="pre">parse-partial-sexp</span></code> to
ensure that the <code class="docutils literal">FROM</code> argument (which indicates where in the
buffer to start parsing) was less than the <code class="docutils literal">TO</code> argument (which
indicates where in the buffer to <strong>stop</strong> parsing).</p></li>
</ol>
<p>Drat.  Drat.  Drat.  Well, looking at the code it was clear that
since <code class="docutils literal"><span class="pre">ada-in-open-paren-p</span></code> is explicitly searching backwards
that <code class="docutils literal">TO</code> would <strong>always</strong> be smaller than <code class="docutils literal">FROM</code>.  So I could
just transpose the s-expressions that found those two values.  I
tried it, and it worked!</p>
<p>At that point I realized that I had committed to maintain the old
version of ada-mode, at least for myself, and that I'd already talked
about it on my blog and it was small step from there to setting up a
GitHub <a class="reference external" href="https://github.com/tkurtbond/old-ada-mode">repository</a> with the old code, adding an <a class="reference external" href="https://github.com/tkurtbond/old-ada-mode/issues/1">issue</a> describing the
problem, adding a <a class="reference external" href="https://github.com/tkurtbond/old-ada-mode/commit/7ee6fe55862ec615c7fe23d881adfee2d0094770">commit</a> with the fix, and then writing this blog
post.</p>
<p>Somewhere, someone is laughing and enjoying the schadenfreude.  Maybe
this will help someone else.</p>
<p>And since I already have a GitHub <a class="reference external" href="https://github.com/tkurtbond/old-ada-mode">repository</a>, I ought to document the
first <a class="reference external" href="https://github.com/tkurtbond/old-ada-mode/issues/2">problem</a> and since it is a documentation problem, put a mention
in the <a class="reference external" href="https://github.com/tkurtbond/old-ada-mode/commit/67a79caacd851120fee2bca4704938a2f27e1bba">README</a>.</p>
    <nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="categories/ada/" rel="tag">ada</a></li>
            <li><a class="tag p-category" href="categories/ada-mode/" rel="tag">ada-mode</a></li>
            <li><a class="tag p-category" href="categories/ada-modeel/" rel="tag">ada-mode.el</a></li>
            <li><a class="tag p-category" href="categories/emacs/" rel="tag">emacs</a></li>
        </ul></nav>
</div>
    </article><article class="blog-post h-entry post-text"><header><h2 class="p-name entry-title blog-post-title"><a href="posts/2022/12/02/demonicity-a-tri-stat-boxed-game-by-dyskami/" class="u-url">Demonicity, a Tri-Stat boxed game by Dyskami</a></h2>
        <div class="metadata blog-post-meta">
            <p class="byline author vcard"><span class="byline-name fn">T. Kurt Bond</span></p>
            <p class="dateline"><a href="posts/2022/12/02/demonicity-a-tri-stat-boxed-game-by-dyskami/" rel="bookmark"><time class="published dt-published" datetime="2022-12-02T22:54:07-05:00" title="2022-12-02 22:54">2022-12-02 22:54</time></a></p>
                <p class="commentline">        <a href="posts/2022/12/02/demonicity-a-tri-stat-boxed-game-by-dyskami/#disqus_thread" data-disqus-identifier="cache/posts/2022/12/02/demonicity-a-tri-stat-boxed-game-by-dyskami.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p>I finished reading Dyskami Publishing‚Äôs <em>Demonicity</em> tonight (<a href="https://www.drivethrurpg.com/product/369442/Demonicity-RolePlaying-Adventures-TriStat-System">PDF</a>).  I liked the document design and found it easy to read, except the ‚ÄúDemon City‚Äù two page spread which I found a pain to read because of the body font.  I liked the artwork; it was not particularly anime or manga like, unlike <em>BESM Fourth Edition</em>.  There were a few typos, missing words, and other minor mistakes, but there was only one that hindered comprehension, and that one I figured out eventually from the context.  The rules are easy to understand.</p>
<p>The setting of <em>Demonicity</em> is the titular ‚ÄúDemon City‚Äù, a city that is the location of an attack by demons from an different world/dimension.  It is obviously inspired by their earlier licensed RPG, <em>Demon City Shinjuku</em>, which I quite liked.</p>
<p><em>Demonicity</em> has a very interesting stripped down version of the Tri-Stat system that makes character generation and play much simpler.  In some ways it reminds me of <em>BESM First Edition</em>, though it is even simpler. The three Stats are Body, Mind, and Soul, of course, so that‚Äôs the same.  There are also Attributes, which are the special things a character can do.  Stats can be determined randomly or assigned by the player, and they and Attributes always cost points.  And there are some Derived Values: Combat, Health, Sanity.</p>
<p>You roll 2d6 and add a stat or a derived value (like Combat), plus optionally an Attribue‚Äôs level, and compare the result to a target number or an opposed roll.  Things that make something easier are Edges: you get an extra die or two on your dice roll, and you keep the highest two.  Things that make something harder, like trying to use two weapons at once without training, gives you Obstacles: an extra die or two on your dice roll, but you keep the two <em>lowest</em> rolls.  Edges cancel out Obstacles and vice versa.  Combat is theater of the mind.</p>
<p><em>Demoicity</em>‚Äôs version of <em>BESM</em>‚Äôs Attributes are quite stripped down.  There are only nine: Adaptability, Damage, Demonicity, Fighting, Knacks, Movement, Resistance, Resources, and Skills.  These are bought in levels as usual, but associated with each are a number of Foci (as many as one has levels in the Attribute), which gives the character a special ability.  Demonicity is the Attribute that allows a character to do most of the more impressive supernatural things, for instance.  A few of its Foci are Healing, Meld (mere with inanimate objects), and Shadow Form.  The Fighting Attribute makes a character more proficient at combat than their Stats would suggest, and it‚Äôs Foci specify which kinds of Fighting you are better at (Melee or Ranged), or makes it easier to do certain things in combat (Blind Fighting, Two Weapons).  Generally, an Attribute‚Äôs level adds to dice rolls for things associated with it, while having an appropriate Foci means that you get an Edge.  After every session characters get a few points to increase their Stats and Attributes.</p>
<p>The rulebook is only 32 pages long and has a thicker card stock cover.  It is accompanied by six one page adventures with related art on the back and by six pre-generated characters with an image of the character on the back, all on card stock.  There are also four six-sided dice.  The box everything comes in seems sturdy.  In general the production values are quite good.</p>
<p>People who are confident with their improvisation skills can probably run the adventures easily, but those who like more details will probably want to do a bit more preparation. The adventures appear designed to be easily linked into a six episode mini-campaign, or can form the backbone of a longer campaign if the GM writes their own adventures.</p>
<p>I like the inclusion of the pre-generated characters and the one page adventures.  They allow a gaming group to pick the game and start playing with little or no preparation.  And the simplified rules make it easy to learn the game, and to create characters if the gaming group doesn't want to use the pre-generated characters.  I think this makes it an excellent pick-up-and-play game.</p>
<p>I would like to have seen something like the adventure generators from various Savage Worlds setting books or Toon and its supplements.  They allow the GM who is stuck for ideas to come up with something quickly when inspiration is lacking. But it would have been difficult to fit in the constraints of the product.  Perhaps on another sheet of card stock, since I can‚Äôt see deleting anything from the rulebook?  BESM and Tri-Stat generally have very little procedural support for coming up with NPCs, scenes, adventures, etc., and I think an adventure generator would be a useful addition. Of course, having the example adventures to give an idea of what <em>Demonicity</em> adventures would be like is very useful.</p>
<p>All in all, I quite like <em>Demonicity</em> and hope to play it soon.  My only reservations are about the price of this game and the other two Tri-Stat boxed games, <em>Pixies</em> and <em>Wyrms</em>.  Forty-five retail dollars Canadian for the <a href="http://dyskami.ca/tristat.html">physical product</a> seems like a lot.  The <a href="https://www.drivethrurpg.com/product/369442/Demonicity-RolePlaying-Adventures-TriStat-System">PDF</a> seems more reasonable at 15 dollars.</p>
    <nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="categories/demonicity/" rel="tag">demonicity</a></li>
            <li><a class="tag p-category" href="categories/dyskami/" rel="tag">dyskami</a></li>
            <li><a class="tag p-category" href="categories/rpg/" rel="tag">rpg</a></li>
            <li><a class="tag p-category" href="categories/tri-stat/" rel="tag">tri-stat</a></li>
        </ul></nav>
</div>
    </article><article class="blog-post h-entry post-text"><header><h2 class="p-name entry-title blog-post-title"><a href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/" class="u-url">Splitting Strings on a Delimiter in the Ada Programming Language</a></h2>
        <div class="metadata blog-post-meta">
            <p class="byline author vcard"><span class="byline-name fn">T. Kurt Bond</span></p>
            <p class="dateline"><a href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/" rel="bookmark"><time class="published dt-published" datetime="2022-08-05T11:10:39-04:00" title="2022-08-05 11:10">2022-08-05 11:10</time></a></p>
                <p class="commentline">        <a href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#disqus_thread" data-disqus-identifier="cache/posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p><em>Last edited: 2022-12-06 13:30:34 EST</em></p>
<p>When I did a search for ‚Äúsplitting strings on a delimiter in the Ada
programming language‚Äù recently I did not get many useful results.
Eventually I stumbled over <a class="reference external" href="https://gcc.gnu.org/onlinedocs/gcc-12.1.0/gnat_rm/GNAT-String_005fSplit-g-strspl-ads.html#GNAT-String_005fSplit-g-strspl-ads">GNAT.String_Split</a> which is an
instantiation of the generic package <a class="reference external" href="https://gcc.gnu.org/onlinedocs/gcc-12.1.0/gnat_rm/GNAT-Array_005fSplit-g-arrspl-ads.html#GNAT-Array_005fSplit-g-arrspl-ads">GNAT.Array_Split</a>.  I also
finally <a class="reference external" href="https://blog.adacore.com/new-strings-package-in-gnatcoll">found</a> <a class="reference external" href="https://github.com/AdaCore/gnatcoll-core/blob/master/src/gnatcoll-strings_impl.ads">GNATCOLL.Strings_Impl</a> and <a class="reference external" href="https://github.com/AdaCore/gnatcoll-core/blob/master/src/gnatcoll-strings.ads">GNATCOLL.Strings</a>, its
default instantiation, which looks especially interesting, contains
a split implementation, and which seems to be designed to be a more
efficient string implementation than  than <code class="docutils literal">Ada.Strings.Unbounded</code>.</p>
<p>However, those are all a little complicated, so it might be
appropriate to show a simpler implementation.</p>
<p>The <code class="docutils literal">String</code> type in Ada is a array of characters.  Once
declared, a <code class="docutils literal">String</code> variable always has the same length.  That
means that all the strings in an array of strings have to be the same
length.  However, an <code class="docutils literal">access</code> (Ada's version of a
pointer) to a <code class="docutils literal">String</code> can point to a string of any length, so for
this version we'll return an array of pointers to <code class="docutils literal">String</code>.</p>
<p>Operations on <code class="docutils literal">String</code> are defined in <a class="reference external" href="http://www.ada-auth.org/standards/rm12_w_tc1/html/RM-A-4-3.html">Ada.Strings.Fixed</a>.</p>
<div class="code"><pre class="code ada"><a id="rest_code_cf34e715ae4649578cd126997566127b-1" name="rest_code_cf34e715ae4649578cd126997566127b-1" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-1"></a><span class="kn">with</span> <span class="n">Ada.Strings</span><span class="p">;</span> <span class="kn">use</span> <span class="n">Ada.Strings</span><span class="p">;</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-2" name="rest_code_cf34e715ae4649578cd126997566127b-2" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-2"></a><span class="kn">with</span> <span class="n">Ada.Strings.Fixed</span><span class="p">;</span> <span class="kn">use</span> <span class="n">Ada.Strings.Fixed</span><span class="p">;</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-3" name="rest_code_cf34e715ae4649578cd126997566127b-3" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-3"></a><span class="kn">with</span> <span class="n">Ada.Text_IO</span><span class="p">;</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-4" name="rest_code_cf34e715ae4649578cd126997566127b-4" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-4"></a><span class="kn">with</span> <span class="n">Ada.Integer_Text_IO</span><span class="p">;</span> <span class="kn">use</span> <span class="n">Ada.Integer_Text_IO</span><span class="p">;</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-5" name="rest_code_cf34e715ae4649578cd126997566127b-5" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-5"></a><span class="kd">procedure</span> <span class="nf">split_fixed</span> <span class="kr">is</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-6" name="rest_code_cf34e715ae4649578cd126997566127b-6" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-6"></a>   <span class="c1">-- Ada.Text_IO contains a type, Count, that would conflict with</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-7" name="rest_code_cf34e715ae4649578cd126997566127b-7" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-7"></a>   <span class="c1">-- the function Ada.Strings.Fixed.Count, so don't "use Ada.Text_IO;"</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-8" name="rest_code_cf34e715ae4649578cd126997566127b-8" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-8"></a>   <span class="c1">-- instead, make a package the gives it a shorter name, and use all its</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-9" name="rest_code_cf34e715ae4649578cd126997566127b-9" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-9"></a>   <span class="c1">-- procedures with that as the prefix.</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-10" name="rest_code_cf34e715ae4649578cd126997566127b-10" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-10"></a>   <span class="kd">package</span> <span class="nc">ATIO</span> <span class="kr">renames</span> <span class="nc">Ada.Text_IO</span><span class="p">;</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-11" name="rest_code_cf34e715ae4649578cd126997566127b-11" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-11"></a>   <span class="kd">type</span> <span class="kt">String_Ptr</span> <span class="kr">is</span> <span class="kr">access</span> <span class="kt">String</span><span class="p">;</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-12" name="rest_code_cf34e715ae4649578cd126997566127b-12" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-12"></a>   <span class="kd">type</span> <span class="kt">Vector</span> <span class="kr">is</span> <span class="kr">array</span> <span class="p">(</span><span class="kt">Natural</span> <span class="kr">range</span> <span class="p">&lt;&gt;)</span> <span class="kr">of</span> <span class="n">String_Ptr</span><span class="p">;</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-13" name="rest_code_cf34e715ae4649578cd126997566127b-13" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-13"></a>
<a id="rest_code_cf34e715ae4649578cd126997566127b-14" name="rest_code_cf34e715ae4649578cd126997566127b-14" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-14"></a>   <span class="c1">-- Allocate a new String in a storage pool, initializing it to S, and</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-15" name="rest_code_cf34e715ae4649578cd126997566127b-15" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-15"></a>   <span class="c1">-- returning an access to it (a pointer).</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-16" name="rest_code_cf34e715ae4649578cd126997566127b-16" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-16"></a>   <span class="kd">function</span> <span class="nf">"+"</span> <span class="p">(</span><span class="nv">Source</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">String</span><span class="p">)</span> <span class="kr">return</span> <span class="n">String_Ptr</span>  <span class="kr">is</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-17" name="rest_code_cf34e715ae4649578cd126997566127b-17" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-17"></a>      <span class="n">SP</span> <span class="p">:</span> <span class="n">String_Ptr</span> <span class="p">:=</span> <span class="kr">new</span> <span class="kt">String</span><span class="p">'(</span><span class="n">Source</span><span class="p">);</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-18" name="rest_code_cf34e715ae4649578cd126997566127b-18" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-18"></a>   <span class="kr">begin</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-19" name="rest_code_cf34e715ae4649578cd126997566127b-19" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-19"></a>      <span class="kr">return</span> <span class="n">SP</span><span class="p">;</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-20" name="rest_code_cf34e715ae4649578cd126997566127b-20" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-20"></a>   <span class="kr">end</span> <span class="nf">"+"</span><span class="p">;</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-21" name="rest_code_cf34e715ae4649578cd126997566127b-21" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-21"></a>
<a id="rest_code_cf34e715ae4649578cd126997566127b-22" name="rest_code_cf34e715ae4649578cd126997566127b-22" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-22"></a>   <span class="kd">function</span> <span class="nf">Split</span> <span class="p">(</span><span class="nv">S</span><span class="p">: </span><span class="nv">String</span><span class="p">;</span> <span class="nv">Pattern</span><span class="p">: </span><span class="nv">String</span><span class="p">)</span> <span class="kr">return</span> <span class="n">Vector</span> <span class="kr">is</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-23" name="rest_code_cf34e715ae4649578cd126997566127b-23" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-23"></a>      <span class="n">Start</span><span class="p">:</span> <span class="kt">Positive</span> <span class="p">:=</span> <span class="mi">1</span><span class="p">;</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-24" name="rest_code_cf34e715ae4649578cd126997566127b-24" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-24"></a>      <span class="n">Position</span><span class="p">:</span> <span class="kt">Natural</span><span class="p">;</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-25" name="rest_code_cf34e715ae4649578cd126997566127b-25" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-25"></a>      <span class="n">Num_Parts</span><span class="p">:</span> <span class="kt">Natural</span> <span class="p">:=</span> <span class="kt">Count</span> <span class="p">(</span><span class="n">S</span><span class="p">,</span> <span class="n">Pattern</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-26" name="rest_code_cf34e715ae4649578cd126997566127b-26" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-26"></a>      <span class="n">V</span> <span class="p">:</span> <span class="n">Vector</span> <span class="p">(</span><span class="mf">1.</span><span class="p">.</span> <span class="n">Num_Parts</span><span class="p">);</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-27" name="rest_code_cf34e715ae4649578cd126997566127b-27" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-27"></a>      <span class="n">I</span> <span class="p">:</span> <span class="kt">Natural</span> <span class="p">:=</span> <span class="mi">0</span><span class="p">;</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-28" name="rest_code_cf34e715ae4649578cd126997566127b-28" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-28"></a>   <span class="kr">begin</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-29" name="rest_code_cf34e715ae4649578cd126997566127b-29" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-29"></a>      <span class="kr">while</span> <span class="n">Start</span> <span class="o">&lt;=</span> <span class="n">S</span><span class="p">'</span><span class="na">Length</span> <span class="kr">loop</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-30" name="rest_code_cf34e715ae4649578cd126997566127b-30" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-30"></a>         <span class="n">Position</span> <span class="p">:=</span> <span class="n">Index</span> <span class="p">(</span><span class="n">S</span><span class="p">,</span> <span class="n">Pattern</span><span class="p">,</span> <span class="n">Start</span><span class="p">);</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-31" name="rest_code_cf34e715ae4649578cd126997566127b-31" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-31"></a>         <span class="kr">exit</span> <span class="kr">when</span> <span class="n">Position</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-32" name="rest_code_cf34e715ae4649578cd126997566127b-32" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-32"></a>         <span class="n">I</span> <span class="p">:=</span> <span class="n">I</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-33" name="rest_code_cf34e715ae4649578cd126997566127b-33" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-33"></a>         <span class="n">V</span> <span class="p">(</span><span class="n">I</span><span class="p">)</span> <span class="p">:=</span> <span class="o">+</span><span class="n">S</span><span class="p">(</span><span class="n">Start</span><span class="p">..</span><span class="n">Position</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-34" name="rest_code_cf34e715ae4649578cd126997566127b-34" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-34"></a>          <span class="c1">-- The pattern can be longer than one character.</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-35" name="rest_code_cf34e715ae4649578cd126997566127b-35" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-35"></a>         <span class="n">Start</span> <span class="p">:=</span> <span class="n">Position</span> <span class="o">+</span> <span class="n">Pattern</span><span class="p">'</span><span class="na">Length</span><span class="p">;</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-36" name="rest_code_cf34e715ae4649578cd126997566127b-36" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-36"></a>      <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-37" name="rest_code_cf34e715ae4649578cd126997566127b-37" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-37"></a>      <span class="n">I</span> <span class="p">:=</span> <span class="n">I</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-38" name="rest_code_cf34e715ae4649578cd126997566127b-38" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-38"></a>      <span class="n">V</span> <span class="p">(</span><span class="n">I</span><span class="p">)</span> <span class="p">:=</span> <span class="o">+</span><span class="n">S</span><span class="p">(</span><span class="n">Start</span><span class="p">..</span><span class="n">S</span><span class="p">'</span><span class="na">Last</span><span class="p">);</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-39" name="rest_code_cf34e715ae4649578cd126997566127b-39" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-39"></a>
<a id="rest_code_cf34e715ae4649578cd126997566127b-40" name="rest_code_cf34e715ae4649578cd126997566127b-40" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-40"></a>      <span class="kr">return</span> <span class="n">V</span><span class="p">;</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-41" name="rest_code_cf34e715ae4649578cd126997566127b-41" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-41"></a>   <span class="kr">end</span> <span class="nf">Split</span><span class="p">;</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-42" name="rest_code_cf34e715ae4649578cd126997566127b-42" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-42"></a>
<a id="rest_code_cf34e715ae4649578cd126997566127b-43" name="rest_code_cf34e715ae4649578cd126997566127b-43" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-43"></a>   <span class="kd">procedure</span> <span class="nf">Print_Vector</span> <span class="p">(</span><span class="nv">Label</span><span class="p">: </span><span class="nv">String</span><span class="p">;</span> <span class="nv">S</span><span class="p">: </span><span class="nv">String</span><span class="p">;</span> <span class="nv">V</span><span class="p">: </span><span class="nv">Vector</span><span class="p">)</span> <span class="kr">is</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-44" name="rest_code_cf34e715ae4649578cd126997566127b-44" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-44"></a>      <span class="n">N</span><span class="p">:</span> <span class="kt">Natural</span> <span class="p">:=</span> <span class="mi">0</span><span class="p">;</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-45" name="rest_code_cf34e715ae4649578cd126997566127b-45" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-45"></a>   <span class="kr">begin</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-46" name="rest_code_cf34e715ae4649578cd126997566127b-46" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-46"></a>      <span class="n">ATIO</span><span class="p">.</span><span class="n">Put_Line</span> <span class="p">(</span><span class="n">Label</span> <span class="o">&amp;</span> <span class="s">": """</span> <span class="o">&amp;</span> <span class="n">S</span> <span class="o">&amp;</span> <span class="s">""""</span><span class="p">);</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-47" name="rest_code_cf34e715ae4649578cd126997566127b-47" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-47"></a>      <span class="kr">for</span> <span class="n">I</span> <span class="ow">in</span> <span class="n">V</span><span class="p">'</span><span class="na">First</span> <span class="p">..</span> <span class="n">V</span><span class="p">'</span><span class="na">Last</span> <span class="kr">loop</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-48" name="rest_code_cf34e715ae4649578cd126997566127b-48" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-48"></a>         <span class="n">N</span> <span class="p">:=</span> <span class="n">N</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-49" name="rest_code_cf34e715ae4649578cd126997566127b-49" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-49"></a>         <span class="n">ATIO</span><span class="p">.</span><span class="n">Put</span> <span class="p">(</span><span class="s">"    Part "</span><span class="p">);</span> <span class="n">Put</span> <span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="n">ATIO</span><span class="p">.</span><span class="n">Put</span> <span class="p">(</span><span class="s">": """</span><span class="p">);</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-50" name="rest_code_cf34e715ae4649578cd126997566127b-50" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-50"></a>         <span class="n">ATIO</span><span class="p">.</span><span class="n">Put</span> <span class="p">(</span><span class="n">V</span><span class="p">(</span><span class="n">I</span><span class="p">).</span><span class="kr">all</span><span class="p">);</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-51" name="rest_code_cf34e715ae4649578cd126997566127b-51" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-51"></a>         <span class="n">ATIO</span><span class="p">.</span><span class="n">Put_Line</span> <span class="p">(</span><span class="s">""""</span><span class="p">);</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-52" name="rest_code_cf34e715ae4649578cd126997566127b-52" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-52"></a>      <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-53" name="rest_code_cf34e715ae4649578cd126997566127b-53" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-53"></a>   <span class="kr">end</span> <span class="nf">Print_Vector</span><span class="p">;</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-54" name="rest_code_cf34e715ae4649578cd126997566127b-54" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-54"></a>
<a id="rest_code_cf34e715ae4649578cd126997566127b-55" name="rest_code_cf34e715ae4649578cd126997566127b-55" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-55"></a>   <span class="n">S1</span><span class="p">:</span> <span class="kt">String</span> <span class="p">:=</span> <span class="s">"Hello, World!|I am fine!|How are you?"</span><span class="p">;</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-56" name="rest_code_cf34e715ae4649578cd126997566127b-56" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-56"></a>   <span class="n">V1</span><span class="p">:</span> <span class="n">Vector</span> <span class="p">:=</span> <span class="n">Split</span> <span class="p">(</span><span class="n">S1</span><span class="p">,</span> <span class="s">"|"</span><span class="p">);</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-57" name="rest_code_cf34e715ae4649578cd126997566127b-57" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-57"></a>   <span class="n">S2</span><span class="p">:</span> <span class="kt">String</span> <span class="p">:=</span> <span class="s">""</span><span class="p">;</span>                    <span class="c1">--  Empty string.</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-58" name="rest_code_cf34e715ae4649578cd126997566127b-58" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-58"></a>   <span class="n">V2</span><span class="p">:</span> <span class="n">Vector</span> <span class="p">:=</span> <span class="n">Split</span> <span class="p">(</span><span class="n">S2</span><span class="p">,</span> <span class="s">"|"</span><span class="p">);</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-59" name="rest_code_cf34e715ae4649578cd126997566127b-59" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-59"></a>   <span class="n">S3</span><span class="p">:</span> <span class="kt">String</span> <span class="p">:=</span> <span class="s">"|"</span><span class="p">;</span>                   <span class="c1">--  Just one  of pattern.</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-60" name="rest_code_cf34e715ae4649578cd126997566127b-60" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-60"></a>   <span class="n">V3</span><span class="p">:</span> <span class="n">Vector</span> <span class="p">:=</span> <span class="n">Split</span> <span class="p">(</span><span class="n">S3</span><span class="p">,</span> <span class="s">"|"</span><span class="p">);</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-61" name="rest_code_cf34e715ae4649578cd126997566127b-61" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-61"></a>   <span class="n">S4</span><span class="p">:</span> <span class="kt">String</span> <span class="p">:=</span> <span class="s">"||"</span><span class="p">;</span>                  <span class="c1">--  Just two of pattern.</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-62" name="rest_code_cf34e715ae4649578cd126997566127b-62" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-62"></a>   <span class="n">V4</span><span class="p">:</span> <span class="n">Vector</span> <span class="p">:=</span> <span class="n">Split</span> <span class="p">(</span><span class="n">S4</span><span class="p">,</span> <span class="s">"|"</span><span class="p">);</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-63" name="rest_code_cf34e715ae4649578cd126997566127b-63" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-63"></a>   <span class="n">S5</span><span class="p">:</span> <span class="kt">String</span> <span class="p">:=</span> <span class="s">"one"</span><span class="p">;</span>                 <span class="c1">--  Just one part.</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-64" name="rest_code_cf34e715ae4649578cd126997566127b-64" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-64"></a>   <span class="n">V5</span><span class="p">:</span> <span class="n">Vector</span> <span class="p">:=</span> <span class="n">Split</span> <span class="p">(</span><span class="n">S5</span><span class="p">,</span> <span class="s">"|"</span><span class="p">);</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-65" name="rest_code_cf34e715ae4649578cd126997566127b-65" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-65"></a>   <span class="c1">-- The delimiter doesn't have to be one character.</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-66" name="rest_code_cf34e715ae4649578cd126997566127b-66" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-66"></a>   <span class="n">S6</span><span class="p">:</span> <span class="kt">String</span> <span class="p">:=</span> <span class="s">"foo&lt;=&gt;bar"</span><span class="p">;</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-67" name="rest_code_cf34e715ae4649578cd126997566127b-67" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-67"></a>   <span class="n">V6</span><span class="p">:</span> <span class="n">Vector</span> <span class="p">:=</span> <span class="n">Split</span> <span class="p">(</span><span class="n">S6</span><span class="p">,</span> <span class="s">"&lt;=&gt;"</span><span class="p">);</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-68" name="rest_code_cf34e715ae4649578cd126997566127b-68" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-68"></a>
<a id="rest_code_cf34e715ae4649578cd126997566127b-69" name="rest_code_cf34e715ae4649578cd126997566127b-69" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-69"></a><span class="kr">begin</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-70" name="rest_code_cf34e715ae4649578cd126997566127b-70" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-70"></a>   <span class="n">Print_Vector</span> <span class="p">(</span><span class="s">"S1"</span><span class="p">,</span> <span class="n">S1</span><span class="p">,</span> <span class="n">V1</span><span class="p">);</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-71" name="rest_code_cf34e715ae4649578cd126997566127b-71" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-71"></a>   <span class="n">Print_Vector</span> <span class="p">(</span><span class="s">"S2"</span><span class="p">,</span> <span class="n">S2</span><span class="p">,</span> <span class="n">V2</span><span class="p">);</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-72" name="rest_code_cf34e715ae4649578cd126997566127b-72" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-72"></a>   <span class="n">Print_Vector</span> <span class="p">(</span><span class="s">"S3"</span><span class="p">,</span> <span class="n">S3</span><span class="p">,</span> <span class="n">V3</span><span class="p">);</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-73" name="rest_code_cf34e715ae4649578cd126997566127b-73" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-73"></a>   <span class="n">Print_Vector</span> <span class="p">(</span><span class="s">"S4"</span><span class="p">,</span> <span class="n">S4</span><span class="p">,</span> <span class="n">V4</span><span class="p">);</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-74" name="rest_code_cf34e715ae4649578cd126997566127b-74" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-74"></a>   <span class="n">Print_Vector</span> <span class="p">(</span><span class="s">"S5"</span><span class="p">,</span> <span class="n">S5</span><span class="p">,</span> <span class="n">V5</span><span class="p">);</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-75" name="rest_code_cf34e715ae4649578cd126997566127b-75" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-75"></a>   <span class="n">Print_Vector</span> <span class="p">(</span><span class="s">"S6"</span><span class="p">,</span> <span class="n">S6</span><span class="p">,</span> <span class="n">V6</span><span class="p">);</span>
<a id="rest_code_cf34e715ae4649578cd126997566127b-76" name="rest_code_cf34e715ae4649578cd126997566127b-76" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_cf34e715ae4649578cd126997566127b-76"></a><span class="kr">end</span> <span class="nf">split_fixed</span><span class="p">;</span>
</pre></div>
<p>Here's the output:</p>
<pre class="literal-block">S1: "Hello, World!|I am fine!|How are you?"
    Part 1: "Hello, World!"
    Part 2: "I am fine!"
    Part 3: "How are you?"
S2: ""
    Part 1: ""
S3: "|"
    Part 1: ""
    Part 2: ""
S4: "||"
    Part 1: ""
    Part 2: ""
    Part 3: ""
S5: "one"
    Part 1: "one"
S6: "foo&lt;=&gt;bar"
    Part 1: "foo"
    Part 2: "bar"
</pre>
<p>The <code class="docutils literal">Bounded_String</code> type in Ada has a maximum capacity and a
current length.  You instantiate a new package for each different
maximum capacity that you want, producing a different type for each.
You can assign any string smaller than or equal to the maximum length,
and the current length is recorded.</p>
<p>Operations on <code class="docutils literal">Bounded_String</code> are defined in
<a class="reference external" href="http://www.ada-auth.org/standards/rm12_w_tc1/html/RM-A-4-4.html">Ada.Strings.Bounded</a>.</p>
<div class="code"><pre class="code ada"><a id="rest_code_19dbc17845734330801e065f4c2de944-1" name="rest_code_19dbc17845734330801e065f4c2de944-1" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-1"></a><span class="kn">with</span> <span class="n">Ada.Strings</span><span class="p">;</span> <span class="kn">use</span> <span class="n">Ada.Strings</span><span class="p">;</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-2" name="rest_code_19dbc17845734330801e065f4c2de944-2" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-2"></a><span class="kn">with</span> <span class="n">Ada.Strings.Bounded</span><span class="p">;</span> <span class="kn">use</span> <span class="n">Ada.Strings.Bounded</span><span class="p">;</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-3" name="rest_code_19dbc17845734330801e065f4c2de944-3" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-3"></a><span class="kn">with</span> <span class="n">Ada.Text_IO.Bounded_IO</span><span class="p">;</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-4" name="rest_code_19dbc17845734330801e065f4c2de944-4" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-4"></a><span class="kn">with</span> <span class="n">Ada.Text_IO</span><span class="p">;</span> <span class="kn">use</span> <span class="n">Ada.Text_IO</span><span class="p">;</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-5" name="rest_code_19dbc17845734330801e065f4c2de944-5" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-5"></a><span class="kn">with</span> <span class="n">Ada.Integer_Text_IO</span><span class="p">;</span> <span class="kn">use</span> <span class="n">Ada.Integer_Text_IO</span><span class="p">;</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-6" name="rest_code_19dbc17845734330801e065f4c2de944-6" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-6"></a><span class="kd">procedure</span> <span class="nf">split_bounded</span> <span class="kr">is</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-7" name="rest_code_19dbc17845734330801e065f4c2de944-7" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-7"></a>   <span class="kd">package</span> <span class="nc">B_String</span> <span class="kr">is new</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-8" name="rest_code_19dbc17845734330801e065f4c2de944-8" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-8"></a>     <span class="nc">Ada.Strings.Bounded.Generic_Bounded_Length</span> <span class="p">(</span><span class="nv">Max</span> <span class="p">=&gt;</span> 128<span class="p">);</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-9" name="rest_code_19dbc17845734330801e065f4c2de944-9" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-9"></a>   <span class="kn">use</span> <span class="n">B_String</span><span class="p">;</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-10" name="rest_code_19dbc17845734330801e065f4c2de944-10" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-10"></a>   <span class="kd">package</span> <span class="nc">B_String_IO</span> <span class="kr">is new</span> <span class="nc">Bounded_IO</span> <span class="p">(</span>B_String<span class="p">);</span> <span class="kn">use</span> <span class="n">B_String_IO</span><span class="p">;</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-11" name="rest_code_19dbc17845734330801e065f4c2de944-11" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-11"></a>
<a id="rest_code_19dbc17845734330801e065f4c2de944-12" name="rest_code_19dbc17845734330801e065f4c2de944-12" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-12"></a>   <span class="kd">type</span> <span class="kt">Vector</span> <span class="kr">is</span> <span class="kr">array</span> <span class="p">(</span><span class="kt">Natural</span> <span class="kr">range</span> <span class="p">&lt;&gt;)</span> <span class="kr">of</span> <span class="n">Bounded_String</span><span class="p">;</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-13" name="rest_code_19dbc17845734330801e065f4c2de944-13" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-13"></a>
<a id="rest_code_19dbc17845734330801e065f4c2de944-14" name="rest_code_19dbc17845734330801e065f4c2de944-14" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-14"></a>   <span class="kd">function</span> <span class="nf">Split</span> <span class="p">(</span><span class="nv">S</span><span class="p">: </span><span class="nv">Bounded_String</span><span class="p">;</span> <span class="nv">Pattern</span><span class="p">: </span><span class="nv">String</span><span class="p">)</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-15" name="rest_code_19dbc17845734330801e065f4c2de944-15" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-15"></a>                  <span class="kr">return</span> <span class="n">Vector</span> <span class="kr">is</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-16" name="rest_code_19dbc17845734330801e065f4c2de944-16" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-16"></a>      <span class="n">Start</span><span class="p">:</span> <span class="kt">Positive</span> <span class="p">:=</span> <span class="mi">1</span><span class="p">;</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-17" name="rest_code_19dbc17845734330801e065f4c2de944-17" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-17"></a>      <span class="n">Position</span><span class="p">:</span> <span class="kt">Natural</span><span class="p">;</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-18" name="rest_code_19dbc17845734330801e065f4c2de944-18" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-18"></a>      <span class="n">Num_Parts</span><span class="p">:</span> <span class="kt">Natural</span> <span class="p">:=</span> <span class="n">B_String</span><span class="p">.</span><span class="kt">Count</span> <span class="p">(</span><span class="n">S</span><span class="p">,</span> <span class="n">Pattern</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-19" name="rest_code_19dbc17845734330801e065f4c2de944-19" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-19"></a>      <span class="n">V</span> <span class="p">:</span> <span class="n">Vector</span> <span class="p">(</span><span class="mi">1</span> <span class="p">..</span> <span class="n">Num_Parts</span><span class="p">);</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-20" name="rest_code_19dbc17845734330801e065f4c2de944-20" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-20"></a>      <span class="n">I</span> <span class="p">:</span> <span class="kt">Natural</span> <span class="p">:=</span> <span class="mi">0</span><span class="p">;</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-21" name="rest_code_19dbc17845734330801e065f4c2de944-21" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-21"></a>   <span class="kr">begin</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-22" name="rest_code_19dbc17845734330801e065f4c2de944-22" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-22"></a>      <span class="kr">while</span> <span class="n">Start</span> <span class="o">&lt;=</span> <span class="n">Length</span> <span class="p">(</span><span class="n">S</span><span class="p">)</span> <span class="kr">loop</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-23" name="rest_code_19dbc17845734330801e065f4c2de944-23" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-23"></a>         <span class="n">Position</span> <span class="p">:=</span> <span class="n">Index</span> <span class="p">(</span><span class="n">S</span><span class="p">,</span> <span class="n">Pattern</span><span class="p">,</span> <span class="n">Start</span><span class="p">);</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-24" name="rest_code_19dbc17845734330801e065f4c2de944-24" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-24"></a>         <span class="kr">exit</span> <span class="kr">when</span> <span class="n">Position</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-25" name="rest_code_19dbc17845734330801e065f4c2de944-25" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-25"></a>         <span class="n">I</span> <span class="p">:=</span> <span class="n">I</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-26" name="rest_code_19dbc17845734330801e065f4c2de944-26" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-26"></a>         <span class="n">V</span> <span class="p">(</span><span class="n">I</span><span class="p">)</span> <span class="p">:=</span> <span class="n">Bounded_Slice</span> <span class="p">(</span><span class="n">S</span><span class="p">,</span> <span class="n">Start</span><span class="p">,</span> <span class="n">Position</span> <span class="o">-</span> <span class="mi">1</span><span class="p">);</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-27" name="rest_code_19dbc17845734330801e065f4c2de944-27" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-27"></a>          <span class="c1">-- The pattern can be longer than one character.</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-28" name="rest_code_19dbc17845734330801e065f4c2de944-28" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-28"></a>         <span class="n">Start</span> <span class="p">:=</span> <span class="n">Position</span> <span class="o">+</span> <span class="n">Pattern</span><span class="p">'</span><span class="na">Length</span><span class="p">;</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-29" name="rest_code_19dbc17845734330801e065f4c2de944-29" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-29"></a>      <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-30" name="rest_code_19dbc17845734330801e065f4c2de944-30" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-30"></a>      <span class="n">I</span> <span class="p">:=</span> <span class="n">I</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-31" name="rest_code_19dbc17845734330801e065f4c2de944-31" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-31"></a>      <span class="n">V</span> <span class="p">(</span><span class="n">I</span><span class="p">)</span> <span class="p">:=</span> <span class="n">Bounded_Slice</span> <span class="p">(</span><span class="n">S</span><span class="p">,</span> <span class="n">Start</span><span class="p">,</span> <span class="n">Length</span> <span class="p">(</span><span class="n">S</span><span class="p">));</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-32" name="rest_code_19dbc17845734330801e065f4c2de944-32" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-32"></a>
<a id="rest_code_19dbc17845734330801e065f4c2de944-33" name="rest_code_19dbc17845734330801e065f4c2de944-33" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-33"></a>      <span class="kr">return</span> <span class="n">V</span><span class="p">;</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-34" name="rest_code_19dbc17845734330801e065f4c2de944-34" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-34"></a>   <span class="kr">end</span> <span class="nf">Split</span><span class="p">;</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-35" name="rest_code_19dbc17845734330801e065f4c2de944-35" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-35"></a>
<a id="rest_code_19dbc17845734330801e065f4c2de944-36" name="rest_code_19dbc17845734330801e065f4c2de944-36" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-36"></a>   <span class="kd">procedure</span> <span class="nf">Print_Vector</span> <span class="p">(</span><span class="nv">Label</span><span class="p">: </span><span class="nv">String</span><span class="p">;</span> <span class="nv">S</span><span class="p">: </span><span class="nv">Bounded_String</span><span class="p">;</span> <span class="nv">V</span><span class="p">: </span><span class="nv">Vector</span><span class="p">)</span> <span class="kr">is</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-37" name="rest_code_19dbc17845734330801e065f4c2de944-37" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-37"></a>      <span class="n">N</span> <span class="p">:</span> <span class="kt">Natural</span> <span class="p">:=</span> <span class="mi">0</span><span class="p">;</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-38" name="rest_code_19dbc17845734330801e065f4c2de944-38" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-38"></a>   <span class="kr">begin</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-39" name="rest_code_19dbc17845734330801e065f4c2de944-39" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-39"></a>      <span class="n">Put_Line</span> <span class="p">(</span><span class="n">label</span> <span class="o">&amp;</span> <span class="s">": """</span> <span class="o">&amp;</span> <span class="n">S</span> <span class="o">&amp;</span> <span class="s">""""</span><span class="p">);</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-40" name="rest_code_19dbc17845734330801e065f4c2de944-40" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-40"></a>      <span class="kr">for</span> <span class="n">I</span> <span class="ow">in</span> <span class="n">V</span><span class="p">'</span><span class="na">First</span> <span class="p">..</span> <span class="n">V</span><span class="p">'</span><span class="na">Last</span> <span class="kr">loop</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-41" name="rest_code_19dbc17845734330801e065f4c2de944-41" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-41"></a>         <span class="n">N</span> <span class="p">:=</span> <span class="n">N</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-42" name="rest_code_19dbc17845734330801e065f4c2de944-42" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-42"></a>         <span class="n">Put</span> <span class="p">(</span><span class="s">"    Part "</span><span class="p">);</span> <span class="n">Put</span> <span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="n">Put</span> <span class="p">(</span><span class="s">": """</span><span class="p">);</span> <span class="n">Put</span> <span class="p">(</span><span class="n">V</span><span class="p">(</span><span class="n">I</span><span class="p">));</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-43" name="rest_code_19dbc17845734330801e065f4c2de944-43" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-43"></a>         <span class="n">Put_Line</span> <span class="p">(</span><span class="s">""""</span><span class="p">);</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-44" name="rest_code_19dbc17845734330801e065f4c2de944-44" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-44"></a>      <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-45" name="rest_code_19dbc17845734330801e065f4c2de944-45" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-45"></a>   <span class="kr">end</span> <span class="nf">Print_Vector</span><span class="p">;</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-46" name="rest_code_19dbc17845734330801e065f4c2de944-46" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-46"></a>
<a id="rest_code_19dbc17845734330801e065f4c2de944-47" name="rest_code_19dbc17845734330801e065f4c2de944-47" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-47"></a>   <span class="n">S1</span><span class="p">:</span> <span class="n">Bounded_String</span> <span class="p">:=</span> <span class="n">To_Bounded_String</span> <span class="p">(</span><span class="s">"Hello, World!|I am fine!|How are you?"</span><span class="p">);</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-48" name="rest_code_19dbc17845734330801e065f4c2de944-48" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-48"></a>   <span class="n">V1</span><span class="p">:</span> <span class="n">Vector</span> <span class="p">:=</span> <span class="n">Split</span> <span class="p">(</span><span class="n">S1</span><span class="p">,</span> <span class="s">"|"</span><span class="p">);</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-49" name="rest_code_19dbc17845734330801e065f4c2de944-49" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-49"></a>   <span class="n">S2</span><span class="p">:</span> <span class="n">Bounded_String</span> <span class="p">:=</span> <span class="n">To_Bounded_String</span> <span class="p">(</span><span class="s">""</span><span class="p">);</span>      <span class="c1">--  Empty string.</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-50" name="rest_code_19dbc17845734330801e065f4c2de944-50" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-50"></a>   <span class="n">V2</span><span class="p">:</span> <span class="n">Vector</span> <span class="p">:=</span> <span class="n">Split</span> <span class="p">(</span><span class="n">S2</span><span class="p">,</span> <span class="s">"|"</span><span class="p">);</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-51" name="rest_code_19dbc17845734330801e065f4c2de944-51" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-51"></a>   <span class="n">S3</span><span class="p">:</span> <span class="n">Bounded_String</span> <span class="p">:=</span> <span class="n">To_Bounded_String</span> <span class="p">(</span><span class="s">"|"</span><span class="p">);</span>     <span class="c1">--  Just one  of pattern.</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-52" name="rest_code_19dbc17845734330801e065f4c2de944-52" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-52"></a>   <span class="n">V3</span><span class="p">:</span> <span class="n">Vector</span> <span class="p">:=</span> <span class="n">Split</span> <span class="p">(</span><span class="n">S3</span><span class="p">,</span> <span class="s">"|"</span><span class="p">);</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-53" name="rest_code_19dbc17845734330801e065f4c2de944-53" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-53"></a>   <span class="n">S4</span><span class="p">:</span> <span class="n">Bounded_String</span> <span class="p">:=</span> <span class="n">To_Bounded_String</span> <span class="p">(</span><span class="s">"||"</span><span class="p">);</span>    <span class="c1">--  Just two of pattern.</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-54" name="rest_code_19dbc17845734330801e065f4c2de944-54" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-54"></a>   <span class="n">V4</span><span class="p">:</span> <span class="n">Vector</span> <span class="p">:=</span> <span class="n">Split</span> <span class="p">(</span><span class="n">S4</span><span class="p">,</span> <span class="s">"|"</span><span class="p">);</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-55" name="rest_code_19dbc17845734330801e065f4c2de944-55" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-55"></a>   <span class="n">S5</span><span class="p">:</span> <span class="n">Bounded_String</span> <span class="p">:=</span> <span class="n">To_Bounded_String</span> <span class="p">(</span><span class="s">"one"</span><span class="p">);</span>   <span class="c1">--  Just one part.</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-56" name="rest_code_19dbc17845734330801e065f4c2de944-56" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-56"></a>   <span class="n">V5</span><span class="p">:</span> <span class="n">Vector</span> <span class="p">:=</span> <span class="n">Split</span> <span class="p">(</span><span class="n">S5</span><span class="p">,</span> <span class="s">"|"</span><span class="p">);</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-57" name="rest_code_19dbc17845734330801e065f4c2de944-57" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-57"></a>   <span class="c1">-- The delimiter doesn't have to be one character.</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-58" name="rest_code_19dbc17845734330801e065f4c2de944-58" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-58"></a>   <span class="n">S6</span><span class="p">:</span> <span class="n">Bounded_String</span> <span class="p">:=</span> <span class="n">To_Bounded_String</span> <span class="p">(</span><span class="s">"foo&lt;=&gt;bar"</span><span class="p">);</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-59" name="rest_code_19dbc17845734330801e065f4c2de944-59" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-59"></a>   <span class="n">V6</span><span class="p">:</span> <span class="n">Vector</span> <span class="p">:=</span> <span class="n">Split</span> <span class="p">(</span><span class="n">S6</span><span class="p">,</span> <span class="s">"&lt;=&gt;"</span><span class="p">);</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-60" name="rest_code_19dbc17845734330801e065f4c2de944-60" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-60"></a>
<a id="rest_code_19dbc17845734330801e065f4c2de944-61" name="rest_code_19dbc17845734330801e065f4c2de944-61" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-61"></a><span class="kr">begin</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-62" name="rest_code_19dbc17845734330801e065f4c2de944-62" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-62"></a>   <span class="n">Print_Vector</span> <span class="p">(</span><span class="s">"S1"</span><span class="p">,</span> <span class="n">S1</span><span class="p">,</span> <span class="n">V1</span><span class="p">);</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-63" name="rest_code_19dbc17845734330801e065f4c2de944-63" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-63"></a>   <span class="n">Print_Vector</span> <span class="p">(</span><span class="s">"S2"</span><span class="p">,</span> <span class="n">S2</span><span class="p">,</span> <span class="n">V2</span><span class="p">);</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-64" name="rest_code_19dbc17845734330801e065f4c2de944-64" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-64"></a>   <span class="n">Print_Vector</span> <span class="p">(</span><span class="s">"S3"</span><span class="p">,</span> <span class="n">S3</span><span class="p">,</span> <span class="n">V3</span><span class="p">);</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-65" name="rest_code_19dbc17845734330801e065f4c2de944-65" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-65"></a>   <span class="n">Print_Vector</span> <span class="p">(</span><span class="s">"S4"</span><span class="p">,</span> <span class="n">S4</span><span class="p">,</span> <span class="n">V4</span><span class="p">);</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-66" name="rest_code_19dbc17845734330801e065f4c2de944-66" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-66"></a>   <span class="n">Print_Vector</span> <span class="p">(</span><span class="s">"S5"</span><span class="p">,</span> <span class="n">S5</span><span class="p">,</span> <span class="n">V5</span><span class="p">);</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-67" name="rest_code_19dbc17845734330801e065f4c2de944-67" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-67"></a>   <span class="n">Print_Vector</span> <span class="p">(</span><span class="s">"S6"</span><span class="p">,</span> <span class="n">S6</span><span class="p">,</span> <span class="n">V6</span><span class="p">);</span>
<a id="rest_code_19dbc17845734330801e065f4c2de944-68" name="rest_code_19dbc17845734330801e065f4c2de944-68" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_19dbc17845734330801e065f4c2de944-68"></a><span class="kr">end</span> <span class="nf">split_bounded</span><span class="p">;</span>
</pre></div>
<p>Here's the output:</p>
<pre class="literal-block">S1: "Hello, World!|I am fine!|How are you?"
    Part 1: "Hello, World!"
    Part 2: "I am fine!"
    Part 3: "How are you?"
S2: ""
    Part 1: ""
S3: "|"
    Part 1: ""
    Part 2: ""
S4: "||"
    Part 1: ""
    Part 2: ""
    Part 3: ""
S5: "one"
    Part 1: "one"
S6: "foo&lt;=&gt;bar"
    Part 1: "foo"
    Part 2: "bar"
</pre>
<p>The <code class="docutils literal">Unbounded_String</code> type in Ada grows dynamically as needed,
but is not as time efficient as fixed strings or bounded strings.
For this version, we'll use <a class="reference external" href="http://www.ada-auth.org/standards/rm12_w_tc1/html/RM-A-18-2.html">Ada.Containers.Vectors</a> for a
dynamically expending vector, rather than a fixed size vector.</p>
<p>Operations on <code class="docutils literal">Unbounded_String</code> are defined in
<a class="reference external" href="http://www.ada-auth.org/standards/rm12_w_tc1/html/RM-A-4-5.html">Ada.Strings.Unbounded</a>.</p>
<div class="code"><pre class="code ada"><a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-1" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-1" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-1"></a><span class="kn">with</span> <span class="n">Ada.Strings.Unbounded</span><span class="p">;</span> <span class="kn">use</span> <span class="n">Ada.Strings.Unbounded</span><span class="p">;</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-2" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-2" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-2"></a><span class="kn">with</span> <span class="n">Ada.Text_IO</span><span class="p">;</span> <span class="kn">use</span> <span class="n">Ada.Text_IO</span><span class="p">;</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-3" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-3" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-3"></a><span class="kn">with</span> <span class="n">Ada.Integer_Text_IO</span><span class="p">;</span> <span class="kn">use</span> <span class="n">Ada.Integer_Text_Io</span><span class="p">;</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-4" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-4" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-4"></a><span class="kn">with</span> <span class="n">Ada.Text_IO.Unbounded_IO</span><span class="p">;</span> <span class="kn">use</span> <span class="n">Ada.Text_IO.Unbounded_IO</span><span class="p">;</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-5" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-5" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-5"></a><span class="kn">with</span> <span class="n">Ada.Containers.Vectors</span><span class="p">;</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-6" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-6" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-6"></a><span class="kd">procedure</span> <span class="nf">split_unbounded</span> <span class="kr">is</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-7" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-7" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-7"></a>   <span class="kd">package</span> <span class="nc">Unbounded_String_Vectors</span> <span class="kr">is new</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-8" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-8" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-8"></a>     <span class="nc">Ada.Containers.Vectors</span> <span class="p">(</span>Natural<span class="p">,</span> Unbounded_String<span class="p">);</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-9" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-9" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-9"></a>   <span class="kn">use</span> <span class="n">Unbounded_String_Vectors</span><span class="p">;</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-10" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-10" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-10"></a>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-11" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-11" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-11"></a>   <span class="kd">function</span> <span class="nf">"+"</span> <span class="p">(</span><span class="nv">Source</span> <span class="p">: </span><span class="nv">in</span> <span class="nv">String</span><span class="p">)</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-12" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-12" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-12"></a>                <span class="kr">return</span> <span class="n">Unbounded_String</span> <span class="kr">renames</span> <span class="n">To_Unbounded_String</span><span class="p">;</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-13" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-13" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-13"></a>   <span class="kd">subtype</span> <span class="kt">UBS_Vector</span> <span class="kr">is</span> <span class="n">Unbounded_String_Vectors</span><span class="p">.</span><span class="n">Vector</span><span class="p">;</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-14" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-14" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-14"></a>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-15" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-15" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-15"></a>   <span class="kd">function</span> <span class="nf">Split</span> <span class="p">(</span><span class="nv">S</span><span class="p">: </span><span class="nv">Unbounded_String</span><span class="p">;</span> <span class="nv">Pattern</span><span class="p">: </span><span class="nv">String</span><span class="p">)</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-16" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-16" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-16"></a>                  <span class="kr">return</span> <span class="n">UBS_Vector</span> <span class="kr">is</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-17" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-17" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-17"></a>      <span class="n">Start</span><span class="p">:</span> <span class="kt">Positive</span> <span class="p">:=</span> <span class="mi">1</span><span class="p">;</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-18" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-18" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-18"></a>      <span class="n">Position</span><span class="p">:</span> <span class="kt">Natural</span><span class="p">;</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-19" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-19" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-19"></a>      <span class="n">Num_Parts</span><span class="p">:</span> <span class="kt">Natural</span> <span class="p">:=</span> <span class="mi">0</span><span class="p">;</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-20" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-20" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-20"></a>      <span class="n">V</span> <span class="p">:</span> <span class="n">UBS_Vector</span><span class="p">;</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-21" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-21" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-21"></a>   <span class="kr">begin</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-22" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-22" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-22"></a>      <span class="kr">while</span> <span class="n">Start</span> <span class="o">&lt;=</span> <span class="n">Length</span> <span class="p">(</span><span class="n">S</span><span class="p">)</span> <span class="kr">loop</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-23" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-23" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-23"></a>         <span class="n">Position</span> <span class="p">:=</span> <span class="n">Index</span> <span class="p">(</span><span class="n">S</span><span class="p">,</span> <span class="n">Pattern</span><span class="p">,</span> <span class="n">Start</span><span class="p">);</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-24" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-24" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-24"></a>         <span class="kr">exit</span> <span class="kr">when</span> <span class="n">Position</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-25" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-25" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-25"></a>         <span class="n">Append</span> <span class="p">(</span><span class="n">V</span><span class="p">,</span> <span class="n">Unbounded_Slice</span> <span class="p">(</span><span class="n">S</span><span class="p">,</span> <span class="n">Start</span><span class="p">,</span> <span class="n">Position</span> <span class="o">-</span> <span class="mi">1</span><span class="p">));</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-26" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-26" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-26"></a>          <span class="c1">-- The pattern can be longer than one character.</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-27" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-27" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-27"></a>         <span class="n">Start</span> <span class="p">:=</span> <span class="n">Position</span> <span class="o">+</span> <span class="n">Pattern</span><span class="p">'</span><span class="na">Length</span><span class="p">;</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-28" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-28" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-28"></a>      <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-29" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-29" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-29"></a>      <span class="n">Num_Parts</span> <span class="p">:=</span> <span class="n">Num_Parts</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-30" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-30" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-30"></a>      <span class="n">Append</span> <span class="p">(</span><span class="n">V</span><span class="p">,</span> <span class="n">Unbounded_Slice</span> <span class="p">(</span><span class="n">S</span><span class="p">,</span> <span class="n">Start</span><span class="p">,</span> <span class="n">Length</span> <span class="p">(</span><span class="n">S</span><span class="p">)));</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-31" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-31" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-31"></a>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-32" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-32" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-32"></a>      <span class="kr">return</span> <span class="n">V</span><span class="p">;</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-33" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-33" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-33"></a>   <span class="kr">end</span> <span class="nf">Split</span><span class="p">;</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-34" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-34" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-34"></a>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-35" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-35" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-35"></a>   <span class="kd">procedure</span> <span class="nf">Print_UBS_Vector</span> <span class="p">(</span><span class="nv">Label</span><span class="p">: </span><span class="nv">String</span><span class="p">;</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-36" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-36" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-36"></a>                               <span class="nv">S</span><span class="p">: </span><span class="nv">Unbounded_String</span><span class="p">;</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-37" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-37" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-37"></a>                               <span class="nv">V</span><span class="p">: </span><span class="nv">UBS_Vector</span><span class="p">)</span> <span class="kr">is</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-38" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-38" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-38"></a>      <span class="n">N</span> <span class="p">:</span> <span class="kt">Natural</span> <span class="p">:=</span> <span class="mi">0</span><span class="p">;</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-39" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-39" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-39"></a>   <span class="kr">begin</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-40" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-40" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-40"></a>      <span class="n">Put_Line</span> <span class="p">(</span><span class="n">Label</span> <span class="o">&amp;</span> <span class="s">": """</span> <span class="o">&amp;</span> <span class="n">to_string</span> <span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">&amp;</span> <span class="s">""""</span><span class="p">);</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-41" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-41" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-41"></a>      <span class="kr">for</span> <span class="n">I</span> <span class="ow">in</span> <span class="n">V</span><span class="p">.</span><span class="n">First_Index</span> <span class="p">..</span> <span class="n">V</span><span class="p">.</span><span class="n">Last_Index</span> <span class="kr">loop</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-42" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-42" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-42"></a>         <span class="n">N</span> <span class="p">:=</span> <span class="n">N</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-43" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-43" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-43"></a>         <span class="n">Put</span> <span class="p">(</span><span class="s">"    Part "</span><span class="p">);</span> <span class="n">Put</span> <span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="n">Put</span> <span class="p">(</span><span class="s">": """</span><span class="p">);</span> <span class="n">Put</span> <span class="p">(</span><span class="n">V</span><span class="p">(</span><span class="n">I</span><span class="p">));</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-44" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-44" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-44"></a>         <span class="n">Put_Line</span> <span class="p">(</span><span class="s">""""</span><span class="p">);</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-45" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-45" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-45"></a>      <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-46" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-46" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-46"></a>   <span class="kr">end</span> <span class="nf">Print_UBS_Vector</span><span class="p">;</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-47" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-47" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-47"></a>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-48" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-48" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-48"></a>   <span class="n">S1</span><span class="p">:</span> <span class="n">Unbounded_String</span> <span class="p">:=</span> <span class="o">+</span><span class="s">"Hello, World!|I am fine!|How are you?"</span><span class="p">;</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-49" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-49" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-49"></a>   <span class="n">V1</span><span class="p">:</span> <span class="n">UBS_Vector</span> <span class="p">:=</span> <span class="n">Split</span> <span class="p">(</span><span class="n">S1</span><span class="p">,</span> <span class="s">"|"</span><span class="p">);</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-50" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-50" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-50"></a>   <span class="n">S2</span><span class="p">:</span> <span class="n">Unbounded_String</span> <span class="p">:=</span> <span class="o">+</span><span class="s">""</span><span class="p">;</span>         <span class="c1">--  Empty string.</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-51" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-51" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-51"></a>   <span class="n">V2</span><span class="p">:</span> <span class="n">UBS_Vector</span> <span class="p">:=</span> <span class="n">Split</span> <span class="p">(</span><span class="n">S2</span><span class="p">,</span> <span class="s">"|"</span><span class="p">);</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-52" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-52" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-52"></a>   <span class="n">S3</span><span class="p">:</span> <span class="n">Unbounded_String</span> <span class="p">:=</span> <span class="o">+</span><span class="s">"|"</span><span class="p">;</span>        <span class="c1">--  Just one  of pattern.</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-53" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-53" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-53"></a>   <span class="n">V3</span><span class="p">:</span> <span class="n">UBS_Vector</span> <span class="p">:=</span> <span class="n">Split</span> <span class="p">(</span><span class="n">S3</span><span class="p">,</span> <span class="s">"|"</span><span class="p">);</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-54" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-54" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-54"></a>   <span class="n">S4</span><span class="p">:</span> <span class="n">Unbounded_String</span> <span class="p">:=</span> <span class="o">+</span><span class="s">"||"</span><span class="p">;</span>       <span class="c1">--  Just two of pattern.</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-55" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-55" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-55"></a>   <span class="n">V4</span><span class="p">:</span> <span class="n">UBS_Vector</span> <span class="p">:=</span> <span class="n">Split</span> <span class="p">(</span><span class="n">S4</span><span class="p">,</span> <span class="s">"|"</span><span class="p">);</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-56" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-56" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-56"></a>   <span class="n">S5</span><span class="p">:</span> <span class="n">Unbounded_String</span> <span class="p">:=</span> <span class="o">+</span><span class="s">"one"</span><span class="p">;</span>      <span class="c1">--  Just one part.</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-57" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-57" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-57"></a>   <span class="n">V5</span><span class="p">:</span> <span class="n">UBS_Vector</span> <span class="p">:=</span> <span class="n">Split</span> <span class="p">(</span><span class="n">S5</span><span class="p">,</span> <span class="s">"|"</span><span class="p">);</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-58" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-58" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-58"></a>   <span class="c1">-- The delimiter doesn't have to be one character.</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-59" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-59" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-59"></a>   <span class="n">S6</span><span class="p">:</span> <span class="n">Unbounded_String</span> <span class="p">:=</span> <span class="o">+</span><span class="s">"foo&lt;=&gt;bar"</span><span class="p">;</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-60" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-60" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-60"></a>   <span class="n">V6</span><span class="p">:</span> <span class="n">UBS_Vector</span> <span class="p">:=</span> <span class="n">Split</span> <span class="p">(</span><span class="n">S6</span><span class="p">,</span> <span class="s">"&lt;=&gt;"</span><span class="p">);</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-61" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-61" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-61"></a>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-62" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-62" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-62"></a><span class="kr">begin</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-63" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-63" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-63"></a>   <span class="n">Print_UBS_Vector</span> <span class="p">(</span><span class="s">"S1"</span><span class="p">,</span> <span class="n">S1</span><span class="p">,</span> <span class="n">V1</span><span class="p">);</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-64" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-64" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-64"></a>   <span class="n">Print_UBS_Vector</span> <span class="p">(</span><span class="s">"S2"</span><span class="p">,</span> <span class="n">S2</span><span class="p">,</span> <span class="n">V2</span><span class="p">);</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-65" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-65" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-65"></a>   <span class="n">Print_UBS_Vector</span> <span class="p">(</span><span class="s">"S3"</span><span class="p">,</span> <span class="n">S3</span><span class="p">,</span> <span class="n">V3</span><span class="p">);</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-66" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-66" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-66"></a>   <span class="n">Print_UBS_Vector</span> <span class="p">(</span><span class="s">"S4"</span><span class="p">,</span> <span class="n">S4</span><span class="p">,</span> <span class="n">V4</span><span class="p">);</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-67" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-67" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-67"></a>   <span class="n">Print_UBS_Vector</span> <span class="p">(</span><span class="s">"S5"</span><span class="p">,</span> <span class="n">S5</span><span class="p">,</span> <span class="n">V5</span><span class="p">);</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-68" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-68" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-68"></a>   <span class="n">Print_UBS_Vector</span> <span class="p">(</span><span class="s">"S6"</span><span class="p">,</span> <span class="n">S6</span><span class="p">,</span> <span class="n">V6</span><span class="p">);</span>
<a id="rest_code_43c52450cfb94e9bb401ebcc4216e711-69" name="rest_code_43c52450cfb94e9bb401ebcc4216e711-69" href="posts/2022/08/05/splitting-strings-on-a-delimiter-in-the-ada-programming-language/#rest_code_43c52450cfb94e9bb401ebcc4216e711-69"></a><span class="kr">end</span> <span class="nf">split_unbounded</span><span class="p">;</span>
</pre></div>
<p>Here's the output:</p>
<pre class="literal-block">S1: "Hello, World!|I am fine!|How are you?"
    Part 1: "Hello, World!"
    Part 2: "I am fine!"
    Part 3: "How are you?"
S2: ""
    Part 1: ""
S3: "|"
    Part 1: ""
    Part 2: ""
S4: "||"
    Part 1: ""
    Part 2: ""
    Part 3: ""
S5: "one"
    Part 1: "one"
S6: "foo&lt;=&gt;bar"
    Part 1: "foo"
    Part 2: "bar"
</pre>
<!-- Local Variables:
time-stamp-format: "%Y-%02m-%02d %02H:%02M:%02S %Z"
time-stamp-start: "\\*Last edited:[ \t]+\\\\?"
time-stamp-end: "\\*\\\\?\n"
End: -->
    <nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="categories/ada/" rel="tag">ada</a></li>
            <li><a class="tag p-category" href="categories/programming/" rel="tag">programming</a></li>
            <li><a class="tag p-category" href="categories/splitting-strings/" rel="tag">splitting strings</a></li>
            <li><a class="tag p-category" href="categories/splitting-strings-in-ada/" rel="tag">splitting strings in ada</a></li>
        </ul></nav>
</div>
    </article><article class="blog-post h-entry post-text"><header><h2 class="p-name entry-title blog-post-title"><a href="posts/2022/07/09/using-the-old-version-of-ada-mode-for-emacs/" class="u-url">Using the old version of Ada Mode for Emacs</a></h2>
        <div class="metadata blog-post-meta">
            <p class="byline author vcard"><span class="byline-name fn">T. Kurt Bond</span></p>
            <p class="dateline"><a href="posts/2022/07/09/using-the-old-version-of-ada-mode-for-emacs/" rel="bookmark"><time class="published dt-published" datetime="2022-07-09T22:20:40-04:00" title="2022-07-09 22:20">2022-07-09 22:20</time></a></p>
                <p class="commentline">        <a href="posts/2022/07/09/using-the-old-version-of-ada-mode-for-emacs/#disqus_thread" data-disqus-identifier="cache/posts/2022/07/09/using-the-old-version-of-ada-mode-for-emacs.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p><em>Last edited: 2022-12-06 14:33:55 EST</em></p>
<p>There are a lot of things to like about the <a class="reference external" href="https://en.wikipedia.org/wiki/Ada_(programming_language)">Ada</a> programming language;
it seems to have a solid core of users, enough to support multiple
commercial implementations and a <a class="reference external" href="https://en.wikipedia.org/wiki/Free_software">free/libre software</a> implementation
that is part of the <a class="reference external" href="https://gcc.gnu.org/">GNU Compiler Collection</a>.  I occasionally use it
myself.</p>
<p><strong>However:</strong> I'm sure that the current version of <a class="reference external" href="https://www.nongnu.org/ada-mode/">Ada Mode</a> for
<a class="reference external" href="https://www.gnu.org/software/emacs/">Emacs</a> (available as an <a class="reference external" href="https://elpa.gnu.org/">ELPA</a> <a class="reference external" href="https://elpa.gnu.org/packages/ada-mode.html">package</a>, and thus not included in
<span class="app">Emacs</span> itself), which provides smart editing for the <a class="reference external" href="https://en.wikipedia.org/wiki/Ada_(programming_language)">Ada</a>
programming language, and uses an external parser for the indentation,
fontification<a class="footnote-reference brackets" href="posts/2022/07/09/using-the-old-version-of-ada-mode-for-emacs/#fontification" id="footnote-reference-1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>, and navigation engine, is wonderful
if you can get it working, but I have <strong>never</strong> been able to get it to
work.  My most recent try was today on Fedora 36 using GNAT 12.1.1
20220507 (Red Hat 12.1.1-1).</p>
<p>Here's what happened when I tried to build the Ada code for the
parser, which is supplied as part of the <code class="docutils literal"><span class="pre">ada-mode</span></code>:</p>
<pre class="literal-block">$ ./build.sh
ada_mode_wisi_parse.gpr:44:26: warning: object directory "obj" not found
Setup
   [mkdir]        object directory for project Ada_Mode_Wisi_Parse
Compile
   [Ada]          ada_mode_wisi_lalr_parse.ads
   [Ada]          ada_mode_wisi_lr1_parse.ads
   [Ada]          run_ada_lalr_parse.ads
   [Ada]          run_ada_lr1_parse.ads
   [Ada]          gpr_mode_wisi_parse.ads
   [Ada]          run_gpr_parse.ads
   [Ada]          gpr_query.adb
   [C]            wisitoken_grammar_re2c.c
   [C]            ada_re2c.c
   [C]            gpr_re2c.c
   [Ada]          ada_process_actions.adb
   [Ada]          ada_process_lr1_main.adb
   [Ada]          gen_run_wisi_lr_text_rep_parse.adb
   [Ada]          run_wisi_common_parse.adb
   [Ada]          wisi.adb
gnatcoll-sql.adb:742:07: error: ambiguous expression (cannot resolve "Append")
gnatcoll-sql.adb:742:07: error: possible interpretation at a-coinve.ads:280, instance at gnatcoll-sql.ads:1109
gnatcoll-sql.adb:742:07: error: possible interpretation at a-coinve.ads:270, instance at gnatcoll-sql.ads:1109

   compilation of gpr_query.adb failed

gprbuild: *** compilation phase failed</pre>
<p>Sigh.  Without the external parser the current <a class="reference external" href="https://www.nongnu.org/ada-mode/">Ada Mode</a> is
completely unworkable: it doesn't even do indentation correctly, much
less do fontification.</p>
<p>However, when I did some Ada work a number of years ago, I was ok
with the version that used to be in <span class="app">Emacs</span> itself.  So I dug it
out of the <a class="reference external" href="https://savannah.gnu.org/git/?group=emacs">Emacs git repository</a> at <a class="reference external" href="https://savannah.gnu.org">savannah.gnu.org</a>.  Basically,
I cloned the git repository and then figured out what commit it was
deleted in by doing:</p>
<pre class="literal-block">$ git rev-list HEAD -n 1 -- lisp/progmodes/ada-mode.el
a13c64204c8ead966789abf8efe176e4f2d4f599</pre>
<p>Then I checked out the files involved:</p>
<pre class="literal-block">$ git checkout a13c64204c8ead966789abf8efe176e4f2d4f599^ lisp/progmodes/ada-mode.el lisp/progmodes/ada-prj.el lisp/progmodes/ada-stmt.el lisp/progmodes/ada-xref.el doc/misc/ada-mode.texi</pre>
<p>The <code class="docutils literal">^</code> at the end of the commit hash says to get the previous
commit.</p>
<p>You'll also need <span class="file">doc/docstyle.texi</span> and
<span class="file">doc/doclicense.texi</span> if you want to build documentation from
<span class="file">ada-mode.texi</span>.</p>
<p>And I've put the files in a <a class="reference external" href="emacs/old-ada-mode.zip">zip file</a> for anybody who is in the same
situation as I was, along with the generated documentation files
<span class="file">.info</span>, <span class="file">.html</span>, and <span class="file">.pdf</span>.</p>
<p>Just put them somewhere on your <code class="docutils literal"><span class="pre">load-path</span></code> and add <code class="docutils literal">(autoload
<span class="pre">'ada-mode</span> <span class="pre">"ada-mode")</span></code> to your emacs config file.</p>
<p>I'm sure the current <a class="reference external" href="https://www.nongnu.org/ada-mode/">Ada Mode</a> has a lot more useful features, and
I'd love to use it, but
this at least lets me edit with automatic indentation, formatting, and
fontification.</p>
<aside class="footnote-list brackets"><aside class="footnote brackets" id="fontification" role="note"><span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="posts/2022/07/09/using-the-old-version-of-ada-mode-for-emacs/#footnote-reference-1">1</a><span class="fn-bracket">]</span></span>
<p>‚ÄòFontification‚Äô is the process of displaying source code with
different font properties (such as color and typeface) for
differing syntactic roles.  <a class="reference external" href="https://www.gnu.org/software/emacs/">Emacs</a> and many other editors do this
to make it easier to distinguish different parts of the source
code, to help prevent errors.</p>
</aside></aside><!--  --><!-- Local Variables:
time-stamp-format: "%Y-%02m-%02d %02H:%02M:%02S %Z"
time-stamp-start: "\\*Last edited:[ \t]+\\\\?"
time-stamp-end: "\\*\\\\?\n"
End: --><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="categories/ada/" rel="tag">ada</a></li>
            <li><a class="tag p-category" href="categories/ada-mode/" rel="tag">ada-mode</a></li>
            <li><a class="tag p-category" href="categories/ada-modeel/" rel="tag">ada-mode.el</a></li>
            <li><a class="tag p-category" href="categories/emacs/" rel="tag">emacs</a></li>
            <li><a class="tag p-category" href="categories/freelibre-software/" rel="tag">free/libre software</a></li>
        </ul></nav>
</div>
    </article><article class="blog-post h-entry post-text"><header><h2 class="p-name entry-title blog-post-title"><a href="posts/2022/07/04/the-school-of-niklaus-wirth-the-art-of-simplicity/" class="u-url">The School of Niklaus Wirth: The Art of Simplicity</a></h2>
        <div class="metadata blog-post-meta">
            <p class="byline author vcard"><span class="byline-name fn">T. Kurt Bond</span></p>
            <p class="dateline"><a href="posts/2022/07/04/the-school-of-niklaus-wirth-the-art-of-simplicity/" rel="bookmark"><time class="published dt-published" datetime="2022-07-04T11:33:38-04:00" title="2022-07-04 11:33">2022-07-04 11:33</time></a></p>
                <p class="commentline">        <a href="posts/2022/07/04/the-school-of-niklaus-wirth-the-art-of-simplicity/#disqus_thread" data-disqus-identifier="cache/posts/2022/07/04/the-school-of-niklaus-wirth-the-art-of-simplicity.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p>I've just finished <a class="reference external" href="https://www.amazon.com/School-Niklaus-Wirth-Art-Simplicity/dp/1558607234">The School of Niklaus Wirth: The Art of
Simplicity</a>, by Laszlo Boszormenyi (Editor), Jurg Gutknecht
(Editor), and Gustav Pomberger (Editor).</p>
<p>This was an excellent retrospective of Niklaus Wirth's work, covering
the many important (and sometimes neglected) innovations he and his
coworkers created.  Although it was published in 2000 it is still a
very interesting and inspiring read.</p>
<p>Niklaus Wirth is perhaps best known for <a class="reference external" href="https://en.wikipedia.org/wiki/Pascal_(programming_language)">Pascal</a>.  I learned Pascal
early on in my computing career, and found it much more to my taste
than BASIC, the language I had the most experience with previously.  I
programmed in <a class="reference external" href="https://en.wikipedia.org/wiki/Apple_Pascal">Apple Pascal</a> (based on <a class="reference external" href="https://en.wikipedia.org/wiki/UCSD_Pascal">UCSD Pascal</a>) on the Apple
II+, and used Pascal on the original Macintosh.  Much of my
instruction at college used Oregon Software's Pascal 2 system for
VAX/VMS.  I also had an opportunity to use Pascal at work, using
<a class="reference external" href="https://en.wikipedia.org/wiki/Turbo_Pascal">Turbo Pascal</a> on MS-DOS.  While I found the expressiveness and power
of C very attractive, I still found the simpler syntax and safer type
system of Pascal very worthwhile, and missed it when writing C.</p>
<p>However, I found Wirth's later programming language, <a class="reference external" href="https://en.wikipedia.org/wiki/Oberon_(programming_language)">Oberon</a> (see the
<a class="reference external" href="https://people.inf.ethz.ch/wirth/Oberon/Oberon.Report.pdf">original</a> and <a class="reference external" href="https://people.inf.ethz.ch/wirth/Oberon/Oberon07.Report.pdf">revised</a> language reports, and at archive.org: <a class="reference external" href="https://web.archive.org/web/20220511145109/https://people.inf.ethz.ch/wirth/Oberon/Oberon.Report.pdf">OO</a>,
<a class="reference external" href="https://web.archive.org/web/20220601054803/https://people.inf.ethz.ch/wirth/Oberon/Oberon07.Report.pdf">OR</a>), and the <a class="reference external" href="https://en.wikipedia.org/wiki/Oberon_(operating_system)">operating system</a> it was developed for, also called
Oberon, to be even more interesting.  While I never used the Ceres
computer on which Oberon originally ran, I <strong>did</strong> used the later
versions of the Oberon system that ran hosted on Linux.  I was
particularly inspired by the further development of <a class="reference external" href="https://en.wikipedia.org/wiki/Oberon-2">Oberon-2</a>,
designed by Wirth and Hanspeter M√∂ssenb√∂ck (see the language report,
<a class="reference external" href="https://link.springer.com/content/pdf/bbm%3A978-3-642-97479-3%2F1.pdf">O2A</a>, <a class="reference external" href="http://www.math.bas.bg/bantchev/place/oberon/Oberon2-Report.pdf">O2B</a>), and used in a wonderful book, <cite>Object-Oriented
Programming in Oberon-2</cite>, also by M√∂ssenb√∂ck (<a class="reference external" href="http://norayr.am/papers/oop_in_oberon-2_book.pdf">OOP1</a>, <a class="reference external" href="https://ssw.jku.at/Research/Books/Oberon2.pdf">OOP2</a>, and at
archive.org: <a class="reference external" href="https://web.archive.org/web/20220704171021/http://norayr.am/papers/oop_in_oberon-2_book.pdf">OOP1A</a>, <a class="reference external" href="https://web.archive.org/web/20220704033614/https://ssw.jku.at/Research/Books/Oberon2.pdf">OOP2A</a>).</p>
<p>Unfortunately most of my work at that time involved Unix heavily, and
it was difficult to write Oberon programs that interacted directly
with Unix, because Oberon's <a class="reference external" href="https://en.wikipedia.org/wiki/API">API</a>s were quite different than those of
Unix and C.  (I've since found some Oberon compilers that work a
little better on Unix machines, but most Oberon software continues to
be specific to the Oberon system.</p>
<p>Alas, Oberon was indeed <a class="reference external" href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.90.7173&amp;rep=rep1&amp;type=pdf">the overlooked jewel</a>.</p>
<p>I wish more people had taken more lessons from Niklaus Wirth when designing
the programming languages and operating systems that turned out to
dominate the computer systems of today.</p>
    <nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="categories/c/" rel="tag">c</a></li>
            <li><a class="tag p-category" href="categories/ceres/" rel="tag">ceres</a></li>
            <li><a class="tag p-category" href="categories/lilith/" rel="tag">lilith</a></li>
            <li><a class="tag p-category" href="categories/modula-2/" rel="tag">modula-2</a></li>
            <li><a class="tag p-category" href="categories/niklaus-wirth/" rel="tag">niklaus wirth</a></li>
            <li><a class="tag p-category" href="categories/oberon/" rel="tag">oberon</a></li>
            <li><a class="tag p-category" href="categories/pascal/" rel="tag">pascal</a></li>
            <li><a class="tag p-category" href="categories/recent-reading/" rel="tag">recent reading</a></li>
            <li><a class="tag p-category" href="categories/unix/" rel="tag">unix</a></li>
        </ul></nav>
</div>
    </article><article class="blog-post h-entry post-text"><header><h2 class="p-name entry-title blog-post-title"><a href="posts/2022/06/14/anime-5e-fifth-edition-fantasy-role-playing-adventures/" class="u-url">Anime 5E: Fifth Edition Fantasy Role-Playing Adventures</a></h2>
        <div class="metadata blog-post-meta">
            <p class="byline author vcard"><span class="byline-name fn">T. Kurt Bond</span></p>
            <p class="dateline"><a href="posts/2022/06/14/anime-5e-fifth-edition-fantasy-role-playing-adventures/" rel="bookmark"><time class="published dt-published" datetime="2022-06-14T23:34:40-04:00" title="2022-06-14 23:34">2022-06-14 23:34</time></a></p>
                <p class="commentline">        <a href="posts/2022/06/14/anime-5e-fifth-edition-fantasy-role-playing-adventures/#disqus_thread" data-disqus-identifier="cache/posts/2022/06/14/anime-5e-fifth-edition-fantasy-role-playing-adventures.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p>Do you like D&amp;D 5E, but would like to have it with with point-based
character generation, effects-based rules, and an Anime
flavour?  Well <em>Anime 5E: Fifth Edition Fantasy
Role-Playing Adventures</em> is what you want.</p>
<p>My physical copies of <em>Anime 5E: Fifth Edition Fantasy Role-Playing
Adventures</em> (<a class="reference external" href="http://www.dyskami.ca/anime5e.html">home page</a>, <a class="reference external" href="https://www.kickstarter.com/projects/dyskami/anime-5e-fifth-edition-fantasy-role-playing-reimagined">Kickstarter</a>, and <a class="reference external" href="https://www.drivethrurpg.com/product/359098/Anime-5E-Fifth-Edition-Fantasy-RolePlaying-Adventures">DriveThruRPG page</a>)
from <a class="reference external" href="http://www.dyskami.ca/index.html">Dyskami Publishing Company</a> and <a class="reference external" href="https://en.wikipedia.org/wiki/Mark_C._MacKinnon">Mark C. MacKinnon</a> came
today, and I have only had a chance to briefly skim the pocket
edition, but I'm pleased at what they managed to fit into the small
package of 384 pages and a physical size of approximately 12.5cm wide
√ó 18.9cm tall √ó 2.25cm thick (4¬†15/16in wide √ó 7¬†13/32in tall √ó
27/32in thick) and still have the text be large enough to read.</p>
<p>Here's a picture of the Pocket Edition, with another picture with my
hand covering the book for size comparison:</p>
<a class="reference external image-reference" href="images/Anime-5E-pocket-edition.jpg"><img alt="Anime 5E pocket edition" src="images/Anime-5E-pocket-edition.thumbnail.jpg"></a>
<a class="reference external image-reference" href="images/Anime-5E-pocket-edition-size-comparison.jpg"><img alt="Anime 5E pocket edition with hand for size comparison" src="images/Anime-5E-pocket-edition-size-comparison.thumbnail.jpg"></a>
<p>While I agree that adding the flexibility of Dynamic Powers attribute
as magic (p.¬†154) is very interesting I would like to have seen a
little guidance for using the rest of the attributes as spells using
the Deplete limiter (p.¬†237) and the optional Energy rules (p.¬†280);
I've seen the similar rules in BESM (<a class="reference external" href="https://en.wikipedia.org/wiki/Big_Eyes,_Small_Mouth">BESM1</a>, <a class="reference external" href="https://www.dyskami.ca/besm.html">BESM2</a>) used very well.</p>
<p>I'll have to wait until I get a chance to peruse the hardback version
to comment on the art.</p>
<p>Later: I just have to add: <strong>OMG! Battle Cabbits!</strong> (On p.¬†367.) So
cute!  Now, if they only turned into spaceships as well...</p>
<p>I also liked the Items chapter, especially the ‚ÄúRing of Power‚Äù.</p>
<p><em>Last edited: 2022-06-15 02:36:59 EDT</em></p>
<!-- Local Variables:
time-stamp-format: "%Y-%02m-%02d %02H:%02M:%02S %Z"
time-stamp-start: "\\*Last edited:[ \t]+\\\\?"
time-stamp-end: "\\*\\\\?\n"
time-stamp-line-limit: -20
End: -->
    <nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="categories/5e/" rel="tag">5e</a></li>
            <li><a class="tag p-category" href="categories/anime/" rel="tag">anime</a></li>
            <li><a class="tag p-category" href="categories/anime-5e/" rel="tag">anime 5e</a></li>
            <li><a class="tag p-category" href="categories/besm/" rel="tag">besm</a></li>
            <li><a class="tag p-category" href="categories/cabbit/" rel="tag">cabbit</a></li>
            <li><a class="tag p-category" href="categories/dyskami/" rel="tag">dyskami</a></li>
            <li><a class="tag p-category" href="categories/mark-mackinnon/" rel="tag">mark mackinnon</a></li>
            <li><a class="tag p-category" href="categories/pocket-edition/" rel="tag">pocket edition</a></li>
        </ul></nav>
</div>
    </article><article class="blog-post h-entry post-text"><header><h2 class="p-name entry-title blog-post-title"><a href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/" class="u-url">Lisp-style trampolines in Common Lisp, C, Ada, Oberon-2, and Revised Oberon</a></h2>
        <div class="metadata blog-post-meta">
            <p class="byline author vcard"><span class="byline-name fn">T. Kurt Bond</span></p>
            <p class="dateline"><a href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/" rel="bookmark"><time class="published dt-published" datetime="2022-06-14T15:49:55-04:00" title="2022-06-14 15:49">2022-06-14 15:49</time></a></p>
                <p class="commentline">        <a href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#disqus_thread" data-disqus-identifier="cache/posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p>Are you familiar with <a class="reference external" href="https://en.wikipedia.org/wiki/Trampoline_(computing)#High-level_programming">lisp-style trampolines</a>?  A trampoline is a
loop that iteratively invokes functions that return functions.  The
previous link will lead you through <a class="reference external" href="https://en.wikipedia.org/wiki/Trampoline_(computing)#cite_note-Baker_1995-1">CONS Should Not CONS Its
Arguments, Part II: Cheney on the M.T.A.</a> (<a class="reference external" href="https://dl.acm.org/doi/10.1145/214448.214454">PDF version</a>; see p. 17
in the original publication, but that is the first page of the PDF
that link eventually leads to), which, while saying you should just go
ahead and convert to <a class="reference external" href="https://en.wikipedia.org/wiki/Continuation-passing_style">Continuation-passing style</a> form (CPS),
mentions in passing <a class="reference external" href="https://dl.acm.org/doi/10.1145/151333.151343">No assembly required: compiling standard ML to C</a>,
(see p. 168 in the original publication, which is the page 8 of the
PDF that link eventually leads to) which leads you to <a class="reference external" href="https://dspace.mit.edu/handle/1721.1/6913">RABBIT: A
Compiler for SCHEME</a>, where the concept is discussed under the name
the "SCHEME UUO handler" (see p. 23‚Äì24).</p>
<p>Why is this useful?  It allows you to compile a language that requires
proper <a class="reference external" href="https://en.wikipedia.org/wiki/Tail_call">tail call</a> optimization to one that does not provide that.
For instance, if you wanted to compile Scheme, which requires proper
tail call optimization, to Common Lisp, which does not require proper
tail call optimization, you can't just translate Scheme functions
directly into Common Lisp functions, because tail calls allocate stack
space, and eventually the stack will run out of space.</p>
<p>Here's an example that will run forever in any standard confirming
Scheme, <a class="reference external" href="trampolines/forever.scm">forever.scm</a>:</p>
<div class="code"><pre class="code scheme"><a id="rest_code_77fa1defcdcb4905b75b490b76fe237d-1" name="rest_code_77fa1defcdcb4905b75b490b76fe237d-1" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_77fa1defcdcb4905b75b490b76fe237d-1"></a><span class="c1">;;; Recurse forever, because with tail call optimization, the stack</span>
<a id="rest_code_77fa1defcdcb4905b75b490b76fe237d-2" name="rest_code_77fa1defcdcb4905b75b490b76fe237d-2" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_77fa1defcdcb4905b75b490b76fe237d-2"></a><span class="c1">;;; never runs out!</span>
<a id="rest_code_77fa1defcdcb4905b75b490b76fe237d-3" name="rest_code_77fa1defcdcb4905b75b490b76fe237d-3" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_77fa1defcdcb4905b75b490b76fe237d-3"></a><span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="rest_code_77fa1defcdcb4905b75b490b76fe237d-4" name="rest_code_77fa1defcdcb4905b75b490b76fe237d-4" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_77fa1defcdcb4905b75b490b76fe237d-4"></a>
<a id="rest_code_77fa1defcdcb4905b75b490b76fe237d-5" name="rest_code_77fa1defcdcb4905b75b490b76fe237d-5" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_77fa1defcdcb4905b75b490b76fe237d-5"></a><span class="p">(</span><span class="k">define</span><span class="w"> </span><span class="p">(</span><span class="nf">f</span><span class="p">)</span>
<a id="rest_code_77fa1defcdcb4905b75b490b76fe237d-6" name="rest_code_77fa1defcdcb4905b75b490b76fe237d-6" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_77fa1defcdcb4905b75b490b76fe237d-6"></a><span class="w">  </span><span class="p">(</span><span class="k">set!</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="p">(</span><span class="nb">+</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">i</span><span class="p">))</span>
<a id="rest_code_77fa1defcdcb4905b75b490b76fe237d-7" name="rest_code_77fa1defcdcb4905b75b490b76fe237d-7" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_77fa1defcdcb4905b75b490b76fe237d-7"></a><span class="w">  </span><span class="p">(</span><span class="nb">display</span><span class="w"> </span><span class="s">"call #"</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">display</span><span class="w"> </span><span class="nv">i</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="nb">newline</span><span class="p">)</span>
<a id="rest_code_77fa1defcdcb4905b75b490b76fe237d-8" name="rest_code_77fa1defcdcb4905b75b490b76fe237d-8" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_77fa1defcdcb4905b75b490b76fe237d-8"></a><span class="w">  </span><span class="p">(</span><span class="nf">f</span><span class="p">))</span>
<a id="rest_code_77fa1defcdcb4905b75b490b76fe237d-9" name="rest_code_77fa1defcdcb4905b75b490b76fe237d-9" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_77fa1defcdcb4905b75b490b76fe237d-9"></a>
<a id="rest_code_77fa1defcdcb4905b75b490b76fe237d-10" name="rest_code_77fa1defcdcb4905b75b490b76fe237d-10" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_77fa1defcdcb4905b75b490b76fe237d-10"></a><span class="p">(</span><span class="nf">f</span><span class="p">)</span>
</pre></div>
<p>Here's <a class="reference external" href="trampolines/common-lisp/not_forever.lisp">not_forever.lisp</a>, the same thing in Common Lisp:</p>
<div class="code"><pre class="code common-lisp"><a id="rest_code_281ab2387f064e4297361f895d08897c-1" name="rest_code_281ab2387f064e4297361f895d08897c-1" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_281ab2387f064e4297361f895d08897c-1"></a><span class="c1">;;; Recurse until the stack space runs out.</span>
<a id="rest_code_281ab2387f064e4297361f895d08897c-2" name="rest_code_281ab2387f064e4297361f895d08897c-2" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_281ab2387f064e4297361f895d08897c-2"></a><span class="p">(</span><span class="nb">defparameter</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="rest_code_281ab2387f064e4297361f895d08897c-3" name="rest_code_281ab2387f064e4297361f895d08897c-3" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_281ab2387f064e4297361f895d08897c-3"></a>
<a id="rest_code_281ab2387f064e4297361f895d08897c-4" name="rest_code_281ab2387f064e4297361f895d08897c-4" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_281ab2387f064e4297361f895d08897c-4"></a><span class="p">(</span><span class="nb">defun</span><span class="w"> </span><span class="nv">f</span><span class="w"> </span><span class="p">()</span>
<a id="rest_code_281ab2387f064e4297361f895d08897c-5" name="rest_code_281ab2387f064e4297361f895d08897c-5" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_281ab2387f064e4297361f895d08897c-5"></a><span class="w">  </span><span class="p">(</span><span class="nb">incf</span><span class="w"> </span><span class="nv">i</span><span class="p">)</span>
<a id="rest_code_281ab2387f064e4297361f895d08897c-6" name="rest_code_281ab2387f064e4297361f895d08897c-6" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_281ab2387f064e4297361f895d08897c-6"></a><span class="w">  </span><span class="p">(</span><span class="nb">format</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="s">"call #~d~%"</span><span class="w"> </span><span class="nv">i</span><span class="p">)</span>
<a id="rest_code_281ab2387f064e4297361f895d08897c-7" name="rest_code_281ab2387f064e4297361f895d08897c-7" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_281ab2387f064e4297361f895d08897c-7"></a><span class="w">  </span><span class="p">(</span><span class="nv">f</span><span class="p">))</span>
<a id="rest_code_281ab2387f064e4297361f895d08897c-8" name="rest_code_281ab2387f064e4297361f895d08897c-8" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_281ab2387f064e4297361f895d08897c-8"></a>
<a id="rest_code_281ab2387f064e4297361f895d08897c-9" name="rest_code_281ab2387f064e4297361f895d08897c-9" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_281ab2387f064e4297361f895d08897c-9"></a><span class="p">(</span><span class="nv">f</span><span class="p">)</span>
</pre></div>
<p>Now, some Common Lisp implementations don't do tail call
optimization, and some <strong>do</strong>.  Some don't do tail call optimization
unless you compile the functions in question.</p>
<p>So, for instance, if I load that file into GNU CLISP 2.49.92, the
function executes about 4668 times and then <span class="app">CLISP</span> dies with the
error message:</p>
<pre class="literal-block">*** - Lisp stack overflow. RESET</pre>
<p>However if I compile that file in <span class="app">CLISP</span> with the Common Lisp function
<code class="docutils literal"><span class="pre">compile-file</span></code> and then load the resulting <span class="file">.fas</span> file into
<span class="app">CLISP</span>, it will run forever, because <span class="app">CLISP</span> does tail call
optimization when it compiles code.</p>
<p>Furthermore, if I load that file into <span class="app">SBCL</span> it will run forever,
because <span class="app">SBCL</span> does tail call optimization by default.</p>
<p><span class="app">ECL</span> is another Common Lisp system where if you load that file
into  an interactive session it will die with stack overflow, but if
you compile that file into an executable it will run forever.</p>
<p>So, suppose you wanted to translate the Scheme code into Common Lisp.
You'd use a trampoline to make sure the stack doesn't overflow.</p>
<p>Here's <a class="reference external" href="trampolines/common-lisp/trampoline.lisp">trampoline.lisp</a>, a trampoline in Common Lisp that runs
through three functions and then stops, for simplicity:</p>
<div class="code"><pre class="code common-lisp"><a id="rest_code_45d798fb66e348768b4390eff8b00a03-1" name="rest_code_45d798fb66e348768b4390eff8b00a03-1" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_45d798fb66e348768b4390eff8b00a03-1"></a><span class="c1">;;; Demonstrate lisp-style trampolines.</span>
<a id="rest_code_45d798fb66e348768b4390eff8b00a03-2" name="rest_code_45d798fb66e348768b4390eff8b00a03-2" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_45d798fb66e348768b4390eff8b00a03-2"></a><span class="p">(</span><span class="nb">defun</span><span class="w"> </span><span class="nv">baz</span><span class="w"> </span><span class="p">()</span>
<a id="rest_code_45d798fb66e348768b4390eff8b00a03-3" name="rest_code_45d798fb66e348768b4390eff8b00a03-3" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_45d798fb66e348768b4390eff8b00a03-3"></a><span class="w">  </span><span class="p">(</span><span class="nb">format</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="s">"baz~%"</span><span class="p">)</span>
<a id="rest_code_45d798fb66e348768b4390eff8b00a03-4" name="rest_code_45d798fb66e348768b4390eff8b00a03-4" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_45d798fb66e348768b4390eff8b00a03-4"></a><span class="w">  </span><span class="no">nil</span><span class="p">)</span>
<a id="rest_code_45d798fb66e348768b4390eff8b00a03-5" name="rest_code_45d798fb66e348768b4390eff8b00a03-5" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_45d798fb66e348768b4390eff8b00a03-5"></a>
<a id="rest_code_45d798fb66e348768b4390eff8b00a03-6" name="rest_code_45d798fb66e348768b4390eff8b00a03-6" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_45d798fb66e348768b4390eff8b00a03-6"></a><span class="p">(</span><span class="nb">defun</span><span class="w"> </span><span class="nv">bar</span><span class="w"> </span><span class="p">()</span>
<a id="rest_code_45d798fb66e348768b4390eff8b00a03-7" name="rest_code_45d798fb66e348768b4390eff8b00a03-7" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_45d798fb66e348768b4390eff8b00a03-7"></a><span class="w">  </span><span class="p">(</span><span class="nb">format</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="s">"bar~%"</span><span class="p">)</span>
<a id="rest_code_45d798fb66e348768b4390eff8b00a03-8" name="rest_code_45d798fb66e348768b4390eff8b00a03-8" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_45d798fb66e348768b4390eff8b00a03-8"></a><span class="w">  </span><span class="nf">#'</span><span class="nv">baz</span><span class="p">)</span>
<a id="rest_code_45d798fb66e348768b4390eff8b00a03-9" name="rest_code_45d798fb66e348768b4390eff8b00a03-9" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_45d798fb66e348768b4390eff8b00a03-9"></a>
<a id="rest_code_45d798fb66e348768b4390eff8b00a03-10" name="rest_code_45d798fb66e348768b4390eff8b00a03-10" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_45d798fb66e348768b4390eff8b00a03-10"></a><span class="p">(</span><span class="nb">defun</span><span class="w"> </span><span class="nv">foo</span><span class="w"> </span><span class="p">()</span>
<a id="rest_code_45d798fb66e348768b4390eff8b00a03-11" name="rest_code_45d798fb66e348768b4390eff8b00a03-11" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_45d798fb66e348768b4390eff8b00a03-11"></a><span class="w">  </span><span class="p">(</span><span class="nb">format</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="s">"foo~%"</span><span class="p">)</span>
<a id="rest_code_45d798fb66e348768b4390eff8b00a03-12" name="rest_code_45d798fb66e348768b4390eff8b00a03-12" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_45d798fb66e348768b4390eff8b00a03-12"></a><span class="w">  </span><span class="nf">#'</span><span class="nv">bar</span><span class="p">)</span>
<a id="rest_code_45d798fb66e348768b4390eff8b00a03-13" name="rest_code_45d798fb66e348768b4390eff8b00a03-13" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_45d798fb66e348768b4390eff8b00a03-13"></a>
<a id="rest_code_45d798fb66e348768b4390eff8b00a03-14" name="rest_code_45d798fb66e348768b4390eff8b00a03-14" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_45d798fb66e348768b4390eff8b00a03-14"></a><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">((</span><span class="nv">f</span><span class="w"> </span><span class="nf">#'</span><span class="nv">foo</span><span class="p">))</span>
<a id="rest_code_45d798fb66e348768b4390eff8b00a03-15" name="rest_code_45d798fb66e348768b4390eff8b00a03-15" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_45d798fb66e348768b4390eff8b00a03-15"></a><span class="w">  </span><span class="p">(</span><span class="nb">loop</span><span class="w"> </span><span class="nv">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="nv">from</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">while</span><span class="w"> </span><span class="p">(</span><span class="nb">not</span><span class="w"> </span><span class="p">(</span><span class="nb">null</span><span class="w"> </span><span class="nv">f</span><span class="p">))</span>
<a id="rest_code_45d798fb66e348768b4390eff8b00a03-16" name="rest_code_45d798fb66e348768b4390eff8b00a03-16" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_45d798fb66e348768b4390eff8b00a03-16"></a><span class="w">        </span><span class="nb">do</span><span class="w"> </span><span class="p">(</span><span class="nb">setf</span><span class="w"> </span><span class="nv">f</span><span class="w"> </span><span class="p">(</span><span class="nb">funcall</span><span class="w"> </span><span class="nv">f</span><span class="p">))))</span>
</pre></div>
<p>Here's <a class="reference external" href="trampolines/common-lisp/trampoline_forever.lisp">trampoline_forever.lisp</a>, a trampoline in Common Lisp that
runs forever:</p>
<div class="code"><pre class="code common-lisp"><a id="rest_code_202210dc3cab43568874d01477654918-1" name="rest_code_202210dc3cab43568874d01477654918-1" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_202210dc3cab43568874d01477654918-1"></a><span class="c1">;;; Recurse forever without running out of stack space.</span>
<a id="rest_code_202210dc3cab43568874d01477654918-2" name="rest_code_202210dc3cab43568874d01477654918-2" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_202210dc3cab43568874d01477654918-2"></a><span class="p">(</span><span class="nb">defun</span><span class="w"> </span><span class="nv">baz</span><span class="w"> </span><span class="p">()</span>
<a id="rest_code_202210dc3cab43568874d01477654918-3" name="rest_code_202210dc3cab43568874d01477654918-3" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_202210dc3cab43568874d01477654918-3"></a><span class="w">  </span><span class="p">(</span><span class="nb">format</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="s">"baz~%"</span><span class="p">)</span>
<a id="rest_code_202210dc3cab43568874d01477654918-4" name="rest_code_202210dc3cab43568874d01477654918-4" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_202210dc3cab43568874d01477654918-4"></a><span class="w">  </span><span class="nf">#'</span><span class="nv">foo</span><span class="p">)</span>
<a id="rest_code_202210dc3cab43568874d01477654918-5" name="rest_code_202210dc3cab43568874d01477654918-5" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_202210dc3cab43568874d01477654918-5"></a>
<a id="rest_code_202210dc3cab43568874d01477654918-6" name="rest_code_202210dc3cab43568874d01477654918-6" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_202210dc3cab43568874d01477654918-6"></a><span class="p">(</span><span class="nb">defun</span><span class="w"> </span><span class="nv">bar</span><span class="w"> </span><span class="p">()</span>
<a id="rest_code_202210dc3cab43568874d01477654918-7" name="rest_code_202210dc3cab43568874d01477654918-7" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_202210dc3cab43568874d01477654918-7"></a><span class="w">  </span><span class="p">(</span><span class="nb">format</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="s">"bar~%"</span><span class="p">)</span>
<a id="rest_code_202210dc3cab43568874d01477654918-8" name="rest_code_202210dc3cab43568874d01477654918-8" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_202210dc3cab43568874d01477654918-8"></a><span class="w">  </span><span class="nf">#'</span><span class="nv">baz</span><span class="p">)</span>
<a id="rest_code_202210dc3cab43568874d01477654918-9" name="rest_code_202210dc3cab43568874d01477654918-9" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_202210dc3cab43568874d01477654918-9"></a>
<a id="rest_code_202210dc3cab43568874d01477654918-10" name="rest_code_202210dc3cab43568874d01477654918-10" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_202210dc3cab43568874d01477654918-10"></a><span class="p">(</span><span class="nb">defun</span><span class="w"> </span><span class="nv">foo</span><span class="w"> </span><span class="p">()</span>
<a id="rest_code_202210dc3cab43568874d01477654918-11" name="rest_code_202210dc3cab43568874d01477654918-11" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_202210dc3cab43568874d01477654918-11"></a><span class="w">  </span><span class="p">(</span><span class="nb">format</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="s">"foo~%"</span><span class="p">)</span>
<a id="rest_code_202210dc3cab43568874d01477654918-12" name="rest_code_202210dc3cab43568874d01477654918-12" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_202210dc3cab43568874d01477654918-12"></a><span class="w">  </span><span class="nf">#'</span><span class="nv">bar</span><span class="p">)</span>
<a id="rest_code_202210dc3cab43568874d01477654918-13" name="rest_code_202210dc3cab43568874d01477654918-13" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_202210dc3cab43568874d01477654918-13"></a>
<a id="rest_code_202210dc3cab43568874d01477654918-14" name="rest_code_202210dc3cab43568874d01477654918-14" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_202210dc3cab43568874d01477654918-14"></a><span class="p">(</span><span class="k">let</span><span class="w"> </span><span class="p">((</span><span class="nv">f</span><span class="w"> </span><span class="nf">#'</span><span class="nv">foo</span><span class="p">))</span>
<a id="rest_code_202210dc3cab43568874d01477654918-15" name="rest_code_202210dc3cab43568874d01477654918-15" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_202210dc3cab43568874d01477654918-15"></a><span class="w">  </span><span class="p">(</span><span class="nb">loop</span><span class="w"> </span><span class="nv">for</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="nv">from</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">while</span><span class="w"> </span><span class="p">(</span><span class="nb">not</span><span class="w"> </span><span class="p">(</span><span class="nb">null</span><span class="w"> </span><span class="nv">f</span><span class="p">))</span>
<a id="rest_code_202210dc3cab43568874d01477654918-16" name="rest_code_202210dc3cab43568874d01477654918-16" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_202210dc3cab43568874d01477654918-16"></a><span class="w">        </span><span class="nb">do</span><span class="w"> </span><span class="p">(</span><span class="k">progn</span>
<a id="rest_code_202210dc3cab43568874d01477654918-17" name="rest_code_202210dc3cab43568874d01477654918-17" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_202210dc3cab43568874d01477654918-17"></a><span class="w">             </span><span class="p">(</span><span class="nb">format</span><span class="w"> </span><span class="no">t</span><span class="w"> </span><span class="s">"trampoline call #~s~%"</span><span class="w"> </span><span class="nv">i</span><span class="p">)</span>
<a id="rest_code_202210dc3cab43568874d01477654918-18" name="rest_code_202210dc3cab43568874d01477654918-18" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_202210dc3cab43568874d01477654918-18"></a><span class="w">             </span><span class="p">(</span><span class="nb">setf</span><span class="w"> </span><span class="nv">f</span><span class="w"> </span><span class="p">(</span><span class="nb">funcall</span><span class="w"> </span><span class="nv">f</span><span class="p">)))))</span>
</pre></div>
<p>Of course, you can do the same things in C.  First, here's
<a class="reference external" href="trampolines/c/not_forever.c">not_forever.c</a>, a program in C that will (usually) die with a stack
overflow:</p>
<div class="code"><pre class="code c"><a id="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-1" name="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-1" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-1"></a><span class="cm">/* Recurse until stack space runs out.</span>
<a id="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-2" name="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-2" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-2"></a><span class="cm">   Unless the compiler does tail-call optimization. */</span>
<a id="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-3" name="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-3" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-3"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<a id="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-4" name="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-4" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-4"></a>
<a id="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-5" name="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-5" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-5"></a><span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w">                 </span><span class="cm">/* Number of times f has been called. */</span>
<a id="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-6" name="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-6" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-6"></a>
<a id="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-7" name="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-7" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-7"></a><span class="kt">void</span><span class="w"> </span><span class="nf">f</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<a id="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-8" name="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-8" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-8"></a><span class="p">{</span>
<a id="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-9" name="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-9" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-9"></a><span class="w">  </span><span class="n">i</span><span class="o">++</span><span class="p">;</span>
<a id="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-10" name="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-10" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-10"></a><span class="w">  </span><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">"call #%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="p">);</span>
<a id="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-11" name="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-11" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-11"></a><span class="w">  </span><span class="n">f</span><span class="w"> </span><span class="p">();</span>
<a id="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-12" name="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-12" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-12"></a><span class="p">}</span>
<a id="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-13" name="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-13" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-13"></a>
<a id="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-14" name="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-14" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-14"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="n">argv</span><span class="p">)</span>
<a id="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-15" name="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-15" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-15"></a><span class="p">{</span>
<a id="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-16" name="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-16" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-16"></a><span class="w">  </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-17" name="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-17" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-17"></a><span class="w">  </span><span class="n">f</span><span class="w"> </span><span class="p">();</span>
<a id="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-18" name="rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-18" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_79f240bfbdf745fdafdcaf5c2b627fc6-18"></a><span class="p">}</span>
</pre></div>
<p>I say usually, because tail call optimization is not required by the
standard, and many C compilers do not do it.  For instance, <span class="app">gcc</span>
doesn't do tail call optimization <strong>unless</strong> you specify
<code class="docutils literal"><span class="pre">-foptimize-sibling-calls</span></code> or <code class="docutils literal"><span class="pre">-O2</span></code>, <code class="docutils literal"><span class="pre">-O3</span></code>, or <code class="docutils literal"><span class="pre">-Os</span></code>.  If I
don't specify any of those options, on my system that program dies
with the error <code class="docutils literal">Segmentation fault: 11</code> after call #523932.</p>
<p>Here's <a class="reference external" href="trampolines/c/trampoline.c">trampoline.c</a>, the limited trampoline in C:</p>
<div class="code"><pre class="code c"><a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-1" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-1" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-1"></a><span class="cm">/* Demonstrate lisp-style trampolines. */</span>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-2" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-2" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-2"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-3" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-3" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-3"></a>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-4" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-4" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-4"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">trampoline</span><span class="p">)(</span><span class="kt">void</span><span class="p">);</span>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-5" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-5" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-5"></a>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-6" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-6" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-6"></a><span class="kt">void</span><span class="w"> </span><span class="o">*</span>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-7" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-7" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-7"></a><span class="nf">baz</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-8" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-8" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-8"></a><span class="p">{</span>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-9" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-9" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-9"></a><span class="w">  </span><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">"baz</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-10" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-10" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-10"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-11" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-11" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-11"></a><span class="p">}</span>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-12" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-12" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-12"></a>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-13" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-13" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-13"></a><span class="kt">void</span><span class="w"> </span><span class="o">*</span>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-14" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-14" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-14"></a><span class="nf">bar</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-15" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-15" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-15"></a><span class="p">{</span>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-16" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-16" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-16"></a><span class="w">  </span><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">"bar</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-17" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-17" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-17"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">baz</span><span class="p">;</span>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-18" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-18" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-18"></a><span class="p">}</span>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-19" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-19" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-19"></a>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-20" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-20" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-20"></a><span class="kt">void</span><span class="w"> </span><span class="o">*</span>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-21" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-21" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-21"></a><span class="nf">foo</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-22" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-22" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-22"></a><span class="p">{</span>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-23" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-23" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-23"></a><span class="w">  </span><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">"foo</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-24" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-24" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-24"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">bar</span><span class="p">;</span>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-25" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-25" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-25"></a><span class="p">}</span>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-26" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-26" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-26"></a>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-27" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-27" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-27"></a>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-28" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-28" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-28"></a><span class="kt">int</span>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-29" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-29" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-29"></a><span class="nf">main</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="n">argv</span><span class="p">)</span>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-30" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-30" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-30"></a><span class="p">{</span>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-31" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-31" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-31"></a><span class="w">  </span><span class="n">trampoline</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">foo</span><span class="p">;</span>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-32" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-32" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-32"></a><span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-33" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-33" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-33"></a><span class="w">    </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="p">();</span>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-34" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-34" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-34"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-35" name="rest_code_56de4cb529ad4ba4add53c4d9686ed4c-35" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_56de4cb529ad4ba4add53c4d9686ed4c-35"></a><span class="p">}</span>
</pre></div>
<p>Notice this works by converting pointers to functions to pointers to void
‚Äî it doesn't even require any explicit casting!</p>
<p>And here's <a class="reference external" href="trampolines/c/trampoline_forever.c">trampoline_forever.c</a>, the trampoline that runs forever:</p>
<div class="code"><pre class="code c"><a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-1" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-1" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-1"></a><span class="cm">/* Recurse forever without running out of stack spacc. */</span>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-2" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-2" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-2"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-3" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-3" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-3"></a>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-4" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-4" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-4"></a><span class="k">typedef</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">trampoline</span><span class="p">)(</span><span class="kt">void</span><span class="p">);</span>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-5" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-5" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-5"></a>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-6" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-6" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-6"></a><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="nf">foo</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="p">);</span><span class="w">               </span><span class="cm">/* Forward declaration. */</span>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-7" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-7" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-7"></a>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-8" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-8" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-8"></a><span class="kt">void</span><span class="w"> </span><span class="o">*</span>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-9" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-9" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-9"></a><span class="nf">baz</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-10" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-10" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-10"></a><span class="p">{</span>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-11" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-11" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-11"></a><span class="w">  </span><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">"baz</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-12" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-12" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-12"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">foo</span><span class="p">;</span>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-13" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-13" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-13"></a><span class="p">}</span>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-14" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-14" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-14"></a>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-15" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-15" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-15"></a><span class="kt">void</span><span class="w"> </span><span class="o">*</span>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-16" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-16" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-16"></a><span class="nf">bar</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-17" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-17" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-17"></a><span class="p">{</span>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-18" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-18" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-18"></a><span class="w">  </span><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">"bar</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-19" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-19" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-19"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">baz</span><span class="p">;</span>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-20" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-20" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-20"></a><span class="p">}</span>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-21" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-21" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-21"></a>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-22" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-22" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-22"></a><span class="kt">void</span><span class="w"> </span><span class="o">*</span>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-23" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-23" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-23"></a><span class="nf">foo</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-24" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-24" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-24"></a><span class="p">{</span>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-25" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-25" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-25"></a><span class="w">  </span><span class="n">printf</span><span class="w"> </span><span class="p">(</span><span class="s">"foo</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-26" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-26" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-26"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">bar</span><span class="p">;</span>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-27" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-27" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-27"></a><span class="p">}</span>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-28" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-28" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-28"></a>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-29" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-29" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-29"></a>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-30" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-30" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-30"></a><span class="kt">int</span>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-31" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-31" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-31"></a><span class="nf">main</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="n">argv</span><span class="p">)</span>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-32" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-32" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-32"></a><span class="p">{</span>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-33" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-33" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-33"></a><span class="w">  </span><span class="n">trampoline</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">foo</span><span class="p">;</span>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-34" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-34" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-34"></a><span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-35" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-35" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-35"></a><span class="w">    </span><span class="n">t</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="p">();</span>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-36" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-36" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-36"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-37" name="rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-37" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_4532d84e686b4792a4ca6c6b2fb37c5e-37"></a><span class="p">}</span>
</pre></div>
<p>So, here's where C's weak typing lets it get away with things that
more strongly typed languages don't.  Notice the declaration of the
trampoline type:</p>
<div class="code"><pre class="code c"><a id="rest_code_7e79584949f347a4bec54fef2f93d096-1" name="rest_code_7e79584949f347a4bec54fef2f93d096-1" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7e79584949f347a4bec54fef2f93d096-1"></a><span class="n">type</span><span class="w"> </span><span class="n">def</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">trampoline</span><span class="p">)(</span><span class="kt">void</span><span class="p">);</span>
</pre></div>
<p id="mentioning-recursive-types">Notice how it returns a <code class="docutils literal">void *</code>, instead of something more
specific?  That's because if it tried to return something more
specific, it would have to a <a class="reference external" href="https://en.wikipedia.org/wiki/Recursive_data_type">recursive type</a>: that is to say, while
defining the type <code class="docutils literal">trampoline</code>, you would use a reference to the
type while defining the type.  It would look something like this:</p>
<div class="code"><pre class="code c"><a id="rest_code_de08fb1a50f8461dac80187cf7da021a-1" name="rest_code_de08fb1a50f8461dac80187cf7da021a-1" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_de08fb1a50f8461dac80187cf7da021a-1"></a><span class="k">typedef</span><span class="w"> </span><span class="n">trampoline</span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">trampoline</span><span class="p">)(</span><span class="kt">void</span><span class="p">);</span>
</pre></div>
<p>and that results in <span class="app">gcc</span> issuing the following error:</p>
<pre class="literal-block">error: unknown type name 'trampoline'</pre>
<p>Very few traditional programming languages allow this.  It isn't a
problem in Scheme or Common Lisp because those languages use strong
dynamic typing, where the types are checked at runtime.</p>
<p>So how do you do this in languages with strong static typing?</p>
<p>Well, let's try this in some of the <a class="reference external" href="https://en.wikipedia.org/wiki/Oberon_(programming_language)">Oberon</a> programming language
dialects.  <a class="reference external" href="https://en.wikipedia.org/wiki/Oberon_(programming_language)">Oberon</a> was designed and implemented by Niklaus Wirth
(<a class="reference external" href="https://people.inf.ethz.ch/wirth/">NW1</a>, <a class="reference external" href="https://en.wikipedia.org/wiki/Niklaus_Wirth">NW2</a>) as a simplification and generalization of his earlier
languages <a class="reference external" href="https://en.wikipedia.org/wiki/Pascal_(programming_language)">Pascal</a>, <a class="reference external" href="https://en.wikipedia.org/wiki/Modula">Modula</a>, and <a class="reference external" href="https://en.wikipedia.org/wiki/Modula-2">Modula-2</a>.  (Here's <a class="reference external" href="https://people.inf.ethz.ch/wirth/Oberon/Oberon.Report.pdf">The Programming
Language Oberon (1990)</a>, the original Oberon language report, in PDF
for reference.)  I find the original Oberon admirable for its
simplicity, strong typing, understandable syntax, and its introduction
of <a class="reference external" href="https://dl.acm.org/doi/abs/10.1145/42190.46167">Type Extensions</a> (which organizes <a class="reference external" href="https://en.wikipedia.org/wiki/Record_(computer_science)">record types</a> in a
inheritance hierarchy, which with the use of procedure variables
enables object oriented programming in a particularly straightforward
and flexible way) but struggle with its minimalism and how its
standard libraries differ in paradigm from the standard Unix
libraries, since Oberon was used to implement a new operating system,
the <a class="reference external" href="https://en.wikipedia.org/wiki/Oberon_(operating_system)">Oberon System</a> with its own completely unique <a class="reference external" href="https://en.wikipedia.org/wiki/API">API</a>.</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Oberon_(programming_language)">Oberon</a> has a number of dialects. I'm most fond of <a class="reference external" href="https://en.wikipedia.org/wiki/Oberon-2">Oberon-2</a>, which
was the second language in the <a class="reference external" href="https://en.wikipedia.org/wiki/Oberon_(programming_language)">Oberon</a> family, developed by <a class="reference external" href="https://en.wikipedia.org/wiki/Hanspeter_M%C3%B6ssenb%C3%B6ck">Hanspeter
M√∂ssenb√∂ck</a> and Niklaus Wirth.  It is a little less minimalist than
<a class="reference external" href="https://en.wikipedia.org/wiki/Oberon_(programming_language)">Oberon</a>, and among a few other things adds type-bound procedures to
the record hierarchy provided by <a class="reference external" href="https://dl.acm.org/doi/abs/10.1145/42190.46167">Type Extensions</a>, providing a
appealingly simple and direct design for object-oriented programming
that was later adopted by the <a class="reference external" href="https://en.wikipedia.org/wiki/Ada_(programming_language)">Ada</a> programming language in a more
complicated and confusing manner, as might be expected by <a class="reference external" href="https://en.wikipedia.org/wiki/Ada_(programming_language)">Ada</a>'s
plethora of design goals and constraints.  (Here's a couple of papers
that mention it: <a class="reference external" href="https://dl.acm.org/doi/10.1145/122028.122033">Object-oriented programming through type
extension in Ada 9X</a> (<a class="reference external" href="https://dl.acm.org/doi/pdf/10.1145/122028.122033">ADAOO1PDF</a>) and <a class="reference external" href="http://citeseer.ist.psu.edu/viewdoc/summary?doi=10.1.1.167.7445&amp;rank=1">Integrating Object-Oriented
Programming and Protected Objects in Ada 95</a> (<a class="reference external" href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.167.7445&amp;rep=rep1&amp;type=pdf">ADAOO2PDF</a>).  I wish I
knew of a reference that discussed explicitly the process of choosing
<a class="reference external" href="https://dl.acm.org/doi/abs/10.1145/42190.46167">Type Extensions</a> for <a class="reference external" href="https://en.wikipedia.org/wiki/Ada_(programming_language)">Ada</a> and how they were adopted and adapted in
<a class="reference external" href="https://en.wikipedia.org/wiki/Ada_(programming_language)">Ada</a>.)</p>
<p>Here's a copy of the Oberon-2 language report in PDF (<a class="reference external" href="Oberon-2/Oberon2.pdf">O2PDF</a>) and HTML
(<a class="reference external" href="https://web.archive.org/web/20151104101932/https://cseweb.ucsd.edu/~wgg/CSE131B/oberon2.htm">O2HTML</a>), for reference.</p>
<p>Anyway, <a class="reference external" href="https://en.wikipedia.org/wiki/Oberon-2">Oberon-2</a> has procedure types and procedure variables, so one
would think it would be simple to implement trampolines in <a class="reference external" href="https://en.wikipedia.org/wiki/Oberon-2">Oberon-2</a>,
without messing about with pointers.  It turns out to be more
complicated than one would think.</p>
<p>I'm using <a class="reference external" href="https://github.com/vishaps/voc">Vishap Oberon</a>, a free and open source Oberon-2 compiler,
by the way.</p>
<p>First, here's <a class="reference external" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/trampolines/oberon-2/NotForever.Mod">NotForever.Mod</a>, the standard program with a recursive
function procedure that will overflow the stack.</p>
<div class="code"><pre class="code modula2"><a id="rest_code_d1757276fd894f8b88007936770f6858-1" name="rest_code_d1757276fd894f8b88007936770f6858-1" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_d1757276fd894f8b88007936770f6858-1"></a><span class="kr">MODULE</span> <span class="n">NotForever</span><span class="p">;</span>              <span class="cm">(* Recurse until stack space runs out. *)</span>
<a id="rest_code_d1757276fd894f8b88007936770f6858-2" name="rest_code_d1757276fd894f8b88007936770f6858-2" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_d1757276fd894f8b88007936770f6858-2"></a>  <span class="kr">IMPORT</span> <span class="n">Out</span><span class="p">;</span>
<a id="rest_code_d1757276fd894f8b88007936770f6858-3" name="rest_code_d1757276fd894f8b88007936770f6858-3" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_d1757276fd894f8b88007936770f6858-3"></a>  <span class="kr">VAR</span> <span class="n">i</span><span class="p">:</span> <span class="nb">LONGINT</span><span class="p">;</span>               <span class="cm">(* Number of times f has been called. *)</span>
<a id="rest_code_d1757276fd894f8b88007936770f6858-4" name="rest_code_d1757276fd894f8b88007936770f6858-4" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_d1757276fd894f8b88007936770f6858-4"></a>
<a id="rest_code_d1757276fd894f8b88007936770f6858-5" name="rest_code_d1757276fd894f8b88007936770f6858-5" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_d1757276fd894f8b88007936770f6858-5"></a>  <span class="kr">PROCEDURE</span> <span class="n">f</span><span class="p">;</span>
<a id="rest_code_d1757276fd894f8b88007936770f6858-6" name="rest_code_d1757276fd894f8b88007936770f6858-6" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_d1757276fd894f8b88007936770f6858-6"></a>  <span class="kr">BEGIN</span>
<a id="rest_code_d1757276fd894f8b88007936770f6858-7" name="rest_code_d1757276fd894f8b88007936770f6858-7" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_d1757276fd894f8b88007936770f6858-7"></a>    <span class="nb">INC</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<a id="rest_code_d1757276fd894f8b88007936770f6858-8" name="rest_code_d1757276fd894f8b88007936770f6858-8" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_d1757276fd894f8b88007936770f6858-8"></a>    <span class="n">Out</span><span class="p">.</span><span class="n">String</span> <span class="p">(</span><span class="s2">"call #"</span><span class="p">);</span> <span class="n">Out</span><span class="p">.</span><span class="n">Int</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="n">Out</span><span class="p">.</span><span class="n">Ln</span><span class="p">;</span>
<a id="rest_code_d1757276fd894f8b88007936770f6858-9" name="rest_code_d1757276fd894f8b88007936770f6858-9" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_d1757276fd894f8b88007936770f6858-9"></a>    <span class="n">f</span><span class="p">;</span>
<a id="rest_code_d1757276fd894f8b88007936770f6858-10" name="rest_code_d1757276fd894f8b88007936770f6858-10" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_d1757276fd894f8b88007936770f6858-10"></a>  <span class="kr">END</span> <span class="n">f</span><span class="p">;</span>
<a id="rest_code_d1757276fd894f8b88007936770f6858-11" name="rest_code_d1757276fd894f8b88007936770f6858-11" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_d1757276fd894f8b88007936770f6858-11"></a>
<a id="rest_code_d1757276fd894f8b88007936770f6858-12" name="rest_code_d1757276fd894f8b88007936770f6858-12" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_d1757276fd894f8b88007936770f6858-12"></a><span class="kr">BEGIN</span>
<a id="rest_code_d1757276fd894f8b88007936770f6858-13" name="rest_code_d1757276fd894f8b88007936770f6858-13" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_d1757276fd894f8b88007936770f6858-13"></a>  <span class="n">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
<a id="rest_code_d1757276fd894f8b88007936770f6858-14" name="rest_code_d1757276fd894f8b88007936770f6858-14" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_d1757276fd894f8b88007936770f6858-14"></a>  <span class="n">f</span><span class="p">;</span>
<a id="rest_code_d1757276fd894f8b88007936770f6858-15" name="rest_code_d1757276fd894f8b88007936770f6858-15" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_d1757276fd894f8b88007936770f6858-15"></a><span class="kr">END</span> <span class="n">NotForever</span><span class="p">.</span>
</pre></div>
<p>On my system, this program dies with with the error <code class="docutils literal">Segmentation
fault: 11</code> after call #524008.</p>
<p>Now on to trampolines.  In theory we should be able to declare a type
that is a function procedure that returns other function procedures.
Here's the first attempt at the limited trampoline,
<a class="reference external" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/trampolines/oberon-2/TrampolineBroken.Mod">TrampolineBroken.Mod</a>.</p>
<div class="code"><pre class="code modula2"><a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-1" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-1" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-1"></a><span class="kr">MODULE</span> <span class="n">TrampolineBroken</span><span class="p">;</span>              <span class="cm">(* Fail to demonstrate lisp-style trampolines. *)</span>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-2" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-2" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-2"></a>  <span class="kr">IMPORT</span> <span class="n">Out</span><span class="p">;</span>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-3" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-3" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-3"></a>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-4" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-4" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-4"></a>  <span class="kr">TYPE</span> <span class="n">Thunk</span> <span class="o">=</span> <span class="kr">PROCEDURE</span> <span class="p">():</span> <span class="n">Thunk</span><span class="p">;</span> <span class="cm">(* This is an error. *)</span>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-5" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-5" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-5"></a>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-6" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-6" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-6"></a>  <span class="kr">VAR</span> <span class="n">next</span><span class="p">:</span> <span class="n">Thunk</span><span class="p">;</span>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-7" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-7" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-7"></a>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-8" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-8" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-8"></a>  <span class="kr">PROCEDURE</span> <span class="n">baz</span> <span class="p">():</span> <span class="n">Thunk</span><span class="p">;</span>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-9" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-9" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-9"></a>  <span class="kr">BEGIN</span>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-10" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-10" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-10"></a>    <span class="n">Out</span><span class="p">.</span><span class="n">String</span> <span class="p">(</span><span class="s2">"baz"</span><span class="p">);</span> <span class="n">Out</span><span class="p">.</span><span class="n">Ln</span><span class="p">;</span>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-11" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-11" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-11"></a>    <span class="n">next</span> <span class="o">:=</span> <span class="nb">NIL</span><span class="p">;</span>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-12" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-12" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-12"></a>  <span class="kr">END</span> <span class="n">baz</span><span class="p">;</span>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-13" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-13" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-13"></a>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-14" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-14" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-14"></a>  <span class="kr">PROCEDURE</span> <span class="n">bar</span> <span class="p">():</span> <span class="n">Thunk</span><span class="p">;</span>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-15" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-15" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-15"></a>  <span class="kr">BEGIN</span>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-16" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-16" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-16"></a>    <span class="n">Out</span><span class="p">.</span><span class="n">String</span> <span class="p">(</span><span class="s2">"bar"</span><span class="p">);</span> <span class="n">Out</span><span class="p">.</span><span class="n">Ln</span><span class="p">;</span>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-17" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-17" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-17"></a>    <span class="n">next</span> <span class="o">:=</span> <span class="n">baz</span><span class="p">;</span>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-18" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-18" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-18"></a>  <span class="kr">END</span> <span class="n">bar</span><span class="p">;</span>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-19" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-19" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-19"></a>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-20" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-20" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-20"></a>  <span class="kr">PROCEDURE</span> <span class="n">foo</span> <span class="p">():</span> <span class="n">Thunk</span><span class="p">;</span>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-21" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-21" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-21"></a>  <span class="kr">BEGIN</span>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-22" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-22" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-22"></a>    <span class="n">Out</span><span class="p">.</span><span class="n">String</span> <span class="p">(</span><span class="s2">"foo"</span><span class="p">);</span> <span class="n">Out</span><span class="p">.</span><span class="n">Ln</span><span class="p">;</span>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-23" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-23" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-23"></a>    <span class="n">next</span> <span class="o">:=</span> <span class="n">bar</span><span class="p">;</span>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-24" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-24" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-24"></a>  <span class="kr">END</span> <span class="n">foo</span><span class="p">;</span>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-25" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-25" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-25"></a>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-26" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-26" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-26"></a><span class="kr">BEGIN</span>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-27" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-27" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-27"></a>  <span class="n">next</span> <span class="o">:=</span> <span class="n">foo</span><span class="p">;</span>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-28" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-28" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-28"></a>  <span class="kr">WHILE</span> <span class="n">next</span> <span class="o">#</span> <span class="nb">NIL</span> <span class="kr">DO</span>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-29" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-29" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-29"></a>    <span class="n">next</span> <span class="o">:=</span> <span class="n">next</span> <span class="p">();</span>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-30" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-30" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-30"></a>  <span class="kr">END</span><span class="p">;</span>
<a id="rest_code_e010afe662fc4f34bd0f33dffee8c0db-31" name="rest_code_e010afe662fc4f34bd0f33dffee8c0db-31" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_e010afe662fc4f34bd0f33dffee8c0db-31"></a><span class="kr">END</span> <span class="n">TrampolineBroken</span><span class="p">.</span>
</pre></div>
<p>Unfortunately, trying to compile this dies with the following error
message:</p>
<pre class="literal-block">TrampolineBroken.Mod  Compiling TrampolineBroken.

   4:   TYPE Thunk = PROCEDURE (): Thunk;
                             ^
    pos   126  err 244  cyclic type definition not allowed

Module compilation failed.</pre>
<p>As mentioned <a class="reference external" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#mentioning-recursive-types">above</a>, this is a case of a <a class="reference external" href="https://en.wikipedia.org/wiki/Recursive_data_type">recursive type</a>.  Well, drat.</p>
<p>At this point the immediate reaction is to look at the C version and
try to hack up something analogous using functionality from
<a class="reference external" href="https://en.wikipedia.org/wiki/Oberon-2">Oberon-2</a>'s <code class="docutils literal">SYSTEM</code> module, but that way lies madness, difficulty,
and type errors.  Instead, you have to step back and think about
things from another viewpoint.  The problem is that we can't declare a
type for a function procedure that returns another function procedure
of its type, because that is recursive.  Instead of trying for a
<a class="reference external" href="https://en.wikipedia.org/wiki/Recursive_data_type">recursive type</a>, what if we switched to storing the next procedure
to be run in a global variable, <code class="docutils literal">next</code>, and having each procedure in
the chain set that to the procedure that should run next?  That should
work!</p>
<p>Here's <a class="reference external" href="trampolines/oberon-2/Trampoline.Mod">Trampoline.Mod</a>, a version that works!</p>
<div class="code"><pre class="code modula2"><a id="rest_code_10e9297584294d0987f03a39246c6e3f-1" name="rest_code_10e9297584294d0987f03a39246c6e3f-1" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-1"></a><span class="kr">MODULE</span> <span class="n">Trampoline</span><span class="p">;</span>              <span class="cm">(* Demonstrate lisp-style trampolines. *)</span>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-2" name="rest_code_10e9297584294d0987f03a39246c6e3f-2" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-2"></a>  <span class="kr">IMPORT</span> <span class="n">Out</span><span class="p">;</span>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-3" name="rest_code_10e9297584294d0987f03a39246c6e3f-3" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-3"></a>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-4" name="rest_code_10e9297584294d0987f03a39246c6e3f-4" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-4"></a>  <span class="kr">TYPE</span> <span class="n">Thunk</span> <span class="o">=</span> <span class="kr">PROCEDURE</span> <span class="p">();</span>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-5" name="rest_code_10e9297584294d0987f03a39246c6e3f-5" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-5"></a>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-6" name="rest_code_10e9297584294d0987f03a39246c6e3f-6" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-6"></a>  <span class="kr">VAR</span> <span class="n">next</span><span class="p">:</span> <span class="n">Thunk</span><span class="p">;</span>              <span class="cm">(* Next procedure to be called. *)</span>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-7" name="rest_code_10e9297584294d0987f03a39246c6e3f-7" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-7"></a>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-8" name="rest_code_10e9297584294d0987f03a39246c6e3f-8" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-8"></a>  <span class="kr">PROCEDURE</span> <span class="n">baz</span> <span class="p">();</span>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-9" name="rest_code_10e9297584294d0987f03a39246c6e3f-9" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-9"></a>  <span class="kr">BEGIN</span>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-10" name="rest_code_10e9297584294d0987f03a39246c6e3f-10" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-10"></a>    <span class="n">Out</span><span class="p">.</span><span class="n">String</span> <span class="p">(</span><span class="s2">"baz"</span><span class="p">);</span> <span class="n">Out</span><span class="p">.</span><span class="n">Ln</span><span class="p">;</span>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-11" name="rest_code_10e9297584294d0987f03a39246c6e3f-11" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-11"></a>    <span class="n">next</span> <span class="o">:=</span> <span class="nb">NIL</span><span class="p">;</span>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-12" name="rest_code_10e9297584294d0987f03a39246c6e3f-12" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-12"></a>  <span class="kr">END</span> <span class="n">baz</span><span class="p">;</span>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-13" name="rest_code_10e9297584294d0987f03a39246c6e3f-13" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-13"></a>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-14" name="rest_code_10e9297584294d0987f03a39246c6e3f-14" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-14"></a>  <span class="kr">PROCEDURE</span> <span class="n">bar</span> <span class="p">();</span>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-15" name="rest_code_10e9297584294d0987f03a39246c6e3f-15" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-15"></a>  <span class="kr">BEGIN</span>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-16" name="rest_code_10e9297584294d0987f03a39246c6e3f-16" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-16"></a>    <span class="n">Out</span><span class="p">.</span><span class="n">String</span> <span class="p">(</span><span class="s2">"bar"</span><span class="p">);</span> <span class="n">Out</span><span class="p">.</span><span class="n">Ln</span><span class="p">;</span>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-17" name="rest_code_10e9297584294d0987f03a39246c6e3f-17" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-17"></a>    <span class="n">next</span> <span class="o">:=</span> <span class="n">baz</span><span class="p">;</span>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-18" name="rest_code_10e9297584294d0987f03a39246c6e3f-18" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-18"></a>  <span class="kr">END</span> <span class="n">bar</span><span class="p">;</span>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-19" name="rest_code_10e9297584294d0987f03a39246c6e3f-19" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-19"></a>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-20" name="rest_code_10e9297584294d0987f03a39246c6e3f-20" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-20"></a>  <span class="kr">PROCEDURE</span> <span class="n">foo</span> <span class="p">();</span>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-21" name="rest_code_10e9297584294d0987f03a39246c6e3f-21" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-21"></a>  <span class="kr">BEGIN</span>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-22" name="rest_code_10e9297584294d0987f03a39246c6e3f-22" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-22"></a>    <span class="n">Out</span><span class="p">.</span><span class="n">String</span> <span class="p">(</span><span class="s2">"foo"</span><span class="p">);</span> <span class="n">Out</span><span class="p">.</span><span class="n">Ln</span><span class="p">;</span>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-23" name="rest_code_10e9297584294d0987f03a39246c6e3f-23" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-23"></a>    <span class="n">next</span> <span class="o">:=</span> <span class="n">bar</span><span class="p">;</span>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-24" name="rest_code_10e9297584294d0987f03a39246c6e3f-24" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-24"></a>  <span class="kr">END</span> <span class="n">foo</span><span class="p">;</span>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-25" name="rest_code_10e9297584294d0987f03a39246c6e3f-25" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-25"></a>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-26" name="rest_code_10e9297584294d0987f03a39246c6e3f-26" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-26"></a><span class="kr">BEGIN</span>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-27" name="rest_code_10e9297584294d0987f03a39246c6e3f-27" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-27"></a>  <span class="n">next</span> <span class="o">:=</span> <span class="n">foo</span><span class="p">;</span>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-28" name="rest_code_10e9297584294d0987f03a39246c6e3f-28" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-28"></a>  <span class="kr">WHILE</span> <span class="n">next</span> <span class="o">#</span> <span class="nb">NIL</span> <span class="kr">DO</span>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-29" name="rest_code_10e9297584294d0987f03a39246c6e3f-29" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-29"></a>    <span class="n">next</span> <span class="p">();</span>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-30" name="rest_code_10e9297584294d0987f03a39246c6e3f-30" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-30"></a>  <span class="kr">END</span><span class="p">;</span>
<a id="rest_code_10e9297584294d0987f03a39246c6e3f-31" name="rest_code_10e9297584294d0987f03a39246c6e3f-31" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_10e9297584294d0987f03a39246c6e3f-31"></a><span class="kr">END</span> <span class="n">Trampoline</span><span class="p">.</span>
</pre></div>
<p>And here's <a class="reference external" href="trampolines/oberon-2/TrampolineForever.Mod">TrampolineForever.Mod</a>, which also works!</p>
<div class="code"><pre class="code modula2"><a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-1" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-1" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-1"></a><span class="kr">MODULE</span> <span class="n">TrampolineForever</span><span class="p">;</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-2" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-2" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-2"></a>  <span class="cm">(* Recurse forever without running out of stack space.  *)</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-3" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-3" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-3"></a>  <span class="kr">IMPORT</span> <span class="n">Out</span><span class="p">;</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-4" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-4" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-4"></a>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-5" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-5" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-5"></a>  <span class="kr">TYPE</span> <span class="n">Thunk</span> <span class="o">=</span> <span class="kr">PROCEDURE</span> <span class="p">();</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-6" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-6" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-6"></a>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-7" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-7" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-7"></a>  <span class="kr">VAR</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-8" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-8" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-8"></a>    <span class="n">next</span><span class="p">:</span> <span class="n">Thunk</span><span class="p">;</span>         <span class="cm">(* Next procedure to be called. *)</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-9" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-9" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-9"></a>    <span class="n">i</span><span class="p">:</span> <span class="nb">INTEGER</span><span class="p">;</span>          <span class="cm">(* Number of times through the trampoline. *)</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-10" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-10" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-10"></a>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-11" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-11" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-11"></a>  <span class="kr">PROCEDURE</span> <span class="o">^</span><span class="n">foo</span><span class="p">;</span>        <span class="cm">(* Forward declaration. *)</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-12" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-12" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-12"></a>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-13" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-13" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-13"></a>  <span class="kr">PROCEDURE</span> <span class="n">baz</span> <span class="p">();</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-14" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-14" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-14"></a>  <span class="kr">BEGIN</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-15" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-15" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-15"></a>    <span class="n">Out</span><span class="p">.</span><span class="n">String</span> <span class="p">(</span><span class="s2">"baz"</span><span class="p">);</span> <span class="n">Out</span><span class="p">.</span><span class="n">Ln</span><span class="p">;</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-16" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-16" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-16"></a>    <span class="n">next</span> <span class="o">:=</span> <span class="n">foo</span><span class="p">;</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-17" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-17" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-17"></a>  <span class="kr">END</span> <span class="n">baz</span><span class="p">;</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-18" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-18" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-18"></a>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-19" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-19" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-19"></a>  <span class="kr">PROCEDURE</span> <span class="n">bar</span> <span class="p">();</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-20" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-20" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-20"></a>  <span class="kr">BEGIN</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-21" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-21" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-21"></a>    <span class="n">Out</span><span class="p">.</span><span class="n">String</span> <span class="p">(</span><span class="s2">"bar"</span><span class="p">);</span> <span class="n">Out</span><span class="p">.</span><span class="n">Ln</span><span class="p">;</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-22" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-22" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-22"></a>    <span class="n">next</span> <span class="o">:=</span> <span class="n">baz</span><span class="p">;</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-23" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-23" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-23"></a>  <span class="kr">END</span> <span class="n">bar</span><span class="p">;</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-24" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-24" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-24"></a>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-25" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-25" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-25"></a>  <span class="kr">PROCEDURE</span> <span class="n">foo</span> <span class="p">();</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-26" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-26" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-26"></a>  <span class="kr">BEGIN</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-27" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-27" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-27"></a>    <span class="n">Out</span><span class="p">.</span><span class="n">String</span> <span class="p">(</span><span class="s2">"foo"</span><span class="p">);</span> <span class="n">Out</span><span class="p">.</span><span class="n">Ln</span><span class="p">;</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-28" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-28" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-28"></a>    <span class="n">next</span> <span class="o">:=</span> <span class="n">bar</span><span class="p">;</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-29" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-29" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-29"></a>  <span class="kr">END</span> <span class="n">foo</span><span class="p">;</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-30" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-30" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-30"></a>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-31" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-31" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-31"></a><span class="kr">BEGIN</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-32" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-32" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-32"></a>  <span class="n">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-33" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-33" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-33"></a>  <span class="n">next</span> <span class="o">:=</span> <span class="n">foo</span><span class="p">;</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-34" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-34" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-34"></a>  <span class="kr">WHILE</span> <span class="n">next</span> <span class="o">#</span> <span class="nb">NIL</span> <span class="kr">DO</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-35" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-35" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-35"></a>    <span class="nb">INC</span> <span class="p">(</span><span class="n">i</span><span class="p">);</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-36" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-36" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-36"></a>    <span class="n">Out</span><span class="p">.</span><span class="n">String</span> <span class="p">(</span><span class="s2">"call #"</span><span class="p">);</span> <span class="n">Out</span><span class="p">.</span><span class="n">Int</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="n">Out</span><span class="p">.</span><span class="n">Ln</span><span class="p">;</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-37" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-37" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-37"></a>    <span class="n">next</span> <span class="p">();</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-38" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-38" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-38"></a>  <span class="kr">END</span><span class="p">;</span>
<a id="rest_code_7f1194ce854b48af929f1dd05c856ba7-39" name="rest_code_7f1194ce854b48af929f1dd05c856ba7-39" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_7f1194ce854b48af929f1dd05c856ba7-39"></a><span class="kr">END</span> <span class="n">TrampolineForever</span><span class="p">.</span>
</pre></div>
<p>Wirth has continued to work on Oberon, producing an even more
minimalist revision, often know as Oberon-07, or <a class="reference external" href="https://people.inf.ethz.ch/wirth/Oberon/index.html">Revised Oberon</a>.
(Here's the <a class="reference external" href="https://people.inf.ethz.ch/wirth/Oberon/Oberon07.Report.pdf">The Programming Language Oberon-07 (Revised Oberon)</a> in
PDF, for reference.)  Unfortunately, he removed forward declarations
and the <code class="docutils literal">LONGINT</code> type, which means we have to make some minor
changes.</p>
<p>I'm using OBNC (<a class="reference external" href="https://miasap.se/obnc/">OBNC1</a>, <a class="reference external" href="https://github.com/GunterMueller/OBNC">OBNC2</a>) for <a class="reference external" href="https://people.inf.ethz.ch/wirth/Oberon/index.html">Revised Oberon</a>.</p>
<p>Here's the <a class="reference external" href="trampolines/revised-oberon/NotForever.Mod">Revised Oberon NotForever.Mod</a>, with <code class="docutils literal">LONGINT</code> replaced
by <code class="docutils literal">INTEGER</code>:</p>
<div class="code"><pre class="code modula2"><a id="rest_code_fce3daaece6942e58d751a9d91c1024a-1" name="rest_code_fce3daaece6942e58d751a9d91c1024a-1" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_fce3daaece6942e58d751a9d91c1024a-1"></a><span class="kr">MODULE</span> <span class="n">NotForever</span><span class="p">;</span>           <span class="cm">(* Recurse until stack space runs out. *)</span>
<a id="rest_code_fce3daaece6942e58d751a9d91c1024a-2" name="rest_code_fce3daaece6942e58d751a9d91c1024a-2" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_fce3daaece6942e58d751a9d91c1024a-2"></a>  <span class="kr">IMPORT</span> <span class="n">Out</span><span class="p">;</span>
<a id="rest_code_fce3daaece6942e58d751a9d91c1024a-3" name="rest_code_fce3daaece6942e58d751a9d91c1024a-3" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_fce3daaece6942e58d751a9d91c1024a-3"></a>  <span class="kr">VAR</span> <span class="n">i</span><span class="p">:</span> <span class="nb">INTEGER</span><span class="p">;</span>            <span class="cm">(* Number of times f has been called. *)</span>
<a id="rest_code_fce3daaece6942e58d751a9d91c1024a-4" name="rest_code_fce3daaece6942e58d751a9d91c1024a-4" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_fce3daaece6942e58d751a9d91c1024a-4"></a>    <span class="cm">(* Alas, no more LONGINT. *)</span>
<a id="rest_code_fce3daaece6942e58d751a9d91c1024a-5" name="rest_code_fce3daaece6942e58d751a9d91c1024a-5" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_fce3daaece6942e58d751a9d91c1024a-5"></a>
<a id="rest_code_fce3daaece6942e58d751a9d91c1024a-6" name="rest_code_fce3daaece6942e58d751a9d91c1024a-6" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_fce3daaece6942e58d751a9d91c1024a-6"></a>  <span class="kr">PROCEDURE</span> <span class="n">f</span><span class="p">;</span>
<a id="rest_code_fce3daaece6942e58d751a9d91c1024a-7" name="rest_code_fce3daaece6942e58d751a9d91c1024a-7" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_fce3daaece6942e58d751a9d91c1024a-7"></a>  <span class="kr">BEGIN</span>
<a id="rest_code_fce3daaece6942e58d751a9d91c1024a-8" name="rest_code_fce3daaece6942e58d751a9d91c1024a-8" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_fce3daaece6942e58d751a9d91c1024a-8"></a>    <span class="nb">INC</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
<a id="rest_code_fce3daaece6942e58d751a9d91c1024a-9" name="rest_code_fce3daaece6942e58d751a9d91c1024a-9" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_fce3daaece6942e58d751a9d91c1024a-9"></a>    <span class="n">Out</span><span class="p">.</span><span class="n">String</span> <span class="p">(</span><span class="s2">"call #"</span><span class="p">);</span> <span class="n">Out</span><span class="p">.</span><span class="n">Int</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="n">Out</span><span class="p">.</span><span class="n">Ln</span><span class="p">;</span>
<a id="rest_code_fce3daaece6942e58d751a9d91c1024a-10" name="rest_code_fce3daaece6942e58d751a9d91c1024a-10" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_fce3daaece6942e58d751a9d91c1024a-10"></a>    <span class="n">f</span><span class="p">;</span>
<a id="rest_code_fce3daaece6942e58d751a9d91c1024a-11" name="rest_code_fce3daaece6942e58d751a9d91c1024a-11" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_fce3daaece6942e58d751a9d91c1024a-11"></a>  <span class="kr">END</span> <span class="n">f</span><span class="p">;</span>
<a id="rest_code_fce3daaece6942e58d751a9d91c1024a-12" name="rest_code_fce3daaece6942e58d751a9d91c1024a-12" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_fce3daaece6942e58d751a9d91c1024a-12"></a>
<a id="rest_code_fce3daaece6942e58d751a9d91c1024a-13" name="rest_code_fce3daaece6942e58d751a9d91c1024a-13" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_fce3daaece6942e58d751a9d91c1024a-13"></a><span class="kr">BEGIN</span>
<a id="rest_code_fce3daaece6942e58d751a9d91c1024a-14" name="rest_code_fce3daaece6942e58d751a9d91c1024a-14" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_fce3daaece6942e58d751a9d91c1024a-14"></a>  <span class="n">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
<a id="rest_code_fce3daaece6942e58d751a9d91c1024a-15" name="rest_code_fce3daaece6942e58d751a9d91c1024a-15" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_fce3daaece6942e58d751a9d91c1024a-15"></a>  <span class="n">f</span><span class="p">;</span>
<a id="rest_code_fce3daaece6942e58d751a9d91c1024a-16" name="rest_code_fce3daaece6942e58d751a9d91c1024a-16" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_fce3daaece6942e58d751a9d91c1024a-16"></a><span class="kr">END</span> <span class="n">NotForever</span><span class="p">.</span>
</pre></div>
<p>Here's the <a class="reference external" href="trampolines/revised-oberon/Trampoline.Mod">Revised Oberon Trampoline.Mod</a>:</p>
<div class="code"><pre class="code modula2"><a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-1" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-1" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-1"></a><span class="kr">MODULE</span> <span class="n">Trampoline</span><span class="p">;</span>              <span class="cm">(* Demonstrate lisp-style trampolines. *)</span>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-2" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-2" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-2"></a>  <span class="kr">IMPORT</span> <span class="n">Out</span><span class="p">;</span>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-3" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-3" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-3"></a>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-4" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-4" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-4"></a>  <span class="kr">TYPE</span> <span class="n">Thunk</span> <span class="o">=</span> <span class="kr">PROCEDURE</span> <span class="p">();</span>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-5" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-5" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-5"></a>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-6" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-6" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-6"></a>  <span class="kr">VAR</span> <span class="n">next</span><span class="p">:</span> <span class="n">Thunk</span><span class="p">;</span>              <span class="cm">(* Next procedure to be called. *)</span>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-7" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-7" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-7"></a>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-8" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-8" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-8"></a>  <span class="kr">PROCEDURE</span> <span class="n">baz</span> <span class="p">();</span>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-9" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-9" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-9"></a>  <span class="kr">BEGIN</span>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-10" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-10" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-10"></a>    <span class="n">Out</span><span class="p">.</span><span class="n">String</span> <span class="p">(</span><span class="s2">"baz"</span><span class="p">);</span> <span class="n">Out</span><span class="p">.</span><span class="n">Ln</span><span class="p">;</span>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-11" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-11" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-11"></a>    <span class="n">next</span> <span class="o">:=</span> <span class="nb">NIL</span><span class="p">;</span>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-12" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-12" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-12"></a>  <span class="kr">END</span> <span class="n">baz</span><span class="p">;</span>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-13" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-13" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-13"></a>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-14" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-14" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-14"></a>  <span class="kr">PROCEDURE</span> <span class="n">bar</span> <span class="p">();</span>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-15" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-15" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-15"></a>  <span class="kr">BEGIN</span>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-16" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-16" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-16"></a>    <span class="n">Out</span><span class="p">.</span><span class="n">String</span> <span class="p">(</span><span class="s2">"bar"</span><span class="p">);</span> <span class="n">Out</span><span class="p">.</span><span class="n">Ln</span><span class="p">;</span>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-17" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-17" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-17"></a>    <span class="n">next</span> <span class="o">:=</span> <span class="n">baz</span><span class="p">;</span>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-18" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-18" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-18"></a>  <span class="kr">END</span> <span class="n">bar</span><span class="p">;</span>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-19" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-19" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-19"></a>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-20" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-20" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-20"></a>  <span class="kr">PROCEDURE</span> <span class="n">foo</span> <span class="p">();</span>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-21" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-21" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-21"></a>  <span class="kr">BEGIN</span>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-22" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-22" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-22"></a>    <span class="n">Out</span><span class="p">.</span><span class="n">String</span> <span class="p">(</span><span class="s2">"foo"</span><span class="p">);</span> <span class="n">Out</span><span class="p">.</span><span class="n">Ln</span><span class="p">;</span>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-23" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-23" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-23"></a>    <span class="n">next</span> <span class="o">:=</span> <span class="n">bar</span><span class="p">;</span>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-24" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-24" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-24"></a>  <span class="kr">END</span> <span class="n">foo</span><span class="p">;</span>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-25" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-25" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-25"></a>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-26" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-26" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-26"></a><span class="kr">BEGIN</span>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-27" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-27" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-27"></a>  <span class="n">next</span> <span class="o">:=</span> <span class="n">foo</span><span class="p">;</span>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-28" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-28" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-28"></a>  <span class="kr">WHILE</span> <span class="n">next</span> <span class="o">#</span> <span class="nb">NIL</span> <span class="kr">DO</span>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-29" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-29" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-29"></a>    <span class="n">next</span> <span class="p">();</span>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-30" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-30" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-30"></a>  <span class="kr">END</span><span class="p">;</span>
<a id="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-31" name="rest_code_c8ec29228c29483ca2528b09f2c5f0cb-31" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_c8ec29228c29483ca2528b09f2c5f0cb-31"></a><span class="kr">END</span> <span class="n">Trampoline</span><span class="p">.</span>
</pre></div>
<p>Here's the <a class="reference external" href="trampolines/revised-oberon/TrampolineForever.Mod">Revised Oberon TrampolineForever.Mod</a>, with a workaround
for the removal of forward declarations of procedures:</p>
<div class="code"><pre class="code modula2"><a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-1" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-1" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-1"></a><span class="kr">MODULE</span> <span class="n">TrampolineForever</span><span class="p">;</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-2" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-2" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-2"></a>  <span class="cm">(* Recurse forever without running out of stack space.  *)</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-3" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-3" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-3"></a>  <span class="kr">IMPORT</span> <span class="n">Out</span><span class="p">;</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-4" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-4" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-4"></a>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-5" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-5" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-5"></a>  <span class="kr">TYPE</span> <span class="n">Thunk</span> <span class="o">=</span> <span class="kr">PROCEDURE</span> <span class="p">();</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-6" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-6" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-6"></a>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-7" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-7" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-7"></a>  <span class="kr">VAR</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-8" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-8" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-8"></a>    <span class="n">forward</span><span class="p">:</span> <span class="n">Thunk</span><span class="p">;</span>      <span class="cm">(* Forward declaration. *)</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-9" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-9" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-9"></a>    <span class="n">next</span><span class="p">:</span> <span class="n">Thunk</span><span class="p">;</span>         <span class="cm">(* Next procedure to be called. *)</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-10" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-10" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-10"></a>    <span class="n">i</span><span class="p">:</span> <span class="nb">INTEGER</span><span class="p">;</span>          <span class="cm">(* Number of times through the trampoline. *)</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-11" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-11" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-11"></a>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-12" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-12" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-12"></a>  <span class="kr">PROCEDURE</span> <span class="n">baz</span> <span class="p">();</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-13" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-13" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-13"></a>  <span class="kr">BEGIN</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-14" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-14" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-14"></a>    <span class="n">Out</span><span class="p">.</span><span class="n">String</span> <span class="p">(</span><span class="s2">"baz"</span><span class="p">);</span> <span class="n">Out</span><span class="p">.</span><span class="n">Ln</span><span class="p">;</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-15" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-15" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-15"></a>    <span class="n">next</span> <span class="o">:=</span> <span class="n">forward</span><span class="p">;</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-16" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-16" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-16"></a>  <span class="kr">END</span> <span class="n">baz</span><span class="p">;</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-17" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-17" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-17"></a>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-18" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-18" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-18"></a>  <span class="kr">PROCEDURE</span> <span class="n">bar</span> <span class="p">();</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-19" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-19" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-19"></a>  <span class="kr">BEGIN</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-20" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-20" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-20"></a>    <span class="n">Out</span><span class="p">.</span><span class="n">String</span> <span class="p">(</span><span class="s2">"bar"</span><span class="p">);</span> <span class="n">Out</span><span class="p">.</span><span class="n">Ln</span><span class="p">;</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-21" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-21" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-21"></a>    <span class="n">next</span> <span class="o">:=</span> <span class="n">baz</span><span class="p">;</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-22" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-22" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-22"></a>  <span class="kr">END</span> <span class="n">bar</span><span class="p">;</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-23" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-23" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-23"></a>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-24" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-24" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-24"></a>  <span class="kr">PROCEDURE</span> <span class="n">foo</span> <span class="p">();</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-25" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-25" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-25"></a>  <span class="kr">BEGIN</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-26" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-26" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-26"></a>    <span class="n">Out</span><span class="p">.</span><span class="n">String</span> <span class="p">(</span><span class="s2">"foo"</span><span class="p">);</span> <span class="n">Out</span><span class="p">.</span><span class="n">Ln</span><span class="p">;</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-27" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-27" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-27"></a>    <span class="n">next</span> <span class="o">:=</span> <span class="n">bar</span><span class="p">;</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-28" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-28" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-28"></a>  <span class="kr">END</span> <span class="n">foo</span><span class="p">;</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-29" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-29" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-29"></a>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-30" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-30" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-30"></a><span class="kr">BEGIN</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-31" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-31" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-31"></a>  <span class="n">forward</span> <span class="o">:=</span> <span class="n">foo</span><span class="p">;</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-32" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-32" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-32"></a>  <span class="n">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-33" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-33" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-33"></a>  <span class="n">next</span> <span class="o">:=</span> <span class="n">foo</span><span class="p">;</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-34" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-34" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-34"></a>  <span class="kr">WHILE</span> <span class="n">next</span> <span class="o">#</span> <span class="nb">NIL</span> <span class="kr">DO</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-35" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-35" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-35"></a>    <span class="nb">INC</span> <span class="p">(</span><span class="n">i</span><span class="p">);</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-36" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-36" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-36"></a>    <span class="n">Out</span><span class="p">.</span><span class="n">String</span> <span class="p">(</span><span class="s2">"call #"</span><span class="p">);</span> <span class="n">Out</span><span class="p">.</span><span class="n">Int</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="n">Out</span><span class="p">.</span><span class="n">Ln</span><span class="p">;</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-37" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-37" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-37"></a>    <span class="n">next</span> <span class="p">();</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-38" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-38" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-38"></a>  <span class="kr">END</span><span class="p">;</span>
<a id="rest_code_34d18a8ae5df4b4d839bef8feed5140f-39" name="rest_code_34d18a8ae5df4b4d839bef8feed5140f-39" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_34d18a8ae5df4b4d839bef8feed5140f-39"></a><span class="kr">END</span> <span class="n">TrampolineForever</span><span class="p">.</span>
</pre></div>
<p>Note that with forward declarations removed, we just declare a
procedure variable, <code class="docutils literal">forward</code>, initialize it before starting the
trampoline, and refer to it instead of <code class="docutils literal">foo</code> in procedure <code class="docutils literal">baz</code>.</p>
<p>And of course, since we mentioned <a class="reference external" href="https://en.wikipedia.org/wiki/Ada_(programming_language)">Ada</a> above, we should do a version
in that.  I'm using <a class="reference external" href="https://en.wikipedia.org/wiki/GNAT">GNAT</a>.</p>
<p>Here's <a class="reference external" href="trampolines/ada/not_forever.adb">not_forever.adb</a>:</p>
<div class="code"><pre class="code ada"><a id="rest_code_810656b8b31e488db35ec34a1a2e34af-1" name="rest_code_810656b8b31e488db35ec34a1a2e34af-1" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_810656b8b31e488db35ec34a1a2e34af-1"></a><span class="kn">with</span> <span class="n">Ada.Text_IO</span><span class="p">;</span> <span class="kn">use</span> <span class="n">Ada.Text_IO</span><span class="p">;</span>
<a id="rest_code_810656b8b31e488db35ec34a1a2e34af-2" name="rest_code_810656b8b31e488db35ec34a1a2e34af-2" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_810656b8b31e488db35ec34a1a2e34af-2"></a><span class="kd">procedure</span> <span class="nf">not_forever</span> <span class="kr">is</span>        <span class="c1">-- recurse until stack space runs out.</span>
<a id="rest_code_810656b8b31e488db35ec34a1a2e34af-3" name="rest_code_810656b8b31e488db35ec34a1a2e34af-3" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_810656b8b31e488db35ec34a1a2e34af-3"></a>  <span class="kd">type</span> <span class="kt">Unsigned</span> <span class="kr">is</span> <span class="ow">mod</span> <span class="mi">2</span><span class="o">**</span><span class="mi">64</span><span class="p">;</span>   <span class="c1">-- wrap to 0 when maximum value is execeeded.</span>
<a id="rest_code_810656b8b31e488db35ec34a1a2e34af-4" name="rest_code_810656b8b31e488db35ec34a1a2e34af-4" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_810656b8b31e488db35ec34a1a2e34af-4"></a>  <span class="n">i</span><span class="p">:</span> <span class="n">Unsigned</span> <span class="p">:=</span> <span class="mi">0</span><span class="p">;</span>             <span class="c1">-- Number of times f has been called.</span>
<a id="rest_code_810656b8b31e488db35ec34a1a2e34af-5" name="rest_code_810656b8b31e488db35ec34a1a2e34af-5" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_810656b8b31e488db35ec34a1a2e34af-5"></a>
<a id="rest_code_810656b8b31e488db35ec34a1a2e34af-6" name="rest_code_810656b8b31e488db35ec34a1a2e34af-6" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_810656b8b31e488db35ec34a1a2e34af-6"></a>  <span class="kd">procedure</span> <span class="nf">f</span> <span class="kr">is</span>
<a id="rest_code_810656b8b31e488db35ec34a1a2e34af-7" name="rest_code_810656b8b31e488db35ec34a1a2e34af-7" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_810656b8b31e488db35ec34a1a2e34af-7"></a>  <span class="kr">begin</span>
<a id="rest_code_810656b8b31e488db35ec34a1a2e34af-8" name="rest_code_810656b8b31e488db35ec34a1a2e34af-8" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_810656b8b31e488db35ec34a1a2e34af-8"></a>    <span class="n">i</span> <span class="p">:=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<a id="rest_code_810656b8b31e488db35ec34a1a2e34af-9" name="rest_code_810656b8b31e488db35ec34a1a2e34af-9" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_810656b8b31e488db35ec34a1a2e34af-9"></a>    <span class="n">f</span><span class="p">;</span>
<a id="rest_code_810656b8b31e488db35ec34a1a2e34af-10" name="rest_code_810656b8b31e488db35ec34a1a2e34af-10" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_810656b8b31e488db35ec34a1a2e34af-10"></a>  <span class="kr">end</span> <span class="nf">f</span><span class="p">;</span>
<a id="rest_code_810656b8b31e488db35ec34a1a2e34af-11" name="rest_code_810656b8b31e488db35ec34a1a2e34af-11" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_810656b8b31e488db35ec34a1a2e34af-11"></a>
<a id="rest_code_810656b8b31e488db35ec34a1a2e34af-12" name="rest_code_810656b8b31e488db35ec34a1a2e34af-12" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_810656b8b31e488db35ec34a1a2e34af-12"></a><span class="kr">begin</span>
<a id="rest_code_810656b8b31e488db35ec34a1a2e34af-13" name="rest_code_810656b8b31e488db35ec34a1a2e34af-13" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_810656b8b31e488db35ec34a1a2e34af-13"></a>  <span class="n">f</span><span class="p">;</span>
<a id="rest_code_810656b8b31e488db35ec34a1a2e34af-14" name="rest_code_810656b8b31e488db35ec34a1a2e34af-14" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_810656b8b31e488db35ec34a1a2e34af-14"></a><span class="kr">exception</span>
<a id="rest_code_810656b8b31e488db35ec34a1a2e34af-15" name="rest_code_810656b8b31e488db35ec34a1a2e34af-15" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_810656b8b31e488db35ec34a1a2e34af-15"></a>  <span class="kr">when</span> <span class="n">STORAGE_ERROR</span> <span class="p">=&gt;</span>
<a id="rest_code_810656b8b31e488db35ec34a1a2e34af-16" name="rest_code_810656b8b31e488db35ec34a1a2e34af-16" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_810656b8b31e488db35ec34a1a2e34af-16"></a>  <span class="n">Put</span> <span class="p">(</span><span class="s">"STORAGE_ERROR raised with i = "</span><span class="p">);</span> <span class="n">Put</span> <span class="p">(</span><span class="n">i</span><span class="p">'</span><span class="na">Image</span><span class="p">);</span> <span class="n">New_Line</span><span class="p">;</span>
<a id="rest_code_810656b8b31e488db35ec34a1a2e34af-17" name="rest_code_810656b8b31e488db35ec34a1a2e34af-17" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_810656b8b31e488db35ec34a1a2e34af-17"></a><span class="kr">end</span> <span class="nf">not_forever</span><span class="p">;</span>
</pre></div>
<p>Since <a class="reference external" href="https://en.wikipedia.org/wiki/Ada_(programming_language)">Ada</a> has exceptions, we actually catch the exception that
happens when the stack runs out of space:</p>
<pre class="literal-block">STORAGE_ERROR raised with i =  262002</pre>
<p>Again, <a class="reference external" href="https://en.wikipedia.org/wiki/Ada_(programming_language)">Ada</a> would have the same problem with <a class="reference external" href="https://en.wikipedia.org/wiki/Recursive_data_type">recursive type</a>s as
the Oberon dialects.  Don't look at the C version and wander off into
forest of <code class="docutils literal">Ada.Unchecked_Conversion</code> because that's unsafe, or the
thicket of <code class="docutils literal">System.Address_To_Access_Conversions</code>, because that
one's also unsafe and more complicated (and the simple approach didn't
work, when I tried it).  Instead, do the same thing as we did in the
Oberon dialects, and move to a global variable instead of returning
the values from the functions.</p>
<p>Here's <a class="reference external" href="trampolines/ada/trampoline.adb">trampoline.adb</a>:</p>
<div class="code"><pre class="code ada"><a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-1" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-1" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-1"></a><span class="kn">with</span> <span class="n">Ada.Text_IO</span><span class="p">;</span> <span class="kn">use</span> <span class="n">Ada.Text_IO</span><span class="p">;</span>
<a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-2" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-2" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-2"></a><span class="kd">procedure</span> <span class="nf">trampoline</span> <span class="kr">is</span>         <span class="c1">-- Demonstrate lisp-style trampolines.</span>
<a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-3" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-3" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-3"></a>    <span class="kd">type</span> <span class="kt">Thunk</span> <span class="kr">is</span> <span class="kr">access</span> <span class="kd">procedure</span><span class="p">;</span>
<a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-4" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-4" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-4"></a>
<a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-5" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-5" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-5"></a>    <span class="n">Next</span><span class="p">:</span> <span class="n">Thunk</span> <span class="p">:=</span> <span class="kc">null</span><span class="p">;</span>        <span class="c1">-- Next procedure to be called.</span>
<a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-6" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-6" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-6"></a>
<a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-7" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-7" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-7"></a>    <span class="kd">procedure</span> <span class="nf">baz</span> <span class="kr">is</span>
<a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-8" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-8" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-8"></a>    <span class="kr">begin</span>
<a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-9" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-9" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-9"></a>        <span class="n">Put_Line</span> <span class="p">(</span><span class="s">"baz"</span><span class="p">);</span>
<a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-10" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-10" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-10"></a>        <span class="n">Next</span> <span class="p">:=</span> <span class="kc">null</span><span class="p">;</span>
<a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-11" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-11" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-11"></a>    <span class="kr">end</span> <span class="nf">baz</span><span class="p">;</span>
<a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-12" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-12" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-12"></a>
<a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-13" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-13" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-13"></a>    <span class="kd">procedure</span> <span class="nf">bar</span> <span class="kr">is</span>
<a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-14" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-14" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-14"></a>    <span class="kr">begin</span>
<a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-15" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-15" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-15"></a>        <span class="n">Put_Line</span> <span class="p">(</span><span class="s">"bar"</span><span class="p">);</span>
<a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-16" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-16" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-16"></a>        <span class="n">Next</span> <span class="p">:=</span> <span class="n">baz</span><span class="p">'</span><span class="na">Access</span><span class="p">;</span>
<a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-17" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-17" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-17"></a>    <span class="kr">end</span> <span class="nf">bar</span><span class="p">;</span>
<a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-18" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-18" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-18"></a>
<a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-19" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-19" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-19"></a>    <span class="kd">procedure</span> <span class="nf">foo</span> <span class="kr">is</span>
<a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-20" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-20" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-20"></a>    <span class="kr">begin</span>
<a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-21" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-21" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-21"></a>        <span class="n">Put_Line</span> <span class="p">(</span><span class="s">"foo"</span><span class="p">);</span>
<a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-22" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-22" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-22"></a>        <span class="n">Next</span> <span class="p">:=</span> <span class="n">bar</span><span class="p">'</span><span class="na">Access</span><span class="p">;</span>
<a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-23" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-23" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-23"></a>    <span class="kr">end</span> <span class="nf">foo</span><span class="p">;</span>
<a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-24" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-24" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-24"></a>
<a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-25" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-25" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-25"></a><span class="kr">begin</span>
<a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-26" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-26" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-26"></a>    <span class="n">next</span> <span class="p">:=</span> <span class="n">foo</span><span class="p">'</span><span class="na">Access</span><span class="p">;</span>
<a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-27" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-27" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-27"></a>    <span class="kr">while</span> <span class="n">Next</span> <span class="o">/=</span> <span class="kc">null</span> <span class="kr">loop</span>
<a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-28" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-28" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-28"></a>        <span class="n">Next</span><span class="p">.</span><span class="kr">all</span><span class="p">;</span>
<a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-29" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-29" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-29"></a>    <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<a id="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-30" name="rest_code_a91a0b98c324414fa4ec4922e72c0fe6-30" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_a91a0b98c324414fa4ec4922e72c0fe6-30"></a><span class="kr">end</span> <span class="nf">trampoline</span><span class="p">;</span>
</pre></div>
<p>And here's <a class="reference external" href="trampolines/ada/trampoline_forever.adb">trampoline_forever.adb</a>:</p>
<div class="code"><pre class="code ada"><a id="rest_code_9e798580ddb54689a5133a14859c5456-1" name="rest_code_9e798580ddb54689a5133a14859c5456-1" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-1"></a><span class="kn">with</span> <span class="n">Ada.Text_IO</span><span class="p">;</span> <span class="kn">use</span> <span class="n">Ada.Text_IO</span><span class="p">;</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-2" name="rest_code_9e798580ddb54689a5133a14859c5456-2" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-2"></a><span class="kd">procedure</span> <span class="nf">trampoline_forever</span> <span class="kr">is</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-3" name="rest_code_9e798580ddb54689a5133a14859c5456-3" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-3"></a>  <span class="c1">-- Recurse forever without running out of stack space.</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-4" name="rest_code_9e798580ddb54689a5133a14859c5456-4" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-4"></a>  <span class="kd">type</span> <span class="kt">Unsigned</span> <span class="kr">is</span> <span class="ow">mod</span> <span class="mi">2</span><span class="o">**</span><span class="mi">64</span><span class="p">;</span>   <span class="c1">-- wrap to 0 when maximum value is execeeded.</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-5" name="rest_code_9e798580ddb54689a5133a14859c5456-5" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-5"></a>  <span class="n">i</span><span class="p">:</span> <span class="n">Unsigned</span> <span class="p">:=</span> <span class="mi">0</span><span class="p">;</span>             <span class="c1">-- Number of times through the trampoline.</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-6" name="rest_code_9e798580ddb54689a5133a14859c5456-6" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-6"></a>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-7" name="rest_code_9e798580ddb54689a5133a14859c5456-7" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-7"></a>  <span class="kd">type</span> <span class="kt">Thunk</span> <span class="kr">is</span> <span class="kr">access</span> <span class="kd">procedure</span><span class="p">;</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-8" name="rest_code_9e798580ddb54689a5133a14859c5456-8" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-8"></a>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-9" name="rest_code_9e798580ddb54689a5133a14859c5456-9" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-9"></a>  <span class="n">Next</span><span class="p">:</span> <span class="n">Thunk</span> <span class="p">:=</span> <span class="kc">null</span><span class="p">;</span>          <span class="c1">-- Next procedure to be called.</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-10" name="rest_code_9e798580ddb54689a5133a14859c5456-10" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-10"></a>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-11" name="rest_code_9e798580ddb54689a5133a14859c5456-11" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-11"></a>  <span class="kd">procedure</span> <span class="nf">foo</span><span class="p">;</span>        <span class="c1">-- forward declaration.</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-12" name="rest_code_9e798580ddb54689a5133a14859c5456-12" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-12"></a>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-13" name="rest_code_9e798580ddb54689a5133a14859c5456-13" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-13"></a>  <span class="kd">procedure</span> <span class="nf">baz</span> <span class="kr">is</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-14" name="rest_code_9e798580ddb54689a5133a14859c5456-14" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-14"></a>  <span class="kr">begin</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-15" name="rest_code_9e798580ddb54689a5133a14859c5456-15" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-15"></a>    <span class="n">Put_Line</span> <span class="p">(</span><span class="s">"baz"</span><span class="p">);</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-16" name="rest_code_9e798580ddb54689a5133a14859c5456-16" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-16"></a>    <span class="n">Next</span> <span class="p">:=</span> <span class="n">foo</span><span class="p">'</span><span class="na">access</span><span class="p">;</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-17" name="rest_code_9e798580ddb54689a5133a14859c5456-17" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-17"></a>  <span class="kr">end</span> <span class="nf">baz</span><span class="p">;</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-18" name="rest_code_9e798580ddb54689a5133a14859c5456-18" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-18"></a>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-19" name="rest_code_9e798580ddb54689a5133a14859c5456-19" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-19"></a>  <span class="kd">procedure</span> <span class="nf">bar</span> <span class="kr">is</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-20" name="rest_code_9e798580ddb54689a5133a14859c5456-20" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-20"></a>  <span class="kr">begin</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-21" name="rest_code_9e798580ddb54689a5133a14859c5456-21" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-21"></a>    <span class="n">Put_Line</span> <span class="p">(</span><span class="s">"bar"</span><span class="p">);</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-22" name="rest_code_9e798580ddb54689a5133a14859c5456-22" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-22"></a>    <span class="n">Next</span> <span class="p">:=</span> <span class="n">baz</span><span class="p">'</span><span class="na">Access</span><span class="p">;</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-23" name="rest_code_9e798580ddb54689a5133a14859c5456-23" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-23"></a>  <span class="kr">end</span> <span class="nf">bar</span><span class="p">;</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-24" name="rest_code_9e798580ddb54689a5133a14859c5456-24" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-24"></a>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-25" name="rest_code_9e798580ddb54689a5133a14859c5456-25" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-25"></a>  <span class="kd">procedure</span> <span class="nf">foo</span> <span class="kr">is</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-26" name="rest_code_9e798580ddb54689a5133a14859c5456-26" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-26"></a>  <span class="kr">begin</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-27" name="rest_code_9e798580ddb54689a5133a14859c5456-27" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-27"></a>    <span class="n">Put_Line</span> <span class="p">(</span><span class="s">"foo"</span><span class="p">);</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-28" name="rest_code_9e798580ddb54689a5133a14859c5456-28" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-28"></a>    <span class="n">Next</span> <span class="p">:=</span> <span class="n">bar</span><span class="p">'</span><span class="na">Access</span><span class="p">;</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-29" name="rest_code_9e798580ddb54689a5133a14859c5456-29" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-29"></a>  <span class="kr">end</span> <span class="nf">foo</span><span class="p">;</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-30" name="rest_code_9e798580ddb54689a5133a14859c5456-30" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-30"></a>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-31" name="rest_code_9e798580ddb54689a5133a14859c5456-31" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-31"></a><span class="kr">begin</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-32" name="rest_code_9e798580ddb54689a5133a14859c5456-32" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-32"></a>  <span class="n">next</span> <span class="p">:=</span> <span class="n">foo</span><span class="p">'</span><span class="na">Access</span><span class="p">;</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-33" name="rest_code_9e798580ddb54689a5133a14859c5456-33" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-33"></a>  <span class="kr">while</span> <span class="n">Next</span> <span class="o">/=</span> <span class="kc">null</span> <span class="kr">loop</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-34" name="rest_code_9e798580ddb54689a5133a14859c5456-34" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-34"></a>    <span class="n">i</span> <span class="p">:=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-35" name="rest_code_9e798580ddb54689a5133a14859c5456-35" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-35"></a>    <span class="n">Put</span> <span class="p">(</span><span class="s">"call #"</span><span class="p">);</span> <span class="n">Put</span> <span class="p">(</span><span class="n">i</span><span class="p">'</span><span class="na">Image</span><span class="p">);</span> <span class="n">New_Line</span><span class="p">;</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-36" name="rest_code_9e798580ddb54689a5133a14859c5456-36" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-36"></a>    <span class="n">Next</span><span class="p">.</span><span class="kr">all</span><span class="p">;</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-37" name="rest_code_9e798580ddb54689a5133a14859c5456-37" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-37"></a>  <span class="kr">end</span> <span class="kr">loop</span><span class="p">;</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-38" name="rest_code_9e798580ddb54689a5133a14859c5456-38" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-38"></a><span class="kr">exception</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-39" name="rest_code_9e798580ddb54689a5133a14859c5456-39" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-39"></a>  <span class="kr">when</span> <span class="n">STORAGE_ERROR</span> <span class="p">=&gt;</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-40" name="rest_code_9e798580ddb54689a5133a14859c5456-40" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-40"></a>  <span class="n">Put</span> <span class="p">(</span><span class="s">"STORAGE_ERROR raised with i = "</span><span class="p">);</span> <span class="n">Put</span> <span class="p">(</span><span class="n">i</span><span class="p">'</span><span class="na">Image</span><span class="p">);</span> <span class="n">New_Line</span><span class="p">;</span>
<a id="rest_code_9e798580ddb54689a5133a14859c5456-41" name="rest_code_9e798580ddb54689a5133a14859c5456-41" href="posts/2022/06/14/lisp-style-trampolines-in-common-lisp-c-ada-oberon-2-and-revised-oberon/#rest_code_9e798580ddb54689a5133a14859c5456-41"></a><span class="kr">end</span> <span class="nf">trampoline_forever</span><span class="p">;</span>
</pre></div>
<hr class="docutils">
<p>Of course, languages with more sophisticated type systems have other
ways of dealing with things, but I haven't investigated them.  I did
stumble across an <a class="reference external" href="https://gist.github.com/rapha/119788">example</a> in OCaml (<a class="reference external" href="https://en.wikipedia.org/wiki/OCaml">OCAML1</a>, <a class="reference external" href="https://ocaml.org/">OCAML2</a>).</p>
<hr class="docutils">
<p>If you want to play around with this, the code is in a
<a class="reference external" href="https://github.com/tkurtbond/trampolines">repository</a> at <a class="reference external" href="https://github.com/">Github</a>.</p>
    <nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="categories/ada/" rel="tag">ada</a></li>
            <li><a class="tag p-category" href="categories/c/" rel="tag">c</a></li>
            <li><a class="tag p-category" href="categories/cheney-on-the-mta/" rel="tag">cheney on the m.t.a.</a></li>
            <li><a class="tag p-category" href="categories/clisp/" rel="tag">clisp</a></li>
            <li><a class="tag p-category" href="categories/common-lisp/" rel="tag">common lisp</a></li>
            <li><a class="tag p-category" href="categories/continuation-passing-style/" rel="tag">continuation-passing style</a></li>
            <li><a class="tag p-category" href="categories/cps/" rel="tag">cps</a></li>
            <li><a class="tag p-category" href="categories/ecl/" rel="tag">ecl</a></li>
            <li><a class="tag p-category" href="categories/gcc/" rel="tag">gcc</a></li>
            <li><a class="tag p-category" href="categories/github/" rel="tag">github</a></li>
            <li><a class="tag p-category" href="categories/gnat/" rel="tag">gnat</a></li>
            <li><a class="tag p-category" href="categories/hanspeter-mossenbock/" rel="tag">hanspeter m√∂ssenb√∂ck</a></li>
            <li><a class="tag p-category" href="categories/lisp-style-trampolines/" rel="tag">lisp-style trampolines</a></li>
            <li><a class="tag p-category" href="categories/modula/" rel="tag">modula</a></li>
            <li><a class="tag p-category" href="categories/modula-2/" rel="tag">modula-2</a></li>
            <li><a class="tag p-category" href="categories/niklaus-wirth/" rel="tag">niklaus wirth</a></li>
            <li><a class="tag p-category" href="categories/no-assembly-required/" rel="tag">no assembly required</a></li>
            <li><a class="tag p-category" href="categories/oberon-system/" rel="tag">oberon system</a></li>
            <li><a class="tag p-category" href="categories/oberon-2/" rel="tag">oberon-2</a></li>
            <li><a class="tag p-category" href="categories/oberon-07/" rel="tag">oberon-07</a></li>
            <li><a class="tag p-category" href="categories/obnc/" rel="tag">obnc</a></li>
            <li><a class="tag p-category" href="categories/ocaml/" rel="tag">ocaml</a></li>
            <li><a class="tag p-category" href="categories/pascal/" rel="tag">pascal</a></li>
            <li><a class="tag p-category" href="categories/rabbit/" rel="tag">rabbit</a></li>
            <li><a class="tag p-category" href="categories/record-types/" rel="tag">record types</a></li>
            <li><a class="tag p-category" href="categories/revised-oberon/" rel="tag">revised oberon</a></li>
            <li><a class="tag p-category" href="categories/sbcl/" rel="tag">sbcl</a></li>
            <li><a class="tag p-category" href="categories/scheme/" rel="tag">scheme</a></li>
            <li><a class="tag p-category" href="categories/tail-call/" rel="tag">tail call</a></li>
            <li><a class="tag p-category" href="categories/tail-call-optimization/" rel="tag">tail call optimization</a></li>
            <li><a class="tag p-category" href="categories/trampolines/" rel="tag">trampolines</a></li>
            <li><a class="tag p-category" href="categories/type-extensions/" rel="tag">type extensions</a></li>
            <li><a class="tag p-category" href="categories/uuo-handler/" rel="tag">uuo handler</a></li>
            <li><a class="tag p-category" href="categories/vishap-oberon/" rel="tag">vishap oberon</a></li>
        </ul></nav>
</div>
    </article>
</div>
        <nav class="postindexpager"><ul class="pager">
<li class="next">
                <a href="index-94.html" rel="next">Older posts</a>
            </li>
        </ul></nav><script>var disqus_shortname="lacking-natural-simplicity";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
            <div class="col-sm-3 col-sm-offset-1 blog-sidebar">
                    <div class="sidebar-module sidebar-module-inset">
      <h4>About</h4>
      <p>Lacking Natural Simplicity is one, not particularly flattering, 
         definition of sophisticated.  
         This blog chronicles my journey through our at times too complicated 
         and sophisticated world. </p>
    </div>
    <div class="sidebar-module">
      <p>This site uses no cookies directly, but I expect the <a href="https://disqus.com/">Disqus</a> comments use cookies at disqus.com.</p>
      <h4>Links</h4>
      <ol class="list-unstyled">
<li><a href="pages/about-the-blog/index.html">About the Blog</a></li>
        <li><a href="pages/colophon/index.html">Colophon</a></li>
        <li><a href="pages/typographical-conventions/index.html">Typographical Conventions</a></li>
        <li><a href="pages/static-pages-index/index.html">Pages</a></li>
        <li>
<a href="http://tkb.tx0.org/">My tx0.org web page</a>
            <br>¬†¬†¬†¬†Mostly empty
        </li>
        <li>
<a href="http://consp.org/">consp.org</a>
            <br>¬†¬†¬†¬†Rises from the dead!
            <br>¬†¬†¬†¬†<a href="http://consp.org/blog/blog.html">microblog</a>
        </li>
      </ol>
</div>
    
            </div>
        <!--End of body content-->
        </div>
    </div>
</div>

<footer class="blog-footer" id="footer">
    Contents ¬© 2023         <a href="mailto:tkurtbond@gmail.com">T. Kurt Bond</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
    
</footer><script src="assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
