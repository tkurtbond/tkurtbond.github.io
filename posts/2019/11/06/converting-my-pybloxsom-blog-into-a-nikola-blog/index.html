<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Converting my pyBloxsom blog into a Nikola blog | Lacking Natural Simplicity</title>
<link href="../../../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../../../../rss.xml">
<link rel="alternate" type="application/atom+xml" title="Atom" href="../../../../../feed.atom">
<link rel="canonical" href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/">
<!--[if lt IE 9]><script src="../../../../../assets/js/html5.js"></script><![endif]--><meta name="author" content="T. Kurt Bond">
<link rel="prev" href="../../05/getting-nxml-mode-in-emacs-to-validate-docbook-5-documents/" title="Getting nxml-mode in emacs to validate DocBook 5 documents" type="text/html">
<link rel="next" href="../../07/ulisses-spiele-updates-heliograph-space-1889-pdfs-with-bookmarks-and-document-outlines/" title="Ulisses Spiele updates Heliograph Space 1889 pdfs with bookmarks and document outlines" type="text/html">
<meta property="og:site_name" content="Lacking Natural Simplicity">
<meta property="og:title" content="Converting my pyBloxsom blog into a Nikola blog">
<meta property="og:url" content="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/">
<meta property="og:description" content="Yesterday I decided to try blogging again.  I started writing a post
at blogger.com, but that was like wading through a rotting whale
corpse.  Instead I decided to use GitHub Pages
and use the static ">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2019-11-06T14:10:35-05:00">
<meta property="article:tag" content="blog">
<meta property="article:tag" content="conversion">
<meta property="article:tag" content="nikola">
<meta property="article:tag" content="pybloxsom">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<div class="blog-masthead">
    <div class="container">
<!-- This keeps the margins nice -->
        <nav class="blog-nav" role="navigation"><a href="../../../../../index.html" class="blog-nav-item">Home</a>
            <a href="../../../../../archive.html" class="blog-nav-item">Archives</a>
            <a href="../../../../../categories/index.html" class="blog-nav-item">Tags</a>
            <a href="../../../../../rss.xml" class="blog-nav-item">RSS feed</a>

            

    <a href="index.rst" class="blog-nav-item blog-nav-item-aside" id="sourcelink">Source</a>
                
            
        </nav>
</div>
<!-- /.container -->
</div>
<!-- End of Menubar -->

<div class="container" id="content" role="main">
    <div class="body-content">
        <div class="blog-header">
            <h1 class="blog-title">
                <a href="https://tkurtbond.github.io/">

                    <span id="blog-title">Lacking Natural Simplicity</span>
                </a>
            </h1>
            <p class="lead blog-description">Random musings on books, code, and tabletop games.</p>
            
        </div>
        <!--Body content-->
        <div class="row">
            <div class="col-sm-8 blog-main">
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h2 class="p-name entry-title blog-post-title" itemprop="headline name"><a href="." class="u-url">Converting my pyBloxsom blog into a Nikola blog</a></h2>

        <div class="metadata blog-post-meta">
            <p class="byline author vcard"><span class="byline-name fn">T. Kurt Bond</span></p>
            <p class="dateline"><a href="." rel="bookmark"><time class="published dt-published" datetime="2019-11-06T14:10:35-05:00" itemprop="datePublished" title="2019-11-06 14:10">2019-11-06 14:10</time></a></p>
                <p class="commentline">            <a href="#disqus_thread" data-disqus-identifier="cache/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog.html">Comments</a>


                    </p>
<p class="sourceline"><a href="index.rst" id="sourcelink">Source</a></p>

        </div>
        
    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p>Yesterday I decided to try blogging again.  I started writing a post
at blogger.com, but that was like wading through a rotting whale
corpse.  Instead I decided to use <a class="reference external" href="https://help.github.com/en/github/working-with-github-pages/about-github-pages">GitHub Pages</a>
and use the static blog/site generator <a class="reference external" href="https://getnikola.com/">Nikola</a> to generate the
content, editing reStructuredText (ReST) files.</p>
<p>I wrote my first <a class="reference external" href="../../05/getting-nxml-mode-in-emacs-to-validate-docbook-5-documents/">post</a> and it was good!  Using ReST again was much
better than editing in a GUI like blogger.com, and having it hosted by
GitHub Pages was more restful than running a machine hosting a
website.</p>
<p>But then I thought of all the posts I had in my old blog, before I
stopped running machine hosting a website.  They were all written in
ReST — maybe I could put them up on my new blog?</p>
<p>I took a couple three hours and wrote a shell script to find the old
<a class="reference external" href="https://pyblosxom.github.io/">pyBloxsom</a> files and feed them into a python script that I also wrote.
Along the way I made sure the files all had <code class="docutils literal">#published</code> and
<code class="docutils literal">#tags</code> lines, in that order, immediately following the title line.</p>
<p>Here's the shell script:</p>
<p><a class="reference external" href="../../../../../listings/drive-pyblox-to-nikola.html">drive-pyblox-to-nikola</a>  <a class="reference external" href="../../../../../listings/drive-pyblox-to-nikola">(Source)</a></p>
<pre class="code bash"><a name="rest_code_469e4c70680340b3a36c5983318469a0-1"></a><span class="ch">#! /usr/bin/env bash</span>
<a name="rest_code_469e4c70680340b3a36c5983318469a0-2"></a>
<a name="rest_code_469e4c70680340b3a36c5983318469a0-3"></a><span class="o">(</span><span class="nb">cd</span> ~/myblog <span class="o">&amp;&amp;</span>
<a name="rest_code_469e4c70680340b3a36c5983318469a0-4"></a>     find notentries/ entries/ -type f -name <span class="se">\*</span>.rst <span class="p">|</span>
<a name="rest_code_469e4c70680340b3a36c5983318469a0-5"></a>         ~/comp/tkbtools/Scripts/pyblox-to-nikola<span class="o">)</span>
</pre>
<p>Here's the python script:</p>
<p><a class="reference external" href="../../../../../listings/pyblox-to-nikola.html">pyblox-to-nikola</a>  <a class="reference external" href="../../../../../listings/pyblox-to-nikola">(Source)</a></p>
<div class="code"><table class="codetable">
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-1"><code data-line-number=" 1"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-1"></a><span class="ch">#! /usr/bin/env python3.7</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-2"><code data-line-number=" 2"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-2"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-3"><code data-line-number=" 3"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-3"></a><span class="kn">import</span> <span class="nn">os</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-4"><code data-line-number=" 4"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-4"></a><span class="kn">import</span> <span class="nn">os.path</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-5"><code data-line-number=" 5"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-5"></a><span class="kn">import</span> <span class="nn">sys</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-6"><code data-line-number=" 6"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-6"></a><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-7"><code data-line-number=" 7"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-7"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-8"><code data-line-number=" 8"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-8"></a><span class="c1"># datetime.strptime ('2019-11-05 20:32:24', '%Y-%m-%d %H:%M:%S')</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-9"><code data-line-number=" 9"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-9"></a><span class="c1"># dt.strftime ('%Y-%m-%d %H:%M:%S UTC-05:00')</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-10"><code data-line-number="10"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-10"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-11"><code data-line-number="11"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-11"></a><span class="n">entries_prefix</span> <span class="o">=</span> <span class="s1">'entries/'</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-12"><code data-line-number="12"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-12"></a><span class="n">notentries_prefix</span> <span class="o">=</span> <span class="s1">'notentries/'</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-13"><code data-line-number="13"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-13"></a><span class="n">published_prefix</span> <span class="o">=</span> <span class="s1">'#published '</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-14"><code data-line-number="14"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-14"></a><span class="n">tags_prefix</span> <span class="o">=</span> <span class="s1">'#tags '</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-15"><code data-line-number="15"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-15"></a>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-16"><code data-line-number="16"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-16"></a><span class="n">files_read</span> <span class="o">=</span> <span class="mi">0</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-17"><code data-line-number="17"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-17"></a><span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdin</span><span class="p">:</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-18"><code data-line-number="18"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-18"></a>    <span class="n">filename</span> <span class="o">=</span> <span class="n">filename</span><span class="o">.</span><span class="n">rstrip</span> <span class="p">()</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-19"><code data-line-number="19"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-19"></a>    <span class="n">basename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span>  <span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-20"><code data-line-number="20"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-20"></a>    <span class="n">dirname</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span> <span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-21"><code data-line-number="21"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-21"></a>    <span class="k">if</span> <span class="n">dirname</span><span class="o">.</span><span class="n">startswith</span> <span class="p">(</span><span class="n">entries_prefix</span><span class="p">):</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-22"><code data-line-number="22"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-22"></a>        <span class="n">category</span> <span class="o">=</span> <span class="n">dirname</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">entries_prefix</span><span class="p">):]</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-23"><code data-line-number="23"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-23"></a>    <span class="k">elif</span> <span class="n">dirname</span><span class="o">.</span><span class="n">startswith</span> <span class="p">(</span><span class="n">notentries_prefix</span><span class="p">):</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-24"><code data-line-number="24"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-24"></a>        <span class="n">category</span> <span class="o">=</span> <span class="n">dirname</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">notentries_prefix</span><span class="p">):]</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-25"><code data-line-number="25"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-25"></a>    <span class="k">else</span><span class="p">:</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-26"><code data-line-number="26"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-26"></a>        <span class="n">category</span> <span class="o">=</span> <span class="s1">''</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-27"><code data-line-number="27"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-27"></a>    <span class="p">(</span><span class="n">slug</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span> <span class="p">(</span><span class="n">basename</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-28"><code data-line-number="28"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-28"></a>    <span class="nb">print</span> <span class="p">(</span><span class="s1">'filename: </span><span class="si">%s</span><span class="se">\n</span><span class="s1">basename: </span><span class="si">%s</span><span class="se">\n</span><span class="s1">dirname: </span><span class="si">%s</span><span class="se">\n</span><span class="s1">category: </span><span class="si">%s</span><span class="se">\n</span><span class="s1">slug: </span><span class="si">%s</span><span class="s1">'</span> <span class="o">%</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-29"><code data-line-number="29"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-29"></a>           <span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">basename</span><span class="p">,</span> <span class="n">dirname</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="n">slug</span><span class="p">))</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-30"><code data-line-number="30"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-30"></a>    <span class="n">inf</span> <span class="o">=</span> <span class="nb">open</span> <span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">'r'</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-31"><code data-line-number="31"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-31"></a>    <span class="n">files_read</span> <span class="o">=</span> <span class="n">files_read</span> <span class="o">+</span> <span class="mi">1</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-32"><code data-line-number="32"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-32"></a>    <span class="n">title</span> <span class="o">=</span> <span class="n">inf</span><span class="o">.</span><span class="n">readline</span> <span class="p">()</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-33"><code data-line-number="33"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-33"></a>    <span class="n">title</span> <span class="o">=</span> <span class="n">title</span><span class="o">.</span><span class="n">rstrip</span> <span class="p">()</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-34"><code data-line-number="34"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-34"></a>    <span class="n">published</span> <span class="o">=</span> <span class="n">inf</span><span class="o">.</span><span class="n">readline</span> <span class="p">()</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-35"><code data-line-number="35"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-35"></a>    <span class="n">published</span> <span class="o">=</span> <span class="n">published</span><span class="o">.</span><span class="n">strip</span> <span class="p">()</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-36"><code data-line-number="36"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-36"></a>    <span class="k">if</span> <span class="n">published</span><span class="o">.</span><span class="n">startswith</span> <span class="p">(</span><span class="n">published_prefix</span><span class="p">):</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-37"><code data-line-number="37"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-37"></a>        <span class="n">published</span> <span class="o">=</span> <span class="n">published</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">published_prefix</span><span class="p">):]</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-38"><code data-line-number="38"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-38"></a>    <span class="k">else</span><span class="p">:</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-39"><code data-line-number="39"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-39"></a>        <span class="k">raise</span> <span class="p">(</span><span class="s1">'Unknown line should be #published'</span><span class="p">,</span> <span class="n">published</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-40"><code data-line-number="40"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-40"></a>    <span class="n">published_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span> <span class="p">(</span><span class="n">published</span><span class="p">,</span> <span class="s1">'%Y-%m-</span><span class="si">%d</span><span class="s1"> %H:%M:%S'</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-41"><code data-line-number="41"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-41"></a>    <span class="n">nikola_date</span> <span class="o">=</span> <span class="n">published_date</span><span class="o">.</span><span class="n">strftime</span> <span class="p">(</span><span class="s1">'%Y-%m-</span><span class="si">%d</span><span class="s1"> %H:%M:%S UTC-05:00'</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-42"><code data-line-number="42"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-42"></a>    <span class="n">datepath</span> <span class="o">=</span> <span class="n">published_date</span><span class="o">.</span><span class="n">strftime</span> <span class="p">(</span><span class="s1">'%Y/%m/</span><span class="si">%d</span><span class="s1">'</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-43"><code data-line-number="43"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-43"></a>    <span class="n">newdir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span> <span class="p">(</span><span class="s1">'/Users/tkb/nikola/newblog/posts'</span><span class="p">,</span> <span class="n">datepath</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-44"><code data-line-number="44"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-44"></a>    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span> <span class="p">(</span><span class="n">newdir</span><span class="p">,</span> <span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-45"><code data-line-number="45"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-45"></a>    <span class="n">tags</span> <span class="o">=</span> <span class="n">inf</span><span class="o">.</span><span class="n">readline</span> <span class="p">()</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-46"><code data-line-number="46"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-46"></a>    <span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span><span class="o">.</span><span class="n">rstrip</span> <span class="p">()</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-47"><code data-line-number="47"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-47"></a>    <span class="k">if</span> <span class="n">tags</span><span class="o">.</span><span class="n">startswith</span> <span class="p">(</span><span class="n">tags_prefix</span><span class="p">):</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-48"><code data-line-number="48"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-48"></a>        <span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">tags_prefix</span><span class="p">):]</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-49"><code data-line-number="49"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-49"></a>    <span class="k">else</span><span class="p">:</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-50"><code data-line-number="50"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-50"></a>        <span class="k">raise</span> <span class="p">(</span><span class="s1">'Unknown line should be #tags'</span><span class="p">,</span> <span class="n">tags</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-51"><code data-line-number="51"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-51"></a>    <span class="n">tags</span> <span class="o">=</span> <span class="n">tags</span><span class="o">.</span><span class="n">lower</span> <span class="p">()</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-52"><code data-line-number="52"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-52"></a>    <span class="n">outfname</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span> <span class="p">(</span><span class="n">newdir</span><span class="p">,</span> <span class="n">basename</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-53"><code data-line-number="53"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-53"></a>    <span class="nb">print</span> <span class="p">(</span><span class="s1">'outfname: </span><span class="si">%s</span><span class="s1">'</span> <span class="o">%</span> <span class="n">outfname</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-54"><code data-line-number="54"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-54"></a>    <span class="n">outf</span> <span class="o">=</span> <span class="nb">open</span> <span class="p">(</span><span class="n">outfname</span><span class="p">,</span> <span class="s1">'w'</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-55"><code data-line-number="55"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-55"></a>    <span class="n">outf</span><span class="o">.</span><span class="n">write</span> <span class="p">(</span><span class="s1">'.. title: </span><span class="si">%s</span><span class="se">\n</span><span class="s1">'</span> <span class="o">%</span> <span class="n">title</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-56"><code data-line-number="56"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-56"></a>    <span class="n">outf</span><span class="o">.</span><span class="n">write</span> <span class="p">(</span><span class="s1">'.. slug: </span><span class="si">%s</span><span class="se">\n</span><span class="s1">'</span> <span class="o">%</span> <span class="n">slug</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-57"><code data-line-number="57"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-57"></a>    <span class="n">outf</span><span class="o">.</span><span class="n">write</span> <span class="p">(</span><span class="s1">'.. date: </span><span class="si">%s</span><span class="se">\n</span><span class="s1">'</span> <span class="o">%</span> <span class="n">nikola_date</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-58"><code data-line-number="58"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-58"></a>    <span class="n">outf</span><span class="o">.</span><span class="n">write</span> <span class="p">(</span><span class="s1">'.. tags: </span><span class="si">%s</span><span class="se">\n</span><span class="s1">'</span> <span class="o">%</span> <span class="n">tags</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-59"><code data-line-number="59"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-59"></a>    <span class="n">outf</span><span class="o">.</span><span class="n">write</span> <span class="p">(</span><span class="s1">'.. category: </span><span class="si">%s</span><span class="se">\n</span><span class="s1">'</span> <span class="o">%</span> <span class="n">category</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-60"><code data-line-number="60"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-60"></a>    <span class="n">outf</span><span class="o">.</span><span class="n">write</span> <span class="p">(</span><span class="s1">'.. link: </span><span class="se">\n</span><span class="s1">'</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-61"><code data-line-number="61"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-61"></a>    <span class="n">outf</span><span class="o">.</span><span class="n">write</span> <span class="p">(</span><span class="s1">'.. description: </span><span class="se">\n</span><span class="s1">'</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-62"><code data-line-number="62"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-62"></a>    <span class="n">outf</span><span class="o">.</span><span class="n">write</span> <span class="p">(</span><span class="s1">'.. type: text</span><span class="se">\n</span><span class="s1">'</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-63"><code data-line-number="63"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-63"></a>    <span class="n">outf</span><span class="o">.</span><span class="n">write</span> <span class="p">(</span><span class="s1">'</span><span class="se">\n</span><span class="s1">'</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-64"><code data-line-number="64"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-64"></a>    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">inf</span><span class="p">:</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-65"><code data-line-number="65"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-65"></a>        <span class="n">outf</span><span class="o">.</span><span class="n">write</span> <span class="p">(</span><span class="n">line</span><span class="p">)</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-66"><code data-line-number="66"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-66"></a>    <span class="n">inf</span><span class="o">.</span><span class="n">close</span> <span class="p">()</span>
</code></td>
</tr>
<tr>
<td class="linenos linenodiv"><a href="#rest_code_7516a1c7bcfd447187ab29485c6f46fd-67"><code data-line-number="67"></code></a></td>
<td class="code"><code><a name="rest_code_7516a1c7bcfd447187ab29485c6f46fd-67"></a><span class="nb">print</span> <span class="p">(</span><span class="s1">'</span><span class="se">\n\n</span><span class="s1">Files Read: </span><span class="si">%d</span><span class="s1">'</span> <span class="o">%</span> <span class="n">files_read</span><span class="p">)</span>
</code></td>
</tr>
</table></div>
<p>There were 810 <a class="reference external" href="http://docutils.sourceforge.io/rst.html">reStructuredText</a> files to process.  Once that was
done, I had to work through those files multiple times finding all the
broken internal links, since many of them were absolute links to my
old blog or other pages on my old website.  I did <cite>grep-find</cite> in Emacs
multiple times to find all the occurances of my old website's hostname
(which went through a couple of variations over time), then looked for
site relative links that started with <code class="docutils literal">/~tkb</code>, a tedious but not too
difficult process.</p>
</div>
    </div>
    <script>var pfHeaderImgUrl = '';var pfHeaderTagline = '';var pfdisableClickToDel = 0;var pfHideImages = 0;var pfImageDisplayStyle = 'right';var pfDisablePDF = 0;var pfDisableEmail = 0;var pfDisablePrint = 0;var pfCustomCSS = '';var pfBtVersion='2';(function(){var js,pf;pf=document.createElement('script');pf.type='text/javascript';pf.src='//cdn.printfriendly.com/printfriendly.js';document.getElementsByTagName('head')[0].appendChild(pf)})();</script><a href="https://www.printfriendly.com" style="color:#6D9F00;text-decoration:none;" class="printfriendly" onclick="window.print();return false;" title="Printer Friendly and PDF"><img style="border:none;-webkit-box-shadow:none;box-shadow:none;" src="//cdn.printfriendly.com/buttons/printfriendly-pdf-button.png" alt="Print Friendly and PDF"></a>    
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../../../../categories/blog/" rel="tag">blog</a></li>
            <li><a class="tag p-category" href="../../../../../categories/conversion/" rel="tag">conversion</a></li>
            <li><a class="tag p-category" href="../../../../../categories/nikola/" rel="tag">nikola</a></li>
            <li><a class="tag p-category" href="../../../../../categories/pybloxsom/" rel="tag">pybloxsom</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../../05/getting-nxml-mode-in-emacs-to-validate-docbook-5-documents/" rel="prev" title="Getting nxml-mode in emacs to validate DocBook 5 documents">Previous post</a>
            </li>
            <li class="next">
                <a href="../../07/ulisses-spiele-updates-heliograph-space-1889-pdfs-with-bookmarks-and-document-outlines/" rel="next" title="Ulisses Spiele updates Heliograph Space 1889 pdfs with bookmarks and document outlines">Next post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
                        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="lacking-natural-simplicity",
            disqus_url="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/",
        disqus_title="Converting my pyBloxsom blog into a Nikola blog",
        disqus_identifier="cache/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="lacking-natural-simplicity";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
            <div class="col-sm-3 col-sm-offset-1 blog-sidebar">
                    <div class="sidebar-module sidebar-module-inset">
      <h4>About</h4>
      <p>Lacking Natural Simplicity is one, not particularly flattering, 
         definition of sophisticated.  
         This blog chronicles my journey through our at times too complicated 
         and sophisticated world. </p>
    </div>
    <div class="sidebar-module">
      <h4>Links</h4>
      <ol class="list-unstyled">
<li><a href="../../../../../pages/about-the-blog/index.html">About the Blog</a></li>
        <li><a href="../../../../../pages/colophon/index.html">Colophon</a></li>
        <li><a href="../../../../../pages/pages/index.html">Pages</a></li>
      </ol>
</div>
    
            </div>
        <!--End of body content-->
        </div>
    </div>
</div>

<footer class="blog-footer" id="footer">
    Contents © 2021         <a href="mailto:tkurtbond@gmail.com">T. Kurt Bond</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
    
</footer><script src="../../../../../assets/js/all-nocdn.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script>
</body>
</html>
