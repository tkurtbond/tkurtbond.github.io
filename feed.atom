<?xml version='1.0' encoding='UTF-8'?>
<?xml-stylesheet href="https://tkurtbond.github.io/assets/xml/atom.xsl" type="text/xsl media="all"?>
<feed xml:lang="en" xmlns="http://www.w3.org/2005/Atom">
  <title>Lacking Natural Simplicity</title>
  <id>https://tkurtbond.github.io/feed.atom</id>
  <updated>2024-08-13T20:11:07Z</updated>
  <author>
    <name>T. Kurt Bond</name>
  </author>
  <link rel="self" type="application/atom+xml" href="https://tkurtbond.github.io/feed.atom"/>
  <link rel="alternate" type="text/html" href="https://tkurtbond.github.io/"/>
  <generator uri="https://getnikola.com/">Nikola</generator>
  <entry>
    <title>Another way of using the SWTOOLS VOS TCS revision system</title>
    <id>https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/</id>
    <updated>2024-08-13T15:33:56-04:00</updated>
    <published>2024-08-13T15:33:56-04:00</published>
    <author>
      <name>T. Kurt Bond</name>
    </author>
    <link rel="alternate" type="text/html" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/"/>
    <summary type="html">&lt;p&gt;Right, So, I've &lt;a class="reference external" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/"&gt;talked&lt;/a&gt; about how the LBL Software Tools Virtual
Operating System organized its source files, using its archiver to
collect all the source files, etc. for a program into an archive
(sometimes with nested archives, because RECURSION IS NEAT) and then
putting the archive under revision control using the &lt;span class="app"&gt;TCS&lt;/span&gt; commands
&lt;span class="command"&gt;admin&lt;/span&gt;, &lt;span class="command"&gt;delta&lt;/span&gt;, and &lt;span class="command"&gt;get&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;And that makes a lot of sense when what you are working on is one
program or another closely related collection of information.  But
what if you are working on a collection of individual or nearly
individual programs?  Or what if your program is large enough that
putting all its source in a single archive runs up against size limits
in the SWTOOLS programs?  Remember, they were ment to run on the 16
bit minicomputers of the day, as well as the 32 bit minicomputers that
showed up soon after the SWTOOLS VOS was written, so there is a limit
on the number of lines in a file that these can handle somewhere
between 10,000 and 15,000 lines.  What do you do then?&lt;/p&gt;
&lt;p&gt;Well, today I wrote a set of commands to make it easy to work with a
collection of source files, which each have a corresponding &lt;span class="app"&gt;TCS&lt;/span&gt;
history file in the subdirectory &lt;span class="file"&gt;[.TCS]&lt;/span&gt;.  I decided to have
one DCL command procedure whose first parameter was the command to
execute, so the common processing could be shared instead of
duplicated between programs.  But I had already written a program to
compare a current source file inn the working directory with an older
version in a &lt;span class="app"&gt;TCS&lt;/span&gt; revision  file.  Hmm.&lt;/p&gt;
&lt;p&gt;Anyway, I went on to write the &lt;span class="command"&gt;tcs&lt;/span&gt; command as a front end
for the normal &lt;span class="app"&gt;TCS&lt;/span&gt; commands.  Here's an example from running
&lt;code class="docutils literal"&gt;TCS HELP&lt;/code&gt;&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code text"&gt;&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-1" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-1" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-1"&gt;&lt;/a&gt;$ tcs help
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-2" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-2" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-2"&gt;&lt;/a&gt;usage:
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-3" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-3" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-3"&gt;&lt;/a&gt;tcs [ help | -h | -help | -? ]
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-4" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-4" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-4"&gt;&lt;/a&gt;      Output this help message.
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-5" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-5" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-5"&gt;&lt;/a&gt;
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-6" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-6" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-6"&gt;&lt;/a&gt;tcs admin FILE
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-7" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-7" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-7"&gt;&lt;/a&gt;
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-8" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-8" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-8"&gt;&lt;/a&gt;      Initialize TCS file [.TCS]FILE from FILE.
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-9" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-9" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-9"&gt;&lt;/a&gt;
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-10" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-10" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-10"&gt;&lt;/a&gt;tcs get [-oOUTFILE] [-h] [-rM.N] FILE
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-11" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-11" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-11"&gt;&lt;/a&gt;
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-12" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-12" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-12"&gt;&lt;/a&gt;      Get a revision of FILE from TCS file [.TCS]FILE.
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-13" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-13" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-13"&gt;&lt;/a&gt;
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-14" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-14" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-14"&gt;&lt;/a&gt;          -oOUTFILE writes the output to OUTFILE.
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-15" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-15" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-15"&gt;&lt;/a&gt;              If -o is not specifed the output goes to standard output.
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-16" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-16" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-16"&gt;&lt;/a&gt;
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-17" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-17" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-17"&gt;&lt;/a&gt;          -h Output history information instead of a revision.
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-18" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-18" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-18"&gt;&lt;/a&gt;
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-19" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-19" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-19"&gt;&lt;/a&gt;          -rM.N Output revision M.N.
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-20" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-20" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-20"&gt;&lt;/a&gt;
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-21" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-21" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-21"&gt;&lt;/a&gt;tcs delta FILE
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-22" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-22" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-22"&gt;&lt;/a&gt;
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-23" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-23" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-23"&gt;&lt;/a&gt;      Add a new version to TCS file [.TCS]FILE from FILE.
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-24" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-24" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-24"&gt;&lt;/a&gt;
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-25" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-25" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-25"&gt;&lt;/a&gt;tcs outdated
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-26" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-26" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-26"&gt;&lt;/a&gt;
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-27" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-27" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-27"&gt;&lt;/a&gt;      List all the source files that are newer than their corresponding
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-28" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-28" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-28"&gt;&lt;/a&gt;      TCS file in [.TCS]
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-29" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-29" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-29"&gt;&lt;/a&gt;
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-30" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-30" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-30"&gt;&lt;/a&gt;tcs uncovered [FILESPEC] [IGNOREDTYPES]
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-31" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-31" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-31"&gt;&lt;/a&gt;
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-32" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-32" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-32"&gt;&lt;/a&gt;      List all the files in the current directory that do not have
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-33" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-33" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-33"&gt;&lt;/a&gt;      corresponding files in [.TCS].
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-34" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-34" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-34"&gt;&lt;/a&gt;
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-35" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-35" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-35"&gt;&lt;/a&gt;      If FILEPSEC is specified it should be a VMS wildcard that
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-36" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-36" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-36"&gt;&lt;/a&gt;      will be applied to the current directory for matching.
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-37" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-37" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-37"&gt;&lt;/a&gt;
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-38" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-38" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-38"&gt;&lt;/a&gt;      If IGNOREDTYPES is specified it should be a single file type
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-39" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-39" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-39"&gt;&lt;/a&gt;      (without the ".") or a comma separated list of file types
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-40" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-40" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-40"&gt;&lt;/a&gt;      to be ignored.
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-41" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-41" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-41"&gt;&lt;/a&gt;
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-42" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-42" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-42"&gt;&lt;/a&gt;      If one needs to specified IGNOREDTYPES but not FILESPEC just
&lt;a id="rest_code_7fe81a27a1964543922a4e7ecc5a3677-43" name="rest_code_7fe81a27a1964543922a4e7ecc5a3677-43" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_7fe81a27a1964543922a4e7ecc5a3677-43"&gt;&lt;/a&gt;      specify an empty string for FILESPEC.
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And here is the current source code of &lt;span class="file"&gt;TCS.SDCL&lt;/span&gt;:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code text"&gt;&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-1" name="rest_code_3e617933a96a4a91bac435284368e417-1" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-1"&gt;&lt;/a&gt;!&amp;gt; TCS.SDCL -- TCS frontend.
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-2" name="rest_code_3e617933a96a4a91bac435284368e417-2" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-2"&gt;&lt;/a&gt;##############################################################################
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-3" name="rest_code_3e617933a96a4a91bac435284368e417-3" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-3"&gt;&lt;/a&gt;###
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-4" name="rest_code_3e617933a96a4a91bac435284368e417-4" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-4"&gt;&lt;/a&gt;### tcs [ help | -h | -help | -? ]
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-5" name="rest_code_3e617933a96a4a91bac435284368e417-5" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-5"&gt;&lt;/a&gt;### tcs admin FILE
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-6" name="rest_code_3e617933a96a4a91bac435284368e417-6" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-6"&gt;&lt;/a&gt;### tcs get [-ooutfile] [-h] [-rM.N] FILE
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-7" name="rest_code_3e617933a96a4a91bac435284368e417-7" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-7"&gt;&lt;/a&gt;### tcs delta FILE
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-8" name="rest_code_3e617933a96a4a91bac435284368e417-8" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-8"&gt;&lt;/a&gt;### tcs outdated
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-9" name="rest_code_3e617933a96a4a91bac435284368e417-9" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-9"&gt;&lt;/a&gt;### tcs uncovered [FILESPEC] [IGNOREDTYPES]
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-10" name="rest_code_3e617933a96a4a91bac435284368e417-10" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-10"&gt;&lt;/a&gt;###
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-11" name="rest_code_3e617933a96a4a91bac435284368e417-11" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-11"&gt;&lt;/a&gt;##############################################################################
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-12" name="rest_code_3e617933a96a4a91bac435284368e417-12" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-12"&gt;&lt;/a&gt;    wso :== write sys$output
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-13" name="rest_code_3e617933a96a4a91bac435284368e417-13" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-13"&gt;&lt;/a&gt;    wse :== write sys$error
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-14" name="rest_code_3e617933a96a4a91bac435284368e417-14" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-14"&gt;&lt;/a&gt;    TRUE = 1 .eq. 1
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-15" name="rest_code_3e617933a96a4a91bac435284368e417-15" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-15"&gt;&lt;/a&gt;    FALSE = 1 .ne. 1
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-16" name="rest_code_3e617933a96a4a91bac435284368e417-16" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-16"&gt;&lt;/a&gt;    QUIET = %x10000000
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-17" name="rest_code_3e617933a96a4a91bac435284368e417-17" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-17"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-18" name="rest_code_3e617933a96a4a91bac435284368e417-18" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-18"&gt;&lt;/a&gt;    months_jan = "01"
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-19" name="rest_code_3e617933a96a4a91bac435284368e417-19" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-19"&gt;&lt;/a&gt;    months_feb = "02"
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-20" name="rest_code_3e617933a96a4a91bac435284368e417-20" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-20"&gt;&lt;/a&gt;    months_mar = "03"
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-21" name="rest_code_3e617933a96a4a91bac435284368e417-21" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-21"&gt;&lt;/a&gt;    months_apr = "04"
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-22" name="rest_code_3e617933a96a4a91bac435284368e417-22" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-22"&gt;&lt;/a&gt;    months_may = "05"
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-23" name="rest_code_3e617933a96a4a91bac435284368e417-23" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-23"&gt;&lt;/a&gt;    months_jun = "06"
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-24" name="rest_code_3e617933a96a4a91bac435284368e417-24" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-24"&gt;&lt;/a&gt;    months_jul = "07"
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-25" name="rest_code_3e617933a96a4a91bac435284368e417-25" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-25"&gt;&lt;/a&gt;    months_aug = "08"
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-26" name="rest_code_3e617933a96a4a91bac435284368e417-26" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-26"&gt;&lt;/a&gt;    months_sep = "09"
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-27" name="rest_code_3e617933a96a4a91bac435284368e417-27" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-27"&gt;&lt;/a&gt;    months_oct = "10"
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-28" name="rest_code_3e617933a96a4a91bac435284368e417-28" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-28"&gt;&lt;/a&gt;    months_nov = "11"
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-29" name="rest_code_3e617933a96a4a91bac435284368e417-29" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-29"&gt;&lt;/a&gt;    months_dec = "12"
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-30" name="rest_code_3e617933a96a4a91bac435284368e417-30" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-30"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-31" name="rest_code_3e617933a96a4a91bac435284368e417-31" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-31"&gt;&lt;/a&gt;    debugging = f$type (tcs_debugging) .nes. ""
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-32" name="rest_code_3e617933a96a4a91bac435284368e417-32" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-32"&gt;&lt;/a&gt;    verbose = FALSE
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-33" name="rest_code_3e617933a96a4a91bac435284368e417-33" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-33"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-34" name="rest_code_3e617933a96a4a91bac435284368e417-34" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-34"&gt;&lt;/a&gt;    command = p1
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-35" name="rest_code_3e617933a96a4a91bac435284368e417-35" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-35"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-36" name="rest_code_3e617933a96a4a91bac435284368e417-36" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-36"&gt;&lt;/a&gt;    if (command .eqs. "HELP" .or.
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-37" name="rest_code_3e617933a96a4a91bac435284368e417-37" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-37"&gt;&lt;/a&gt;        command .eqs. "-H" .or.
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-38" name="rest_code_3e617933a96a4a91bac435284368e417-38" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-38"&gt;&lt;/a&gt;        command .eqs. "-HELP" .or.
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-39" name="rest_code_3e617933a96a4a91bac435284368e417-39" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-39"&gt;&lt;/a&gt;        command .eqs. "-?")
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-40" name="rest_code_3e617933a96a4a91bac435284368e417-40" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-40"&gt;&lt;/a&gt;    {
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-41" name="rest_code_3e617933a96a4a91bac435284368e417-41" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-41"&gt;&lt;/a&gt;        goto usage
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-42" name="rest_code_3e617933a96a4a91bac435284368e417-42" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-42"&gt;&lt;/a&gt;    }
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-43" name="rest_code_3e617933a96a4a91bac435284368e417-43" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-43"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-44" name="rest_code_3e617933a96a4a91bac435284368e417-44" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-44"&gt;&lt;/a&gt;    if ((command .eqs. "") .or.
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-45" name="rest_code_3e617933a96a4a91bac435284368e417-45" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-45"&gt;&lt;/a&gt;        .not. (command .eqs. "ADMIN" .or.
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-46" name="rest_code_3e617933a96a4a91bac435284368e417-46" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-46"&gt;&lt;/a&gt;               command .eqs. "GET" .or.
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-47" name="rest_code_3e617933a96a4a91bac435284368e417-47" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-47"&gt;&lt;/a&gt;               command .eqs. "DELTA" .or.
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-48" name="rest_code_3e617933a96a4a91bac435284368e417-48" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-48"&gt;&lt;/a&gt;               command .eqs. "OUTDATED" .or.
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-49" name="rest_code_3e617933a96a4a91bac435284368e417-49" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-49"&gt;&lt;/a&gt;               command .eqs. "UNCOVERED"))
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-50" name="rest_code_3e617933a96a4a91bac435284368e417-50" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-50"&gt;&lt;/a&gt;    {
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-51" name="rest_code_3e617933a96a4a91bac435284368e417-51" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-51"&gt;&lt;/a&gt;        wse "tcs: unrecognized TCS command: """, command, """"
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-52" name="rest_code_3e617933a96a4a91bac435284368e417-52" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-52"&gt;&lt;/a&gt;        exit 2
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-53" name="rest_code_3e617933a96a4a91bac435284368e417-53" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-53"&gt;&lt;/a&gt;    }
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-54" name="rest_code_3e617933a96a4a91bac435284368e417-54" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-54"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-55" name="rest_code_3e617933a96a4a91bac435284368e417-55" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-55"&gt;&lt;/a&gt;    param_idx = 2
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-56" name="rest_code_3e617933a96a4a91bac435284368e417-56" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-56"&gt;&lt;/a&gt;    num_options = 0
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-57" name="rest_code_3e617933a96a4a91bac435284368e417-57" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-57"&gt;&lt;/a&gt;    outfile = ""
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-58" name="rest_code_3e617933a96a4a91bac435284368e417-58" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-58"&gt;&lt;/a&gt;    while (f$extract (0, 1, p'param_idx') .eqs. "-") {
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-59" name="rest_code_3e617933a96a4a91bac435284368e417-59" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-59"&gt;&lt;/a&gt;         ## Remember, DCL upcases everything!
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-60" name="rest_code_3e617933a96a4a91bac435284368e417-60" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-60"&gt;&lt;/a&gt;        if (f$extract (0, 2, p'param_idx') .eqs. "-O") {
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-61" name="rest_code_3e617933a96a4a91bac435284368e417-61" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-61"&gt;&lt;/a&gt;            outfile = f$extract (2, f$length (p'param_idx'), p'param_idx')
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-62" name="rest_code_3e617933a96a4a91bac435284368e417-62" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-62"&gt;&lt;/a&gt;        } else {
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-63" name="rest_code_3e617933a96a4a91bac435284368e417-63" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-63"&gt;&lt;/a&gt;            num_options = num_options + 1
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-64" name="rest_code_3e617933a96a4a91bac435284368e417-64" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-64"&gt;&lt;/a&gt;            options_'num_options' = p'param_idx'
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-65" name="rest_code_3e617933a96a4a91bac435284368e417-65" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-65"&gt;&lt;/a&gt;        }
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-66" name="rest_code_3e617933a96a4a91bac435284368e417-66" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-66"&gt;&lt;/a&gt;        param_idx = param_idx + 1
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-67" name="rest_code_3e617933a96a4a91bac435284368e417-67" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-67"&gt;&lt;/a&gt;    }
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-68" name="rest_code_3e617933a96a4a91bac435284368e417-68" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-68"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-69" name="rest_code_3e617933a96a4a91bac435284368e417-69" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-69"&gt;&lt;/a&gt;    file = p'param_idx'                         # Can be blank
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-70" name="rest_code_3e617933a96a4a91bac435284368e417-70" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-70"&gt;&lt;/a&gt;    dirname = f$search ("TCS.DIR")
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-71" name="rest_code_3e617933a96a4a91bac435284368e417-71" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-71"&gt;&lt;/a&gt;    if (dirname .eqs. "") {             # No [.TCS] directory.
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-72" name="rest_code_3e617933a96a4a91bac435284368e417-72" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-72"&gt;&lt;/a&gt;        create/dir [.TCS]
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-73" name="rest_code_3e617933a96a4a91bac435284368e417-73" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-73"&gt;&lt;/a&gt;    }
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-74" name="rest_code_3e617933a96a4a91bac435284368e417-74" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-74"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-75" name="rest_code_3e617933a96a4a91bac435284368e417-75" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-75"&gt;&lt;/a&gt;    tcsfile = "[.tcs]" + file + "-TCS"  # Not used by some commands.
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-76" name="rest_code_3e617933a96a4a91bac435284368e417-76" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-76"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-77" name="rest_code_3e617933a96a4a91bac435284368e417-77" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-77"&gt;&lt;/a&gt;    if (debugging) {
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-78" name="rest_code_3e617933a96a4a91bac435284368e417-78" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-78"&gt;&lt;/a&gt;        wso "command: ", command, " file: ", file, " tcsfile: ", tcsfile
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-79" name="rest_code_3e617933a96a4a91bac435284368e417-79" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-79"&gt;&lt;/a&gt;        wso "outfile: """, outfile, """"
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-80" name="rest_code_3e617933a96a4a91bac435284368e417-80" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-80"&gt;&lt;/a&gt;    }
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-81" name="rest_code_3e617933a96a4a91bac435284368e417-81" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-81"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-82" name="rest_code_3e617933a96a4a91bac435284368e417-82" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-82"&gt;&lt;/a&gt;    if (command .eqs. "ADMIN") {
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-83" name="rest_code_3e617933a96a4a91bac435284368e417-83" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-83"&gt;&lt;/a&gt;        goto do_admin
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-84" name="rest_code_3e617933a96a4a91bac435284368e417-84" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-84"&gt;&lt;/a&gt;    } else if (command .eqs. "GET") {
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-85" name="rest_code_3e617933a96a4a91bac435284368e417-85" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-85"&gt;&lt;/a&gt;        goto do_get
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-86" name="rest_code_3e617933a96a4a91bac435284368e417-86" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-86"&gt;&lt;/a&gt;    } else if (command .eqs. "DELTA") {
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-87" name="rest_code_3e617933a96a4a91bac435284368e417-87" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-87"&gt;&lt;/a&gt;        goto do_delta
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-88" name="rest_code_3e617933a96a4a91bac435284368e417-88" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-88"&gt;&lt;/a&gt;    } else if (command .eqs. "OUTDATED") {
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-89" name="rest_code_3e617933a96a4a91bac435284368e417-89" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-89"&gt;&lt;/a&gt;        goto do_outdated
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-90" name="rest_code_3e617933a96a4a91bac435284368e417-90" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-90"&gt;&lt;/a&gt;    } else if (command .eqs. "UNCOVERED") {
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-91" name="rest_code_3e617933a96a4a91bac435284368e417-91" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-91"&gt;&lt;/a&gt;        goto do_uncovered
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-92" name="rest_code_3e617933a96a4a91bac435284368e417-92" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-92"&gt;&lt;/a&gt;    }
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-93" name="rest_code_3e617933a96a4a91bac435284368e417-93" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-93"&gt;&lt;/a&gt;    wso "tcs: This should be impossible, so somebody screwed up.  Exiting."
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-94" name="rest_code_3e617933a96a4a91bac435284368e417-94" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-94"&gt;&lt;/a&gt;    exit 2 .or. QUIET
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-95" name="rest_code_3e617933a96a4a91bac435284368e417-95" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-95"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-96" name="rest_code_3e617933a96a4a91bac435284368e417-96" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-96"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-97" name="rest_code_3e617933a96a4a91bac435284368e417-97" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-97"&gt;&lt;/a&gt;do_admin:
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-98" name="rest_code_3e617933a96a4a91bac435284368e417-98" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-98"&gt;&lt;/a&gt;    result = f$search (tcsfile)
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-99" name="rest_code_3e617933a96a4a91bac435284368e417-99" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-99"&gt;&lt;/a&gt;    if (result .nes. "") {
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-100" name="rest_code_3e617933a96a4a91bac435284368e417-100" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-100"&gt;&lt;/a&gt;        wse "tcs: TCS file ", tcsfile, " already exists, exiting."
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-101" name="rest_code_3e617933a96a4a91bac435284368e417-101" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-101"&gt;&lt;/a&gt;        exit 2
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-102" name="rest_code_3e617933a96a4a91bac435284368e417-102" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-102"&gt;&lt;/a&gt;    }
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-103" name="rest_code_3e617933a96a4a91bac435284368e417-103" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-103"&gt;&lt;/a&gt;    file = f$edit (file, "LOWERCASE")
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-104" name="rest_code_3e617933a96a4a91bac435284368e417-104" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-104"&gt;&lt;/a&gt;    dclcmd = "admin ""-i''file'"" ''tcsfile'"
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-105" name="rest_code_3e617933a96a4a91bac435284368e417-105" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-105"&gt;&lt;/a&gt;    wso "Executing ", dclcmd
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-106" name="rest_code_3e617933a96a4a91bac435284368e417-106" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-106"&gt;&lt;/a&gt;    define/user sys$input sys$command
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-107" name="rest_code_3e617933a96a4a91bac435284368e417-107" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-107"&gt;&lt;/a&gt;    'dclcmd'
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-108" name="rest_code_3e617933a96a4a91bac435284368e417-108" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-108"&gt;&lt;/a&gt;    exit
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-109" name="rest_code_3e617933a96a4a91bac435284368e417-109" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-109"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-110" name="rest_code_3e617933a96a4a91bac435284368e417-110" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-110"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-111" name="rest_code_3e617933a96a4a91bac435284368e417-111" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-111"&gt;&lt;/a&gt;do_get:
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-112" name="rest_code_3e617933a96a4a91bac435284368e417-112" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-112"&gt;&lt;/a&gt;    if (outfile .eqs. "") {
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-113" name="rest_code_3e617933a96a4a91bac435284368e417-113" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-113"&gt;&lt;/a&gt;        get 'options_1' 'options_2' 'options_3' 'options_4' 'tcsfile'
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-114" name="rest_code_3e617933a96a4a91bac435284368e417-114" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-114"&gt;&lt;/a&gt;    } else {
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-115" name="rest_code_3e617933a96a4a91bac435284368e417-115" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-115"&gt;&lt;/a&gt;        get 'options_1' 'options_2' 'options_3' 'options_4' 'tcsfile' &amp;gt;'outfile'
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-116" name="rest_code_3e617933a96a4a91bac435284368e417-116" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-116"&gt;&lt;/a&gt;    }
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-117" name="rest_code_3e617933a96a4a91bac435284368e417-117" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-117"&gt;&lt;/a&gt;    exit
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-118" name="rest_code_3e617933a96a4a91bac435284368e417-118" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-118"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-119" name="rest_code_3e617933a96a4a91bac435284368e417-119" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-119"&gt;&lt;/a&gt;do_delta:
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-120" name="rest_code_3e617933a96a4a91bac435284368e417-120" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-120"&gt;&lt;/a&gt;    result = f$search (tcsfile)
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-121" name="rest_code_3e617933a96a4a91bac435284368e417-121" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-121"&gt;&lt;/a&gt;    if (result .eqs. "") {
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-122" name="rest_code_3e617933a96a4a91bac435284368e417-122" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-122"&gt;&lt;/a&gt;        wse "tcs: TCS file ", tcsfile, " does not exist, exiting."
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-123" name="rest_code_3e617933a96a4a91bac435284368e417-123" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-123"&gt;&lt;/a&gt;        exit 2
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-124" name="rest_code_3e617933a96a4a91bac435284368e417-124" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-124"&gt;&lt;/a&gt;    }
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-125" name="rest_code_3e617933a96a4a91bac435284368e417-125" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-125"&gt;&lt;/a&gt;    define/user sys$input sys$command
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-126" name="rest_code_3e617933a96a4a91bac435284368e417-126" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-126"&gt;&lt;/a&gt;    delta 'file' 'tcsfile'
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-127" name="rest_code_3e617933a96a4a91bac435284368e417-127" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-127"&gt;&lt;/a&gt;    exit
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-128" name="rest_code_3e617933a96a4a91bac435284368e417-128" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-128"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-129" name="rest_code_3e617933a96a4a91bac435284368e417-129" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-129"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-130" name="rest_code_3e617933a96a4a91bac435284368e417-130" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-130"&gt;&lt;/a&gt;do_outdated:
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-131" name="rest_code_3e617933a96a4a91bac435284368e417-131" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-131"&gt;&lt;/a&gt;    filespec = "[.tcs]*.*-tcs"
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-132" name="rest_code_3e617933a96a4a91bac435284368e417-132" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-132"&gt;&lt;/a&gt;    repeat {
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-133" name="rest_code_3e617933a96a4a91bac435284368e417-133" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-133"&gt;&lt;/a&gt;        tcsfile = f$search (filespec)
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-134" name="rest_code_3e617933a96a4a91bac435284368e417-134" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-134"&gt;&lt;/a&gt;        if (tcsfile .eqs. "") break
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-135" name="rest_code_3e617933a96a4a91bac435284368e417-135" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-135"&gt;&lt;/a&gt;        tcsrdt = f$file (tcsfile, "RDT")
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-136" name="rest_code_3e617933a96a4a91bac435284368e417-136" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-136"&gt;&lt;/a&gt;        tcs_day     = f$extract (00, 02, tcsrdt)
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-137" name="rest_code_3e617933a96a4a91bac435284368e417-137" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-137"&gt;&lt;/a&gt;        tcs_monname = f$extract (03, 03, tcsrdt)
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-138" name="rest_code_3e617933a96a4a91bac435284368e417-138" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-138"&gt;&lt;/a&gt;        tcs_year    = f$extract (07, 04, tcsrdt)
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-139" name="rest_code_3e617933a96a4a91bac435284368e417-139" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-139"&gt;&lt;/a&gt;        tcs_rest    = f$extract (11, 12, tcsrdt)
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-140" name="rest_code_3e617933a96a4a91bac435284368e417-140" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-140"&gt;&lt;/a&gt;        tcs_monnum  = months_'tcs_monname'
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-141" name="rest_code_3e617933a96a4a91bac435284368e417-141" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-141"&gt;&lt;/a&gt;        tcs_cmpdate = tcs_year + tcs_monnum + tcs_day + tcs_rest
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-142" name="rest_code_3e617933a96a4a91bac435284368e417-142" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-142"&gt;&lt;/a&gt;        if (debugging .and. verbose) wso "tcs_cmpdate: ", tcs_cmpdate
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-143" name="rest_code_3e617933a96a4a91bac435284368e417-143" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-143"&gt;&lt;/a&gt;        dirname = f$parse (tcsfile,,, "DIRECTORY") - ".TCS]" + "]"
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-144" name="rest_code_3e617933a96a4a91bac435284368e417-144" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-144"&gt;&lt;/a&gt;        filename = f$parse (tcsfile,,, "NAME")
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-145" name="rest_code_3e617933a96a4a91bac435284368e417-145" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-145"&gt;&lt;/a&gt;        filetype = f$parse (tcsfile,,, "TYPE") - "-TCS"
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-146" name="rest_code_3e617933a96a4a91bac435284368e417-146" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-146"&gt;&lt;/a&gt;        srcfile = filename + filetype
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-147" name="rest_code_3e617933a96a4a91bac435284368e417-147" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-147"&gt;&lt;/a&gt;        srcrdt = f$file (srcfile, "RDT")
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-148" name="rest_code_3e617933a96a4a91bac435284368e417-148" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-148"&gt;&lt;/a&gt;        src_day     = f$extract (00, 02, srcrdt)
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-149" name="rest_code_3e617933a96a4a91bac435284368e417-149" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-149"&gt;&lt;/a&gt;        src_monname = f$extract (03, 03, srcrdt)
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-150" name="rest_code_3e617933a96a4a91bac435284368e417-150" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-150"&gt;&lt;/a&gt;        src_year    = f$extract (07, 04, srcrdt)
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-151" name="rest_code_3e617933a96a4a91bac435284368e417-151" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-151"&gt;&lt;/a&gt;        src_rest    = f$extract (11, 12, srcrdt)
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-152" name="rest_code_3e617933a96a4a91bac435284368e417-152" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-152"&gt;&lt;/a&gt;        src_monnum  = months_'src_monname'
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-153" name="rest_code_3e617933a96a4a91bac435284368e417-153" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-153"&gt;&lt;/a&gt;        src_cmpdate = src_year + src_monnum + src_day + src_rest
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-154" name="rest_code_3e617933a96a4a91bac435284368e417-154" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-154"&gt;&lt;/a&gt;        if (debugging .and. verbose) wso "src_cmpdate: ", src_cmpdate
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-155" name="rest_code_3e617933a96a4a91bac435284368e417-155" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-155"&gt;&lt;/a&gt;        if (src_cmpdate .gts. tcs_cmpdate) wso srcfile, " is newer than ", tcsfile
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-156" name="rest_code_3e617933a96a4a91bac435284368e417-156" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-156"&gt;&lt;/a&gt;    }
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-157" name="rest_code_3e617933a96a4a91bac435284368e417-157" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-157"&gt;&lt;/a&gt;    exit
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-158" name="rest_code_3e617933a96a4a91bac435284368e417-158" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-158"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-159" name="rest_code_3e617933a96a4a91bac435284368e417-159" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-159"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-160" name="rest_code_3e617933a96a4a91bac435284368e417-160" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-160"&gt;&lt;/a&gt;do_uncovered:
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-161" name="rest_code_3e617933a96a4a91bac435284368e417-161" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-161"&gt;&lt;/a&gt;    i = param_idx + 1
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-162" name="rest_code_3e617933a96a4a91bac435284368e417-162" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-162"&gt;&lt;/a&gt;    ignoredtypes = p'i'
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-163" name="rest_code_3e617933a96a4a91bac435284368e417-163" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-163"&gt;&lt;/a&gt;    if (ignoredtypes .nes. "") ignoredtypes = "," + ignoredtypes
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-164" name="rest_code_3e617933a96a4a91bac435284368e417-164" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-164"&gt;&lt;/a&gt;    if (debugging) wse "ignoredtypes: ", ignoredtypes
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-165" name="rest_code_3e617933a96a4a91bac435284368e417-165" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-165"&gt;&lt;/a&gt;    ignoredtypes_len = f$length (ignoredtypes)
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-166" name="rest_code_3e617933a96a4a91bac435284368e417-166" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-166"&gt;&lt;/a&gt;    if (file .eqs. "") filespec = "*.*"
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-167" name="rest_code_3e617933a96a4a91bac435284368e417-167" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-167"&gt;&lt;/a&gt;    else filespec = file
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-168" name="rest_code_3e617933a96a4a91bac435284368e417-168" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-168"&gt;&lt;/a&gt;    if (debugging) wse "filespec: ", filespec
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-169" name="rest_code_3e617933a96a4a91bac435284368e417-169" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-169"&gt;&lt;/a&gt;    old_result = ""
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-170" name="rest_code_3e617933a96a4a91bac435284368e417-170" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-170"&gt;&lt;/a&gt;    repeat {
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-171" name="rest_code_3e617933a96a4a91bac435284368e417-171" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-171"&gt;&lt;/a&gt;        result = f$search (filespec, 1)
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-172" name="rest_code_3e617933a96a4a91bac435284368e417-172" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-172"&gt;&lt;/a&gt;        if (debugging) wso "result: ", result
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-173" name="rest_code_3e617933a96a4a91bac435284368e417-173" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-173"&gt;&lt;/a&gt;        # No more results
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-174" name="rest_code_3e617933a96a4a91bac435284368e417-174" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-174"&gt;&lt;/a&gt;        if (result .eqs. "") break
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-175" name="rest_code_3e617933a96a4a91bac435284368e417-175" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-175"&gt;&lt;/a&gt;        # No wildcard specified
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-176" name="rest_code_3e617933a96a4a91bac435284368e417-176" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-176"&gt;&lt;/a&gt;        if (result .eqs. old_result) break
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-177" name="rest_code_3e617933a96a4a91bac435284368e417-177" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-177"&gt;&lt;/a&gt;        old_result = result
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-178" name="rest_code_3e617933a96a4a91bac435284368e417-178" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-178"&gt;&lt;/a&gt;        filename = f$parse (result,,, "NAME")
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-179" name="rest_code_3e617933a96a4a91bac435284368e417-179" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-179"&gt;&lt;/a&gt;        filetype = f$parse (result,,, "TYPE")
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-180" name="rest_code_3e617933a96a4a91bac435284368e417-180" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-180"&gt;&lt;/a&gt;        file = filename + filetype
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-181" name="rest_code_3e617933a96a4a91bac435284368e417-181" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-181"&gt;&lt;/a&gt;        # Ignore directories
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-182" name="rest_code_3e617933a96a4a91bac435284368e417-182" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-182"&gt;&lt;/a&gt;        if (filetype .eqs. ".DIR") next
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-183" name="rest_code_3e617933a96a4a91bac435284368e417-183" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-183"&gt;&lt;/a&gt;        # Skip the ignored file types.
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-184" name="rest_code_3e617933a96a4a91bac435284368e417-184" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-184"&gt;&lt;/a&gt;        skip = "," + (filetype - ".")
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-185" name="rest_code_3e617933a96a4a91bac435284368e417-185" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-185"&gt;&lt;/a&gt;        if (debugging) wse "skip: ", skip, " ignoredtypes: ", ignoredtypes
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-186" name="rest_code_3e617933a96a4a91bac435284368e417-186" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-186"&gt;&lt;/a&gt;        if (f$locate (skip, ignoredtypes) .ne. ignoredtypes_len) {
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-187" name="rest_code_3e617933a96a4a91bac435284368e417-187" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-187"&gt;&lt;/a&gt;            if (debugging) wse "Skipping ", file
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-188" name="rest_code_3e617933a96a4a91bac435284368e417-188" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-188"&gt;&lt;/a&gt;            next
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-189" name="rest_code_3e617933a96a4a91bac435284368e417-189" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-189"&gt;&lt;/a&gt;        }
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-190" name="rest_code_3e617933a96a4a91bac435284368e417-190" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-190"&gt;&lt;/a&gt;        tcsfile = "[.TCS]" + file + "-TCS"
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-191" name="rest_code_3e617933a96a4a91bac435284368e417-191" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-191"&gt;&lt;/a&gt;        if (f$search (tcsfile) .eqs. "")
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-192" name="rest_code_3e617933a96a4a91bac435284368e417-192" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-192"&gt;&lt;/a&gt;            wso file, " does not have a ", tcsfile
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-193" name="rest_code_3e617933a96a4a91bac435284368e417-193" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-193"&gt;&lt;/a&gt;    }
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-194" name="rest_code_3e617933a96a4a91bac435284368e417-194" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-194"&gt;&lt;/a&gt;    exit
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-195" name="rest_code_3e617933a96a4a91bac435284368e417-195" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-195"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-196" name="rest_code_3e617933a96a4a91bac435284368e417-196" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-196"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-197" name="rest_code_3e617933a96a4a91bac435284368e417-197" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-197"&gt;&lt;/a&gt;usage:
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-198" name="rest_code_3e617933a96a4a91bac435284368e417-198" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-198"&gt;&lt;/a&gt;    copy sys$input sys$output
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-199" name="rest_code_3e617933a96a4a91bac435284368e417-199" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-199"&gt;&lt;/a&gt;//usage:
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-200" name="rest_code_3e617933a96a4a91bac435284368e417-200" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-200"&gt;&lt;/a&gt;//tcs [ help | -h | -help | -? ]
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-201" name="rest_code_3e617933a96a4a91bac435284368e417-201" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-201"&gt;&lt;/a&gt;//      Output this help message.
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-202" name="rest_code_3e617933a96a4a91bac435284368e417-202" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-202"&gt;&lt;/a&gt;//
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-203" name="rest_code_3e617933a96a4a91bac435284368e417-203" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-203"&gt;&lt;/a&gt;//tcs admin FILE
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-204" name="rest_code_3e617933a96a4a91bac435284368e417-204" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-204"&gt;&lt;/a&gt;//
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-205" name="rest_code_3e617933a96a4a91bac435284368e417-205" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-205"&gt;&lt;/a&gt;//      Initialize TCS file [.TCS]FILE from FILE.
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-206" name="rest_code_3e617933a96a4a91bac435284368e417-206" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-206"&gt;&lt;/a&gt;//
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-207" name="rest_code_3e617933a96a4a91bac435284368e417-207" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-207"&gt;&lt;/a&gt;//tcs get [-oOUTFILE] [-h] [-rM.N] FILE
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-208" name="rest_code_3e617933a96a4a91bac435284368e417-208" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-208"&gt;&lt;/a&gt;//
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-209" name="rest_code_3e617933a96a4a91bac435284368e417-209" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-209"&gt;&lt;/a&gt;//      Get a revision of FILE from TCS file [.TCS]FILE.
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-210" name="rest_code_3e617933a96a4a91bac435284368e417-210" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-210"&gt;&lt;/a&gt;//
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-211" name="rest_code_3e617933a96a4a91bac435284368e417-211" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-211"&gt;&lt;/a&gt;//          -oOUTFILE writes the output to OUTFILE.
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-212" name="rest_code_3e617933a96a4a91bac435284368e417-212" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-212"&gt;&lt;/a&gt;//              If -o is not specifed the output goes to standard output.
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-213" name="rest_code_3e617933a96a4a91bac435284368e417-213" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-213"&gt;&lt;/a&gt;//
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-214" name="rest_code_3e617933a96a4a91bac435284368e417-214" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-214"&gt;&lt;/a&gt;//          -h Output history information instead of a revision.
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-215" name="rest_code_3e617933a96a4a91bac435284368e417-215" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-215"&gt;&lt;/a&gt;//
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-216" name="rest_code_3e617933a96a4a91bac435284368e417-216" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-216"&gt;&lt;/a&gt;//          -rM.N Output revision M.N.
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-217" name="rest_code_3e617933a96a4a91bac435284368e417-217" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-217"&gt;&lt;/a&gt;//
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-218" name="rest_code_3e617933a96a4a91bac435284368e417-218" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-218"&gt;&lt;/a&gt;//tcs delta FILE
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-219" name="rest_code_3e617933a96a4a91bac435284368e417-219" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-219"&gt;&lt;/a&gt;//
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-220" name="rest_code_3e617933a96a4a91bac435284368e417-220" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-220"&gt;&lt;/a&gt;//      Add a new version to TCS file [.TCS]FILE from FILE.
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-221" name="rest_code_3e617933a96a4a91bac435284368e417-221" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-221"&gt;&lt;/a&gt;//
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-222" name="rest_code_3e617933a96a4a91bac435284368e417-222" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-222"&gt;&lt;/a&gt;//tcs outdated
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-223" name="rest_code_3e617933a96a4a91bac435284368e417-223" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-223"&gt;&lt;/a&gt;//
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-224" name="rest_code_3e617933a96a4a91bac435284368e417-224" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-224"&gt;&lt;/a&gt;//      List all the source files that are newer than their corresponding
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-225" name="rest_code_3e617933a96a4a91bac435284368e417-225" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-225"&gt;&lt;/a&gt;//      TCS file in [.TCS]
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-226" name="rest_code_3e617933a96a4a91bac435284368e417-226" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-226"&gt;&lt;/a&gt;//
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-227" name="rest_code_3e617933a96a4a91bac435284368e417-227" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-227"&gt;&lt;/a&gt;//tcs uncovered [FILESPEC] [IGNOREDTYPES]
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-228" name="rest_code_3e617933a96a4a91bac435284368e417-228" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-228"&gt;&lt;/a&gt;//
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-229" name="rest_code_3e617933a96a4a91bac435284368e417-229" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-229"&gt;&lt;/a&gt;//      List all the files in the current directory that do not have
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-230" name="rest_code_3e617933a96a4a91bac435284368e417-230" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-230"&gt;&lt;/a&gt;//      corresponding files in [.TCS].
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-231" name="rest_code_3e617933a96a4a91bac435284368e417-231" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-231"&gt;&lt;/a&gt;//
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-232" name="rest_code_3e617933a96a4a91bac435284368e417-232" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-232"&gt;&lt;/a&gt;//      If FILEPSEC is specified it should be a VMS wildcard that
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-233" name="rest_code_3e617933a96a4a91bac435284368e417-233" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-233"&gt;&lt;/a&gt;//      will be applied to the current directory for matching.
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-234" name="rest_code_3e617933a96a4a91bac435284368e417-234" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-234"&gt;&lt;/a&gt;//
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-235" name="rest_code_3e617933a96a4a91bac435284368e417-235" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-235"&gt;&lt;/a&gt;//      If IGNOREDTYPES is specified it should be a single file type
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-236" name="rest_code_3e617933a96a4a91bac435284368e417-236" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-236"&gt;&lt;/a&gt;//      (without the ".") or a comma separated list of file types
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-237" name="rest_code_3e617933a96a4a91bac435284368e417-237" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-237"&gt;&lt;/a&gt;//      to be ignored.
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-238" name="rest_code_3e617933a96a4a91bac435284368e417-238" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-238"&gt;&lt;/a&gt;//
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-239" name="rest_code_3e617933a96a4a91bac435284368e417-239" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-239"&gt;&lt;/a&gt;//      If one needs to specified IGNOREDTYPES but not FILESPEC just
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-240" name="rest_code_3e617933a96a4a91bac435284368e417-240" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-240"&gt;&lt;/a&gt;//      specify an empty string for FILESPEC.
&lt;a id="rest_code_3e617933a96a4a91bac435284368e417-241" name="rest_code_3e617933a96a4a91bac435284368e417-241" href="https://tkurtbond.github.io/posts/2024/08/13/another-way-of-using-the-swtools-vos-tcs-revision-system/#rest_code_3e617933a96a4a91bac435284368e417-241"&gt;&lt;/a&gt;    exit 2 .or. QUIET
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I decided to leave my :file:&lt;code class="docutils literal"&gt;tcsdiff.sdcl&lt;/code&gt; program separate for the
time being, since it was easy to convert to use with &lt;span class="app"&gt;TCS&lt;/span&gt; files
in &lt;span class="file"&gt;[.TCS]&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;I found it amusing when I recently was working on some
&lt;span class="command"&gt;ratfor&lt;/span&gt; code soon after revising my &lt;span class="command"&gt;SDCL&lt;/span&gt;
(Structured DCL preprocessor) and I realized that the reason that the
internal goto labels that I generate in SDCL start at 23000 because
the original &lt;span class="command"&gt;ratfor&lt;/span&gt; command started at 23000, which was
carried over to the SWTOOLS VOS &lt;span class="command"&gt;ratfor&lt;/span&gt; and the original
&lt;span class="command"&gt;sdcl&lt;/span&gt; written by Sohail Aslam of the University of Colorado
at Colorado Springs, and from there to my version of &lt;span class="command"&gt;SDCL&lt;/span&gt;.&lt;/p&gt;
&lt;img alt="/labgen-in-ratfor.jpg" src="https://tkurtbond.github.io/labgen-in-ratfor.jpg"&gt;</summary>
  </entry>
  <entry>
    <title>SWTOOLS VOS shells need GRPNAM as well as CMEXEC and DETACH for subshells</title>
    <id>https://tkurtbond.github.io/posts/2024/07/19/swtools-vos-shells-need-grpnam-as-well-as-cmexec-and-detach-for-subshells/</id>
    <updated>2024-07-19T12:03:19-04:00</updated>
    <published>2024-07-19T12:03:19-04:00</published>
    <author>
      <name>T. Kurt Bond</name>
    </author>
    <link rel="alternate" type="text/html" href="https://tkurtbond.github.io/posts/2024/07/19/swtools-vos-shells-need-grpnam-as-well-as-cmexec-and-detach-for-subshells/"/>
    <summary type="html">&lt;p&gt;The SWTOOLS VOS provides three shells, &lt;span class="command"&gt;sh&lt;/span&gt;, &lt;span class="command"&gt;hsh&lt;/span&gt;
(which adds a history mechanism), and &lt;span class="command"&gt;esh&lt;/span&gt; (which adds
&lt;span class="command"&gt;ed&lt;/span&gt;-style editing of the history).  The release notes state
that the shells need the privileges &lt;code class="docutils literal"&gt;DETACH&lt;/code&gt; and &lt;code class="docutils literal"&gt;CMEXEC&lt;/code&gt;, but
under VMS 5.5-2 it turns out that they need the &lt;code class="docutils literal"&gt;GRPNAM&lt;/code&gt; privilege
as well.&lt;/p&gt;</summary>
    <category term="cmexec" label="cmexec"/>
    <category term="detach" label="detach"/>
    <category term="esh" label="esh"/>
    <category term="fortran" label="fortran"/>
    <category term="grpnam" label="grpnam"/>
    <category term="hsh" label="hsh"/>
    <category term="sh" label="sh"/>
    <category term="swtools-ratfor" label="swtools ratfor"/>
    <category term="swtools-vos" label="swtools vos"/>
    <category term="vaxvms" label="vax/vms"/>
  </entry>
  <entry>
    <title>My first program using SWTOOLS VOS</title>
    <id>https://tkurtbond.github.io/posts/2024/07/18/my-first-program-using-swtools-vos/</id>
    <updated>2024-07-18T16:10:56-04:00</updated>
    <published>2024-07-18T16:10:56-04:00</published>
    <author>
      <name>T. Kurt Bond</name>
    </author>
    <link rel="alternate" type="text/html" href="https://tkurtbond.github.io/posts/2024/07/18/my-first-program-using-swtools-vos/"/>
    <summary type="html">&lt;p&gt;Well, it's my first program using SWTOOLS VOS &lt;strong&gt;this time around&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;So, I finished by first program using SWTOOLS.  It is a simple
directory lister, called l, that interprets all its arguments as as
file specifications to search for using normal RMS wildcards, or used
&lt;span class="file"&gt;*.*&lt;/span&gt; if not arguments are specified.  It only returns the files with
the highest version number, does not include the device, directory, or
version number in the output, and converts the filenames to lower
case.  It should only be used to list files in the current directory.
I needed it because I do things like&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code shell"&gt;&lt;a id="rest_code_0212f92d774d4b39935bf22416f3d83f-1" name="rest_code_0212f92d774d4b39935bf22416f3d83f-1" href="https://tkurtbond.github.io/posts/2024/07/18/my-first-program-using-swtools-vos/#rest_code_0212f92d774d4b39935bf22416f3d83f-1"&gt;&lt;/a&gt;l&lt;span class="w"&gt; &lt;/span&gt;*.sdcl&lt;span class="w"&gt; &lt;/span&gt;*.for&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;sedit&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;'s/{?+}$/ar uv src.ar $1'&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and I don't want any version numbers to end up in the names of the
archive members, and so on.&lt;/p&gt;
&lt;p&gt;Rafor &lt;em&gt;is&lt;/em&gt; much better than Fortran 77.  And Fortran has even more
footguns than C when it comes to using separately compiled functions
and subroutines, with no notices that I'd passed things with the wrong
type until I actually ran the program and got a register dump because
of an access violation.&lt;/p&gt;
&lt;p&gt;I was not able to include things from
&lt;span class="file"&gt;SYS$LIBRARY:FORSYSDEF.TLB&lt;/span&gt; using the Fortran &lt;code class="docutils literal"&gt;INCLUDE&lt;/code&gt;
statement in ratfor, since it has its own include keyword , so I
separated that part of the program into its own Fortran source file.
Because that file wasn't run through ratfor I couldn't use the
standard macro definitions, like STDERR, so when I wanted to output
the filesnames, I just wrote a ratfor subroutine that would print them
and called that from the Fortran subroutine.  A little clunky, but it
worked.&lt;/p&gt;
&lt;p&gt;Annoying, the &lt;span class="command"&gt;fc&lt;/span&gt; command (which compiles &lt;span class="file"&gt;*.f&lt;/span&gt; files to
objects) doesn't work when run under &lt;span class="command"&gt;mmk&lt;/span&gt;, so I had to write
a command procedure &lt;span class="file"&gt;dommk&lt;/span&gt; that does &lt;code class="docutils literal"&gt;mmk/noact/out=tmp.com&lt;/code&gt;
and &lt;code class="docutils literal"&gt;@tmp.com&lt;/code&gt; to do the build.  (I think this was somehow due to
having multiple levels of subprocesses: &lt;span class="command"&gt;mmk&lt;/span&gt;'s and
&lt;span class="command"&gt;rc&lt;/span&gt;'s.)&lt;/p&gt;
&lt;p&gt;Anyway, the program ended up 48 lines of ratfor in three files and 84
lines of Fortran.  The C program I started with was 170 lines (in one
file), but doesn't work with the SWTOOLS shell's notions of I/O
redirection.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Last edited: 2024-07-19 12:44:44 EDT&lt;/em&gt;&lt;/p&gt;
&lt;!-- Local Variables:
time-stamp-format: "%Y-%02m-%02d %02H:%02M:%02S %Z"
time-stamp-start: "\\*Last edited:[ \t]+\\\\?"
time-stamp-end: "\\*\\\\?\n"
time-stamp-line-limit: -20
End: --&gt;</summary>
    <category term="fortran" label="fortran"/>
    <category term="swtools-ratfor" label="swtools ratfor"/>
    <category term="swtools-vos" label="swtools vos"/>
    <category term="vaxvms" label="vax/vms"/>
  </entry>
  <entry>
    <title>Fixing a 41 year old bug in the SWTOOLS VOS SEDIT commmand</title>
    <id>https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/</id>
    <updated>2024-07-15T14:09:45-04:00</updated>
    <published>2024-07-15T14:09:45-04:00</published>
    <author>
      <name>T. Kurt Bond</name>
    </author>
    <link rel="alternate" type="text/html" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/"/>
    <summary type="html">&lt;p&gt;Today I fixed a 41 year old bug in the SWTOOLS VOS &lt;span class="command"&gt;sedit&lt;/span&gt; commmand!&lt;/p&gt;
&lt;p&gt;At work part of my job is to maintain an emulated VAX/VMS 5.5-2 system
for one of our clients.  I have been using the SWTOOLS Virtual
Operating System &lt;a class="reference external" href="https://tkurtbond.github.io/posts/2024/07/03/software-tools/"&gt;recently&lt;/a&gt; (Unix style
I/O redirection! And pipes!), and whenever I tried to use the sedit
command it would die with an integer overflow:&lt;/p&gt;
&lt;pre class="literal-block"&gt;%SYSTEM-F-INTOVF, arithmetic trap, integer overflow at PC=0002D6C9, PSL=03C00022

Improperly handled condition, image exit forced.

      Signal arguments              Stack contents

      Number = 00000003                00000000
      Name   = 0000047C                08000020
               0002D6C9                000017C4
               03C00022                7FEF9784
                                       0002D479
                                       00001DC0
                                       00000000
                                       08000020
                                       7FEF97B4
                                       7FEF979C

      Register dump

      R0 = 0000000E  R1 = 0002BAF4  R2 = 0000000F  R3 = 7FF6A489
      R4 = 7FFE5E0C  R5 = 7FFE5EBC  R6 = 00000000  R7 = 00000001
      R8 = 7FFECA4C  R9 = 7FFECC54  R10= 7FFED7D4  R11= 00001E94
      AP = 7FEF9738  FP = 7FEF96F8  SP = 7FEF976C  PC = 0002D6C9
      PSL= 03C00022&lt;/pre&gt;
&lt;p&gt;Drats, drats, drats.&lt;/p&gt;
&lt;p&gt;I use &lt;span class="command"&gt;sed&lt;/span&gt; frequently on Unix, and it would be nice to have
the SWTOOLS equivalent on VAX/VMS.  What could I do but set the
&lt;a class="reference external" href="https://en.wikipedia.org/wiki/Wayback_Machine_(Peabody%27s_Improbable_History)"&gt;Wayback Machine&lt;/a&gt;
for 1986 and dive in!&lt;/p&gt;
&lt;p&gt;Those following along may want to read my post about how the &lt;a class="reference external" href="slug://how-the-lbl-software-tools-system-organized-its-source-files"&gt;Software Tools VOS organized its source files&lt;/a&gt; first.&lt;/p&gt;
&lt;p&gt;The SWTOOLS VOS was written in &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Ratfor"&gt;Ratfor&lt;/a&gt;, which added structured
control structures and other niceties such as macros, include files,
and string constants to pre-1977 Fortran.  I suspect that even as late
as 1986, when the version of the SWTOOLS VOS was released, lots of
installations were on machines that only &lt;strong&gt;*had*&lt;/strong&gt; pre-1977 Fortran
compilers.&lt;/p&gt;
&lt;p&gt;Here's an example of &lt;span class="app"&gt;Ratfor&lt;/span&gt; source, from &lt;span class="file"&gt;sedit.r&lt;/span&gt;:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code fortran"&gt;&lt;a id="rest_code_b401bc577706466c96a9d86bd14a3a24-1" name="rest_code_b401bc577706466c96a9d86bd14a3a24-1" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b401bc577706466c96a9d86bd14a3a24-1"&gt;&lt;/a&gt;&lt;span class="cp"&gt;# copyf - copy file name to opened file fdo&lt;/span&gt;
&lt;a id="rest_code_b401bc577706466c96a9d86bd14a3a24-2" name="rest_code_b401bc577706466c96a9d86bd14a3a24-2" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b401bc577706466c96a9d86bd14a3a24-2"&gt;&lt;/a&gt;&lt;span class="k"&gt;subroutine &lt;/span&gt;&lt;span class="n"&gt;copyf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;fdo&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_b401bc577706466c96a9d86bd14a3a24-3" name="rest_code_b401bc577706466c96a9d86bd14a3a24-3" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b401bc577706466c96a9d86bd14a3a24-3"&gt;&lt;/a&gt;&lt;span class="kt"&gt;integer &lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ARB&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_b401bc577706466c96a9d86bd14a3a24-4" name="rest_code_b401bc577706466c96a9d86bd14a3a24-4" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b401bc577706466c96a9d86bd14a3a24-4"&gt;&lt;/a&gt;&lt;span class="kt"&gt;integer &lt;/span&gt;&lt;span class="n"&gt;fdo&lt;/span&gt;
&lt;a id="rest_code_b401bc577706466c96a9d86bd14a3a24-5" name="rest_code_b401bc577706466c96a9d86bd14a3a24-5" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b401bc577706466c96a9d86bd14a3a24-5"&gt;&lt;/a&gt;&lt;span class="kt"&gt;integer &lt;/span&gt;&lt;span class="n"&gt;fdi&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;
&lt;a id="rest_code_b401bc577706466c96a9d86bd14a3a24-6" name="rest_code_b401bc577706466c96a9d86bd14a3a24-6" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b401bc577706466c96a9d86bd14a3a24-6"&gt;&lt;/a&gt;&lt;span class="kt"&gt;integer &lt;/span&gt;&lt;span class="k"&gt;open&lt;/span&gt;
&lt;a id="rest_code_b401bc577706466c96a9d86bd14a3a24-7" name="rest_code_b401bc577706466c96a9d86bd14a3a24-7" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b401bc577706466c96a9d86bd14a3a24-7"&gt;&lt;/a&gt;&lt;span class="kt"&gt;character &lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;namstr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;MAXLINE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_b401bc577706466c96a9d86bd14a3a24-8" name="rest_code_b401bc577706466c96a9d86bd14a3a24-8" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b401bc577706466c96a9d86bd14a3a24-8"&gt;&lt;/a&gt;&lt;span class="kt"&gt;character &lt;/span&gt;&lt;span class="n"&gt;getch&lt;/span&gt;
&lt;a id="rest_code_b401bc577706466c96a9d86bd14a3a24-9" name="rest_code_b401bc577706466c96a9d86bd14a3a24-9" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b401bc577706466c96a9d86bd14a3a24-9"&gt;&lt;/a&gt;
&lt;a id="rest_code_b401bc577706466c96a9d86bd14a3a24-10" name="rest_code_b401bc577706466c96a9d86bd14a3a24-10" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b401bc577706466c96a9d86bd14a3a24-10"&gt;&lt;/a&gt;&lt;span class="n"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="c"&gt;!=EOS; i=i+1)               #get name into string&lt;/span&gt;
&lt;a id="rest_code_b401bc577706466c96a9d86bd14a3a24-11" name="rest_code_b401bc577706466c96a9d86bd14a3a24-11" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b401bc577706466c96a9d86bd14a3a24-11"&gt;&lt;/a&gt;&lt;span class="w"&gt;     &lt;/span&gt;&lt;span class="n"&gt;namstr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_b401bc577706466c96a9d86bd14a3a24-12" name="rest_code_b401bc577706466c96a9d86bd14a3a24-12" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b401bc577706466c96a9d86bd14a3a24-12"&gt;&lt;/a&gt;&lt;span class="n"&gt;namstr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;EOS&lt;/span&gt;
&lt;a id="rest_code_b401bc577706466c96a9d86bd14a3a24-13" name="rest_code_b401bc577706466c96a9d86bd14a3a24-13" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b401bc577706466c96a9d86bd14a3a24-13"&gt;&lt;/a&gt;&lt;span class="n"&gt;fdi&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;namstr&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;READ&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_b401bc577706466c96a9d86bd14a3a24-14" name="rest_code_b401bc577706466c96a9d86bd14a3a24-14" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b401bc577706466c96a9d86bd14a3a24-14"&gt;&lt;/a&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fdi&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ERR&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_b401bc577706466c96a9d86bd14a3a24-15" name="rest_code_b401bc577706466c96a9d86bd14a3a24-15" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b401bc577706466c96a9d86bd14a3a24-15"&gt;&lt;/a&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="k"&gt;call &lt;/span&gt;&lt;span class="n"&gt;cant&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;namstr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_b401bc577706466c96a9d86bd14a3a24-16" name="rest_code_b401bc577706466c96a9d86bd14a3a24-16" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b401bc577706466c96a9d86bd14a3a24-16"&gt;&lt;/a&gt;&lt;span class="k"&gt;while&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;getch&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;fdi&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;!= EOF)&lt;/span&gt;
&lt;a id="rest_code_b401bc577706466c96a9d86bd14a3a24-17" name="rest_code_b401bc577706466c96a9d86bd14a3a24-17" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b401bc577706466c96a9d86bd14a3a24-17"&gt;&lt;/a&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="k"&gt;call &lt;/span&gt;&lt;span class="n"&gt;putch&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;fdo&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_b401bc577706466c96a9d86bd14a3a24-18" name="rest_code_b401bc577706466c96a9d86bd14a3a24-18" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b401bc577706466c96a9d86bd14a3a24-18"&gt;&lt;/a&gt;&lt;span class="k"&gt;call close&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fdi&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_b401bc577706466c96a9d86bd14a3a24-19" name="rest_code_b401bc577706466c96a9d86bd14a3a24-19" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b401bc577706466c96a9d86bd14a3a24-19"&gt;&lt;/a&gt;&lt;span class="k"&gt;return&lt;/span&gt;
&lt;a id="rest_code_b401bc577706466c96a9d86bd14a3a24-20" name="rest_code_b401bc577706466c96a9d86bd14a3a24-20" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b401bc577706466c96a9d86bd14a3a24-20"&gt;&lt;/a&gt;&lt;span class="k"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can tell it was inspired by Unix.&lt;/p&gt;
&lt;p&gt;Here's the corresponding generated Fortran&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code fortran"&gt;&lt;a id="rest_code_b4b6bb99660649c2908323da632aa784-1" name="rest_code_b4b6bb99660649c2908323da632aa784-1" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b4b6bb99660649c2908323da632aa784-1"&gt;&lt;/a&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="k"&gt;SUBROUTINE &lt;/span&gt;&lt;span class="n"&gt;COPYF&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;NAME&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;FDO&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_b4b6bb99660649c2908323da632aa784-2" name="rest_code_b4b6bb99660649c2908323da632aa784-2" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b4b6bb99660649c2908323da632aa784-2"&gt;&lt;/a&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="kt"&gt;INTEGER &lt;/span&gt;&lt;span class="n"&gt;NAME&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2048&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_b4b6bb99660649c2908323da632aa784-3" name="rest_code_b4b6bb99660649c2908323da632aa784-3" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b4b6bb99660649c2908323da632aa784-3"&gt;&lt;/a&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="kt"&gt;INTEGER &lt;/span&gt;&lt;span class="n"&gt;FDO&lt;/span&gt;
&lt;a id="rest_code_b4b6bb99660649c2908323da632aa784-4" name="rest_code_b4b6bb99660649c2908323da632aa784-4" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b4b6bb99660649c2908323da632aa784-4"&gt;&lt;/a&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="kt"&gt;INTEGER &lt;/span&gt;&lt;span class="n"&gt;FDI&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;I&lt;/span&gt;
&lt;a id="rest_code_b4b6bb99660649c2908323da632aa784-5" name="rest_code_b4b6bb99660649c2908323da632aa784-5" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b4b6bb99660649c2908323da632aa784-5"&gt;&lt;/a&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="kt"&gt;INTEGER &lt;/span&gt;&lt;span class="k"&gt;OPEN&lt;/span&gt;
&lt;a id="rest_code_b4b6bb99660649c2908323da632aa784-6" name="rest_code_b4b6bb99660649c2908323da632aa784-6" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b4b6bb99660649c2908323da632aa784-6"&gt;&lt;/a&gt;&lt;span class="k"&gt;      &lt;/span&gt;&lt;span class="kt"&gt;LOGICAL&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;C&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;NAMSTR&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2048&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_b4b6bb99660649c2908323da632aa784-7" name="rest_code_b4b6bb99660649c2908323da632aa784-7" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b4b6bb99660649c2908323da632aa784-7"&gt;&lt;/a&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="kt"&gt;LOGICAL&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;GETCH&lt;/span&gt;
&lt;a id="rest_code_b4b6bb99660649c2908323da632aa784-8" name="rest_code_b4b6bb99660649c2908323da632aa784-8" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b4b6bb99660649c2908323da632aa784-8"&gt;&lt;/a&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="n"&gt;I&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;
&lt;a id="rest_code_b4b6bb99660649c2908323da632aa784-9" name="rest_code_b4b6bb99660649c2908323da632aa784-9" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b4b6bb99660649c2908323da632aa784-9"&gt;&lt;/a&gt;&lt;span class="mi"&gt;23190&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;IF&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(.&lt;/span&gt;&lt;span class="nb"&gt;NOT&lt;/span&gt;&lt;span class="p"&gt;.(&lt;/span&gt;&lt;span class="n"&gt;NAME&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;I&lt;/span&gt;&lt;span class="p"&gt;).&lt;/span&gt;&lt;span class="n"&gt;NE&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="k"&gt;GOTO&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;23192&lt;/span&gt;
&lt;a id="rest_code_b4b6bb99660649c2908323da632aa784-10" name="rest_code_b4b6bb99660649c2908323da632aa784-10" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b4b6bb99660649c2908323da632aa784-10"&gt;&lt;/a&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="n"&gt;NAMSTR&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;I&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;NAME&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;I&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_b4b6bb99660649c2908323da632aa784-11" name="rest_code_b4b6bb99660649c2908323da632aa784-11" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b4b6bb99660649c2908323da632aa784-11"&gt;&lt;/a&gt;&lt;span class="mi"&gt;23191&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;I&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;I&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;
&lt;a id="rest_code_b4b6bb99660649c2908323da632aa784-12" name="rest_code_b4b6bb99660649c2908323da632aa784-12" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b4b6bb99660649c2908323da632aa784-12"&gt;&lt;/a&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="k"&gt;GOTO&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;23190&lt;/span&gt;
&lt;a id="rest_code_b4b6bb99660649c2908323da632aa784-13" name="rest_code_b4b6bb99660649c2908323da632aa784-13" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b4b6bb99660649c2908323da632aa784-13"&gt;&lt;/a&gt;&lt;span class="mi"&gt;23192&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;CONTINUE&lt;/span&gt;
&lt;a id="rest_code_b4b6bb99660649c2908323da632aa784-14" name="rest_code_b4b6bb99660649c2908323da632aa784-14" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b4b6bb99660649c2908323da632aa784-14"&gt;&lt;/a&gt;&lt;span class="k"&gt;      &lt;/span&gt;&lt;span class="n"&gt;NAMSTR&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;I&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;
&lt;a id="rest_code_b4b6bb99660649c2908323da632aa784-15" name="rest_code_b4b6bb99660649c2908323da632aa784-15" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b4b6bb99660649c2908323da632aa784-15"&gt;&lt;/a&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="n"&gt;FDI&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;OPEN&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;NAMSTR&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_b4b6bb99660649c2908323da632aa784-16" name="rest_code_b4b6bb99660649c2908323da632aa784-16" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b4b6bb99660649c2908323da632aa784-16"&gt;&lt;/a&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="k"&gt;IF&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(.&lt;/span&gt;&lt;span class="nb"&gt;NOT&lt;/span&gt;&lt;span class="p"&gt;.(&lt;/span&gt;&lt;span class="n"&gt;FDI&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;EQ&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="k"&gt;GOTO&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;23193&lt;/span&gt;
&lt;a id="rest_code_b4b6bb99660649c2908323da632aa784-17" name="rest_code_b4b6bb99660649c2908323da632aa784-17" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b4b6bb99660649c2908323da632aa784-17"&gt;&lt;/a&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="k"&gt;CALL &lt;/span&gt;&lt;span class="n"&gt;CANT&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;NAMSTR&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_b4b6bb99660649c2908323da632aa784-18" name="rest_code_b4b6bb99660649c2908323da632aa784-18" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b4b6bb99660649c2908323da632aa784-18"&gt;&lt;/a&gt;&lt;span class="mi"&gt;23193&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;CONTINUE&lt;/span&gt;
&lt;a id="rest_code_b4b6bb99660649c2908323da632aa784-19" name="rest_code_b4b6bb99660649c2908323da632aa784-19" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b4b6bb99660649c2908323da632aa784-19"&gt;&lt;/a&gt;&lt;span class="mi"&gt;23195&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;IF&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(.&lt;/span&gt;&lt;span class="nb"&gt;NOT&lt;/span&gt;&lt;span class="p"&gt;.(&lt;/span&gt;&lt;span class="n"&gt;GETCH&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;C&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;FDI&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;NE&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="k"&gt;GOTO&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;23196&lt;/span&gt;
&lt;a id="rest_code_b4b6bb99660649c2908323da632aa784-20" name="rest_code_b4b6bb99660649c2908323da632aa784-20" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b4b6bb99660649c2908323da632aa784-20"&gt;&lt;/a&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="k"&gt;CALL &lt;/span&gt;&lt;span class="n"&gt;PUTCH&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;C&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;FDO&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_b4b6bb99660649c2908323da632aa784-21" name="rest_code_b4b6bb99660649c2908323da632aa784-21" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b4b6bb99660649c2908323da632aa784-21"&gt;&lt;/a&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="k"&gt;GOTO&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;23195&lt;/span&gt;
&lt;a id="rest_code_b4b6bb99660649c2908323da632aa784-22" name="rest_code_b4b6bb99660649c2908323da632aa784-22" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b4b6bb99660649c2908323da632aa784-22"&gt;&lt;/a&gt;&lt;span class="mi"&gt;23196&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;CONTINUE&lt;/span&gt;
&lt;a id="rest_code_b4b6bb99660649c2908323da632aa784-23" name="rest_code_b4b6bb99660649c2908323da632aa784-23" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b4b6bb99660649c2908323da632aa784-23"&gt;&lt;/a&gt;&lt;span class="k"&gt;      CALL CLOSE&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;FDI&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_b4b6bb99660649c2908323da632aa784-24" name="rest_code_b4b6bb99660649c2908323da632aa784-24" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b4b6bb99660649c2908323da632aa784-24"&gt;&lt;/a&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="k"&gt;RETURN&lt;/span&gt;
&lt;a id="rest_code_b4b6bb99660649c2908323da632aa784-25" name="rest_code_b4b6bb99660649c2908323da632aa784-25" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_b4b6bb99660649c2908323da632aa784-25"&gt;&lt;/a&gt;&lt;span class="k"&gt;      END&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Notice that the &lt;code class="docutils literal"&gt;character&lt;/code&gt; variables got changed to &lt;code class="docutils literal"&gt;LOGICAL*1&lt;/code&gt;?
That turns out to be 1 byte variable...&lt;/p&gt;
&lt;p&gt;So, to start, I needed to run sedit in the debugger.  That's easy
enough:&lt;/p&gt;
&lt;pre class="literal-block"&gt;% cd ~tmp
% mkdir sedit
% cd sedit
/dua1/software/swtools/tmp/sedit/
% get -r1.5 ~src/sedit.tcs &amp;gt;sedit.w
% ar xv sedit.w
patdef
csedit
sedit.r
sedit.fmt
% rc -d -v sedit.r
~bin/ratp1.exe sedit.r | ~bin/ratp2.exe &amp;gt;sedit.f
~bin/fc.exe -v -d sedit.f
for/noop/object=sedit.obj/nolist/check=all/debug=all sedit.f
~bin/ld.exe -v -d sedit.obj
$ link/exe=dua1:[software.swtools.tmp.sedit]sedit.exe/debug/nomap sys$input/opti
ons
dua1:[software.swtools.tmp.sedit]sedit.obj,-
dua1:[software.swtools.bin]rlib.olb/incl=(tools$main),-
dua1:[software.swtools.bin]rlib.olb/libr
% echo Hello | sedit "s/H/J/"
%DEBUG-I-CANTCREATEMAIN, could not create the debugger subprocess
%DEBUG-I-CANTCREATEMAIN, could not create the debugger subprocess
-LIB-F-NOCLI, no CLI present to perform function
-LIB-F-NOCLI, no CLI present to perform function
%DEBUG-I-SHRPRC, debugger will share user process
%DEBUG-I-SHRPRC, debugger will share user process

         VAX DEBUG Version V5.5-023

%DEBUG-I-INITIAL, language is MACRO, module set to TOOLS$MAIN

DBG&amp;gt; go
%DEBUG-I-DYNMODSET, setting module DOCOM
%SYSTEM-F-INTOVF, arithmetic trap, integer overflow at PC=0002E345, PSL=03C00022
break on unhandled exception preceding DOCOM\%LINE 20
    20:       IF (.NOT.(CMD .EQ. 97))GOTO 23162
DBG&amp;gt; go
%DEBUG-I-DYNMODSET, setting module DOCOM
%SYSTEM-F-INTOVF, arithmetic trap, integer overflow at PC=0002E345, PSL=03C00022
break on unhandled exception preceding DOCOM\%LINE 20
    20:       IF (.NOT.(CMD .EQ. 97))GOTO 23162
DBG&amp;gt;&lt;/pre&gt;
&lt;p&gt;I guess we'll need a little more context.&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code text"&gt;&lt;a id="rest_code_f1b3b236708b48b2aead8719840c2ec0-1" name="rest_code_f1b3b236708b48b2aead8719840c2ec0-1" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_f1b3b236708b48b2aead8719840c2ec0-1"&gt;&lt;/a&gt;DBG&amp;gt; type docom\1:20
&lt;a id="rest_code_f1b3b236708b48b2aead8719840c2ec0-2" name="rest_code_f1b3b236708b48b2aead8719840c2ec0-2" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_f1b3b236708b48b2aead8719840c2ec0-2"&gt;&lt;/a&gt;module DOCOM
&lt;a id="rest_code_f1b3b236708b48b2aead8719840c2ec0-3" name="rest_code_f1b3b236708b48b2aead8719840c2ec0-3" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_f1b3b236708b48b2aead8719840c2ec0-3"&gt;&lt;/a&gt;     1:       SUBROUTINE DOCOM(I, LINBUF, LINENO)
&lt;a id="rest_code_f1b3b236708b48b2aead8719840c2ec0-4" name="rest_code_f1b3b236708b48b2aead8719840c2ec0-4" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_f1b3b236708b48b2aead8719840c2ec0-4"&gt;&lt;/a&gt;     2:       LOGICAL*1 LINBUF(2048)
&lt;a id="rest_code_f1b3b236708b48b2aead8719840c2ec0-5" name="rest_code_f1b3b236708b48b2aead8719840c2ec0-5" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_f1b3b236708b48b2aead8719840c2ec0-5"&gt;&lt;/a&gt;     3:       INTEGER I, LINENO
&lt;a id="rest_code_f1b3b236708b48b2aead8719840c2ec0-6" name="rest_code_f1b3b236708b48b2aead8719840c2ec0-6" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_f1b3b236708b48b2aead8719840c2ec0-6"&gt;&lt;/a&gt;     4:       LOGICAL*1 CMD
&lt;a id="rest_code_f1b3b236708b48b2aead8719840c2ec0-7" name="rest_code_f1b3b236708b48b2aead8719840c2ec0-7" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_f1b3b236708b48b2aead8719840c2ec0-7"&gt;&lt;/a&gt;     5:       INTEGER K1, K2
&lt;a id="rest_code_f1b3b236708b48b2aead8719840c2ec0-8" name="rest_code_f1b3b236708b48b2aead8719840c2ec0-8" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_f1b3b236708b48b2aead8719840c2ec0-8"&gt;&lt;/a&gt;     6:       INTEGER AQ
&lt;a id="rest_code_f1b3b236708b48b2aead8719840c2ec0-9" name="rest_code_f1b3b236708b48b2aead8719840c2ec0-9" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_f1b3b236708b48b2aead8719840c2ec0-9"&gt;&lt;/a&gt;     7:       INTEGER IQ
&lt;a id="rest_code_f1b3b236708b48b2aead8719840c2ec0-10" name="rest_code_f1b3b236708b48b2aead8719840c2ec0-10" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_f1b3b236708b48b2aead8719840c2ec0-10"&gt;&lt;/a&gt;     8:       INTEGER BUF
&lt;a id="rest_code_f1b3b236708b48b2aead8719840c2ec0-11" name="rest_code_f1b3b236708b48b2aead8719840c2ec0-11" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_f1b3b236708b48b2aead8719840c2ec0-11"&gt;&lt;/a&gt;     9:       INTEGER LASTBF
&lt;a id="rest_code_f1b3b236708b48b2aead8719840c2ec0-12" name="rest_code_f1b3b236708b48b2aead8719840c2ec0-12" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_f1b3b236708b48b2aead8719840c2ec0-12"&gt;&lt;/a&gt;    10:       INTEGER NLINES
&lt;a id="rest_code_f1b3b236708b48b2aead8719840c2ec0-13" name="rest_code_f1b3b236708b48b2aead8719840c2ec0-13" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_f1b3b236708b48b2aead8719840c2ec0-13"&gt;&lt;/a&gt;    11:       INTEGER LINE1
&lt;a id="rest_code_f1b3b236708b48b2aead8719840c2ec0-14" name="rest_code_f1b3b236708b48b2aead8719840c2ec0-14" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_f1b3b236708b48b2aead8719840c2ec0-14"&gt;&lt;/a&gt;    12:       INTEGER LINE2
&lt;a id="rest_code_f1b3b236708b48b2aead8719840c2ec0-15" name="rest_code_f1b3b236708b48b2aead8719840c2ec0-15" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_f1b3b236708b48b2aead8719840c2ec0-15"&gt;&lt;/a&gt;    13:       INTEGER PAT
&lt;a id="rest_code_f1b3b236708b48b2aead8719840c2ec0-16" name="rest_code_f1b3b236708b48b2aead8719840c2ec0-16" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_f1b3b236708b48b2aead8719840c2ec0-16"&gt;&lt;/a&gt;    14:       INTEGER PREVC
&lt;a id="rest_code_f1b3b236708b48b2aead8719840c2ec0-17" name="rest_code_f1b3b236708b48b2aead8719840c2ec0-17" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_f1b3b236708b48b2aead8719840c2ec0-17"&gt;&lt;/a&gt;    15:       INTEGER NFLAG
&lt;a id="rest_code_f1b3b236708b48b2aead8719840c2ec0-18" name="rest_code_f1b3b236708b48b2aead8719840c2ec0-18" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_f1b3b236708b48b2aead8719840c2ec0-18"&gt;&lt;/a&gt;    16:       INTEGER QFLAG
&lt;a id="rest_code_f1b3b236708b48b2aead8719840c2ec0-19" name="rest_code_f1b3b236708b48b2aead8719840c2ec0-19" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_f1b3b236708b48b2aead8719840c2ec0-19"&gt;&lt;/a&gt;    17:       COMMON /CSEDIT/ AQ, IQ, BUF(20000), LASTBF, NLINES, LINE1, LINE2,
&lt;a id="rest_code_f1b3b236708b48b2aead8719840c2ec0-20" name="rest_code_f1b3b236708b48b2aead8719840c2ec0-20" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_f1b3b236708b48b2aead8719840c2ec0-20"&gt;&lt;/a&gt;    18:      *PAT(132), PREVC, NFLAG, QFLAG
&lt;a id="rest_code_f1b3b236708b48b2aead8719840c2ec0-21" name="rest_code_f1b3b236708b48b2aead8719840c2ec0-21" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_f1b3b236708b48b2aead8719840c2ec0-21"&gt;&lt;/a&gt;    19:       CMD = BUF(I+5)
&lt;a id="rest_code_f1b3b236708b48b2aead8719840c2ec0-22" name="rest_code_f1b3b236708b48b2aead8719840c2ec0-22" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_f1b3b236708b48b2aead8719840c2ec0-22"&gt;&lt;/a&gt;    20:       IF (.NOT.(CMD .EQ. 97))GOTO 23162
&lt;a id="rest_code_f1b3b236708b48b2aead8719840c2ec0-23" name="rest_code_f1b3b236708b48b2aead8719840c2ec0-23" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_f1b3b236708b48b2aead8719840c2ec0-23"&gt;&lt;/a&gt;DBG&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ok, line 19 is where the the integer overflow happened.  &lt;code class="docutils literal"&gt;BUF&lt;/code&gt; is an
array of &lt;code class="docutils literal"&gt;INTEGER&lt;/code&gt;s, while &lt;code class="docutils literal"&gt;CMD&lt;/code&gt; is a &lt;code class="docutils literal"&gt;LOGICAL*1&lt;/code&gt;, which, if I
look at the &lt;span class="file"&gt;sedit.r&lt;/span&gt; source:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code fortran"&gt;&lt;a id="rest_code_9884aae6ccf04c4190fe40e3f0c971d7-1" name="rest_code_9884aae6ccf04c4190fe40e3f0c971d7-1" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_9884aae6ccf04c4190fe40e3f0c971d7-1"&gt;&lt;/a&gt;&lt;span class="cp"&gt;# docom - execute a single command at buf(i) on linbuf and lineno&lt;/span&gt;
&lt;a id="rest_code_9884aae6ccf04c4190fe40e3f0c971d7-2" name="rest_code_9884aae6ccf04c4190fe40e3f0c971d7-2" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_9884aae6ccf04c4190fe40e3f0c971d7-2"&gt;&lt;/a&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="k"&gt;subroutine &lt;/span&gt;&lt;span class="n"&gt;docom&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;linbuf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lineno&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_9884aae6ccf04c4190fe40e3f0c971d7-3" name="rest_code_9884aae6ccf04c4190fe40e3f0c971d7-3" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_9884aae6ccf04c4190fe40e3f0c971d7-3"&gt;&lt;/a&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="kt"&gt;character &lt;/span&gt;&lt;span class="n"&gt;linbuf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;MAXLINE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_9884aae6ccf04c4190fe40e3f0c971d7-4" name="rest_code_9884aae6ccf04c4190fe40e3f0c971d7-4" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_9884aae6ccf04c4190fe40e3f0c971d7-4"&gt;&lt;/a&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="kt"&gt;integer &lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lineno&lt;/span&gt;
&lt;a id="rest_code_9884aae6ccf04c4190fe40e3f0c971d7-5" name="rest_code_9884aae6ccf04c4190fe40e3f0c971d7-5" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_9884aae6ccf04c4190fe40e3f0c971d7-5"&gt;&lt;/a&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="kt"&gt;character &lt;/span&gt;&lt;span class="n"&gt;cmd&lt;/span&gt;
&lt;a id="rest_code_9884aae6ccf04c4190fe40e3f0c971d7-6" name="rest_code_9884aae6ccf04c4190fe40e3f0c971d7-6" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_9884aae6ccf04c4190fe40e3f0c971d7-6"&gt;&lt;/a&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="kt"&gt;integer &lt;/span&gt;&lt;span class="n"&gt;k1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;k2&lt;/span&gt;
&lt;a id="rest_code_9884aae6ccf04c4190fe40e3f0c971d7-7" name="rest_code_9884aae6ccf04c4190fe40e3f0c971d7-7" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_9884aae6ccf04c4190fe40e3f0c971d7-7"&gt;&lt;/a&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="k"&gt;include &lt;/span&gt;&lt;span class="n"&gt;csedit&lt;/span&gt;
&lt;a id="rest_code_9884aae6ccf04c4190fe40e3f0c971d7-8" name="rest_code_9884aae6ccf04c4190fe40e3f0c971d7-8" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_9884aae6ccf04c4190fe40e3f0c971d7-8"&gt;&lt;/a&gt;
&lt;a id="rest_code_9884aae6ccf04c4190fe40e3f0c971d7-9" name="rest_code_9884aae6ccf04c4190fe40e3f0c971d7-9" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_9884aae6ccf04c4190fe40e3f0c971d7-9"&gt;&lt;/a&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="n"&gt;cmd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;COMMAND&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_9884aae6ccf04c4190fe40e3f0c971d7-10" name="rest_code_9884aae6ccf04c4190fe40e3f0c971d7-10" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_9884aae6ccf04c4190fe40e3f0c971d7-10"&gt;&lt;/a&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="err"&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;started as a &lt;code class="docutils literal"&gt;character&lt;/code&gt; and got translated to a &lt;code class="docutils literal"&gt;LOGICAL*1&lt;/code&gt;, the
one byte logical data type.  Normally that's ok, because we're just working
with ASCII, so any character should fit in in one byte.  Lets take a look:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code text"&gt;&lt;a id="rest_code_8ccbab59d0b54e999f7cc1d440b4481c-1" name="rest_code_8ccbab59d0b54e999f7cc1d440b4481c-1" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_8ccbab59d0b54e999f7cc1d440b4481c-1"&gt;&lt;/a&gt;DBG&amp;gt; ex buf[i+5]
&lt;a id="rest_code_8ccbab59d0b54e999f7cc1d440b4481c-2" name="rest_code_8ccbab59d0b54e999f7cc1d440b4481c-2" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_8ccbab59d0b54e999f7cc1d440b4481c-2"&gt;&lt;/a&gt;DOCOM\BUF[19]:  00000173
&lt;a id="rest_code_8ccbab59d0b54e999f7cc1d440b4481c-3" name="rest_code_8ccbab59d0b54e999f7cc1d440b4481c-3" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_8ccbab59d0b54e999f7cc1d440b4481c-3"&gt;&lt;/a&gt;DBG&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Oh dear.  That's hexadecimal 173, which is decimal 371.  No wonder we
got an arithmetic trap, integer overflow.&lt;/p&gt;
&lt;p&gt;If I look for occurrences of &lt;code class="docutils literal"&gt;buf&lt;/code&gt; in &lt;span class="file"&gt;sedit.r&lt;/span&gt; (using emacs
18.55.105) I see lots of lines like where &lt;code class="docutils literal"&gt;buf&lt;/code&gt; is passed to
subroutine &lt;code class="docutils literal"&gt;addint&lt;/code&gt;, which is not documented in the manual pages,
unfortunately, but is in the runtime library &lt;span class="file"&gt;RLIB.OLB&lt;/span&gt;.  On
VAX/VMS the source for that is in &lt;span class="file"&gt;~vms/rlib.w&lt;/span&gt;:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code fortran"&gt;&lt;a id="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-1" name="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-1" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-1"&gt;&lt;/a&gt;&lt;span class="cp"&gt;# AddInt      Put int into intara if it fits, increment j&lt;/span&gt;
&lt;a id="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-2" name="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-2" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-2"&gt;&lt;/a&gt;&lt;span class="cp"&gt;# works with an array of integers&lt;/span&gt;
&lt;a id="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-3" name="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-3" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-3"&gt;&lt;/a&gt;
&lt;a id="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-4" name="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-4" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-4"&gt;&lt;/a&gt;&lt;span class="kt"&gt;integer &lt;/span&gt;&lt;span class="k"&gt;function &lt;/span&gt;&lt;span class="n"&gt;addint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;intara&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;maxsiz&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-5" name="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-5" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-5"&gt;&lt;/a&gt;
&lt;a id="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-6" name="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-6" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-6"&gt;&lt;/a&gt;&lt;span class="kt"&gt;integer         &lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;maxsiz&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;intara&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;maxsiz&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-7" name="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-7" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-7"&gt;&lt;/a&gt;
&lt;a id="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-8" name="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-8" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-8"&gt;&lt;/a&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;maxsiz&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-9" name="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-9" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-9"&gt;&lt;/a&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;NO&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-10" name="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-10" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-10"&gt;&lt;/a&gt;
&lt;a id="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-11" name="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-11" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-11"&gt;&lt;/a&gt;&lt;span class="n"&gt;intara&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;
&lt;a id="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-12" name="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-12" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-12"&gt;&lt;/a&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;
&lt;a id="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-13" name="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-13" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-13"&gt;&lt;/a&gt;
&lt;a id="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-14" name="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-14" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-14"&gt;&lt;/a&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;YES&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-15" name="rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-15" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7fdcca2fa5524c2d96d23b3b8d99dd93-15"&gt;&lt;/a&gt;&lt;span class="k"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Yes, that's just putting an integer in an array and incrementing the
variable that stores where the next one goes.&lt;/p&gt;
&lt;p&gt;Ok, lets look at all the
&lt;code class="docutils literal"&gt;addint&lt;/code&gt; calls.&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code fortran"&gt;&lt;a id="rest_code_7ea452909b7d49e096fe22958b0b1cec-1" name="rest_code_7ea452909b7d49e096fe22958b0b1cec-1" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7ea452909b7d49e096fe22958b0b1cec-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;Lines&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;matching&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"\\baddint\\b("&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;buffer&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;sedit&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;r&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;
&lt;a id="rest_code_7ea452909b7d49e096fe22958b0b1cec-2" name="rest_code_7ea452909b7d49e096fe22958b0b1cec-2" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7ea452909b7d49e096fe22958b0b1cec-2"&gt;&lt;/a&gt;&lt;span class="mi"&gt;176&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;addint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;maxsiz&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;NO&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_7ea452909b7d49e096fe22958b0b1cec-3" name="rest_code_7ea452909b7d49e096fe22958b0b1cec-3" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7ea452909b7d49e096fe22958b0b1cec-3"&gt;&lt;/a&gt;&lt;span class="mi"&gt;223&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;addint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nlines&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lastbf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MAXBUF&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_7ea452909b7d49e096fe22958b0b1cec-4" name="rest_code_7ea452909b7d49e096fe22958b0b1cec-4" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7ea452909b7d49e096fe22958b0b1cec-4"&gt;&lt;/a&gt;&lt;span class="mi"&gt;224&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;addint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lastbf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MAXBUF&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_7ea452909b7d49e096fe22958b0b1cec-5" name="rest_code_7ea452909b7d49e096fe22958b0b1cec-5" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7ea452909b7d49e096fe22958b0b1cec-5"&gt;&lt;/a&gt;&lt;span class="mi"&gt;225&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;addint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;line1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lastbf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MAXBUF&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_7ea452909b7d49e096fe22958b0b1cec-6" name="rest_code_7ea452909b7d49e096fe22958b0b1cec-6" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7ea452909b7d49e096fe22958b0b1cec-6"&gt;&lt;/a&gt;&lt;span class="mi"&gt;226&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;addint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;line2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lastbf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MAXBUF&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_7ea452909b7d49e096fe22958b0b1cec-7" name="rest_code_7ea452909b7d49e096fe22958b0b1cec-7" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7ea452909b7d49e096fe22958b0b1cec-7"&gt;&lt;/a&gt;&lt;span class="mi"&gt;229&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;addint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;NOTSTATE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lastbf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MAXBUF&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_7ea452909b7d49e096fe22958b0b1cec-8" name="rest_code_7ea452909b7d49e096fe22958b0b1cec-8" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7ea452909b7d49e096fe22958b0b1cec-8"&gt;&lt;/a&gt;&lt;span class="mi"&gt;235&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;addint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;OKSTATE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lastbf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MAXBUF&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_7ea452909b7d49e096fe22958b0b1cec-9" name="rest_code_7ea452909b7d49e096fe22958b0b1cec-9" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7ea452909b7d49e096fe22958b0b1cec-9"&gt;&lt;/a&gt;&lt;span class="mi"&gt;236&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;addint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;com&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lastbf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MAXBUF&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_7ea452909b7d49e096fe22958b0b1cec-10" name="rest_code_7ea452909b7d49e096fe22958b0b1cec-10" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7ea452909b7d49e096fe22958b0b1cec-10"&gt;&lt;/a&gt;&lt;span class="mi"&gt;238&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;addint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lastbf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MAXBUF&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_7ea452909b7d49e096fe22958b0b1cec-11" name="rest_code_7ea452909b7d49e096fe22958b0b1cec-11" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7ea452909b7d49e096fe22958b0b1cec-11"&gt;&lt;/a&gt;&lt;span class="mi"&gt;242&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;addint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lastbf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MAXBUF&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_7ea452909b7d49e096fe22958b0b1cec-12" name="rest_code_7ea452909b7d49e096fe22958b0b1cec-12" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7ea452909b7d49e096fe22958b0b1cec-12"&gt;&lt;/a&gt;&lt;span class="mi"&gt;248&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;addint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lastbf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MAXBUF&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_7ea452909b7d49e096fe22958b0b1cec-13" name="rest_code_7ea452909b7d49e096fe22958b0b1cec-13" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7ea452909b7d49e096fe22958b0b1cec-13"&gt;&lt;/a&gt;&lt;span class="mi"&gt;256&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;addint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lastbf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MAXBUF&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_7ea452909b7d49e096fe22958b0b1cec-14" name="rest_code_7ea452909b7d49e096fe22958b0b1cec-14" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7ea452909b7d49e096fe22958b0b1cec-14"&gt;&lt;/a&gt;&lt;span class="mi"&gt;260&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;         &lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;addint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;EOS&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lastbf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MAXBUF&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_7ea452909b7d49e096fe22958b0b1cec-15" name="rest_code_7ea452909b7d49e096fe22958b0b1cec-15" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7ea452909b7d49e096fe22958b0b1cec-15"&gt;&lt;/a&gt;&lt;span class="mi"&gt;269&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;         &lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;addint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;gflag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lastbf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MAXBUF&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_7ea452909b7d49e096fe22958b0b1cec-16" name="rest_code_7ea452909b7d49e096fe22958b0b1cec-16" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7ea452909b7d49e096fe22958b0b1cec-16"&gt;&lt;/a&gt;&lt;span class="mi"&gt;270&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;         &lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;addint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pflag&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lastbf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MAXBUF&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_7ea452909b7d49e096fe22958b0b1cec-17" name="rest_code_7ea452909b7d49e096fe22958b0b1cec-17" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7ea452909b7d49e096fe22958b0b1cec-17"&gt;&lt;/a&gt;&lt;span class="mi"&gt;271&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;         &lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;addint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lastbf&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lastbf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MAXBUF&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_7ea452909b7d49e096fe22958b0b1cec-18" name="rest_code_7ea452909b7d49e096fe22958b0b1cec-18" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7ea452909b7d49e096fe22958b0b1cec-18"&gt;&lt;/a&gt;&lt;span class="mi"&gt;273&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;         &lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;addint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lastbf&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lastbf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MAXBUF&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_7ea452909b7d49e096fe22958b0b1cec-19" name="rest_code_7ea452909b7d49e096fe22958b0b1cec-19" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7ea452909b7d49e096fe22958b0b1cec-19"&gt;&lt;/a&gt;&lt;span class="mi"&gt;276&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;         &lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;addint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;EOS&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lastbf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MAXBUF&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_7ea452909b7d49e096fe22958b0b1cec-20" name="rest_code_7ea452909b7d49e096fe22958b0b1cec-20" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7ea452909b7d49e096fe22958b0b1cec-20"&gt;&lt;/a&gt;&lt;span class="mi"&gt;286&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;      &lt;/span&gt;&lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;addint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fdw&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lastbf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MAXBUF&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_7ea452909b7d49e096fe22958b0b1cec-21" name="rest_code_7ea452909b7d49e096fe22958b0b1cec-21" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7ea452909b7d49e096fe22958b0b1cec-21"&gt;&lt;/a&gt;&lt;span class="mi"&gt;452&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="n"&gt;dotext&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;addint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;EOS&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;buf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lastbf&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;MAXBUF&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_7ea452909b7d49e096fe22958b0b1cec-22" name="rest_code_7ea452909b7d49e096fe22958b0b1cec-22" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7ea452909b7d49e096fe22958b0b1cec-22"&gt;&lt;/a&gt;&lt;span class="mi"&gt;695&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;addint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;maxsiz&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;NO&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_7ea452909b7d49e096fe22958b0b1cec-23" name="rest_code_7ea452909b7d49e096fe22958b0b1cec-23" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_7ea452909b7d49e096fe22958b0b1cec-23"&gt;&lt;/a&gt;&lt;span class="mi"&gt;713&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;addint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;j&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;maxsiz&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;NO&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Some of the things they're adding to &lt;code class="docutils literal"&gt;buf&lt;/code&gt; are clearly integers
(&lt;code class="docutils literal"&gt;nlines&lt;/code&gt;, and probably &lt;code class="docutils literal"&gt;NOTSTATE&lt;/code&gt; and &lt;code class="docutils literal"&gt;OKSTATE&lt;/code&gt;), but those
&lt;code class="docutils literal"&gt;EOS&lt;/code&gt; are the SWTOOLS VOS equivalent of the C &lt;code class="docutils literal"&gt;'\0'&lt;/code&gt; that ends a
string, so those particular ones definitely hold characters.&lt;/p&gt;
&lt;p&gt;Well, if I want to debug that I'm going to have to rebuild the SWTOOLS
VOS with debugging turned on.  Investigating it turns out that I need
to add &lt;code class="docutils literal"&gt;/DEBUG&lt;/code&gt; to the &lt;span class="command"&gt;macro&lt;/span&gt; and &lt;span class="command"&gt;fortran&lt;/span&gt;
commands in &lt;span class="file"&gt;asmlib.com&lt;/span&gt;, &lt;span class="file"&gt;asmprm.com&lt;/span&gt;, &lt;span class="file"&gt;build.com&lt;/span&gt;,
and &lt;span class="file"&gt;compile.com&lt;/span&gt; in &lt;span class="file"&gt;~bin&lt;/span&gt;, and then execute
&lt;span class="file"&gt;~bin:toolgen.com&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Once that is done I start stepping through various routines.
Eventually I figure out that it &lt;code class="docutils literal"&gt;buf(19)&lt;/code&gt; is the element that ends
up with the 173 hex, and set a watch on it.  And indeed it is getting
passed a 173.  Sigh.&lt;/p&gt;
&lt;p&gt;Doing a &lt;code class="docutils literal"&gt;SHOW STACK&lt;/code&gt; in the &lt;span class="app"&gt;VMS Debugger&lt;/span&gt; shows that the
&lt;code class="docutils literal"&gt;addint()&lt;/code&gt; call that dies is in the subroutine &lt;code class="docutils literal"&gt;compil()&lt;/code&gt;.  Lets
take a look:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code text"&gt;&lt;a id="rest_code_49478249ca594892b2d2ef5487665c04-1" name="rest_code_49478249ca594892b2d2ef5487665c04-1" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_49478249ca594892b2d2ef5487665c04-1"&gt;&lt;/a&gt;DBG&amp;gt; type compil\50:65
&lt;a id="rest_code_49478249ca594892b2d2ef5487665c04-2" name="rest_code_49478249ca594892b2d2ef5487665c04-2" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_49478249ca594892b2d2ef5487665c04-2"&gt;&lt;/a&gt;module COMPIL
&lt;a id="rest_code_49478249ca594892b2d2ef5487665c04-3" name="rest_code_49478249ca594892b2d2ef5487665c04-3" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_49478249ca594892b2d2ef5487665c04-3"&gt;&lt;/a&gt;    50:       STATUS = ADDINT(LINE2, BUF, LASTBF, 20000)
&lt;a id="rest_code_49478249ca594892b2d2ef5487665c04-4" name="rest_code_49478249ca594892b2d2ef5487665c04-4" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_49478249ca594892b2d2ef5487665c04-4"&gt;&lt;/a&gt;    51:       COM = CLOWER(LIN(I))
&lt;a id="rest_code_49478249ca594892b2d2ef5487665c04-5" name="rest_code_49478249ca594892b2d2ef5487665c04-5" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_49478249ca594892b2d2ef5487665c04-5"&gt;&lt;/a&gt;    52:       IF (.NOT.(COM .EQ. 33))GOTO 23068
&lt;a id="rest_code_49478249ca594892b2d2ef5487665c04-6" name="rest_code_49478249ca594892b2d2ef5487665c04-6" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_49478249ca594892b2d2ef5487665c04-6"&gt;&lt;/a&gt;    53:       STATUS = ADDINT(1, BUF, LASTBF, 20000)
&lt;a id="rest_code_49478249ca594892b2d2ef5487665c04-7" name="rest_code_49478249ca594892b2d2ef5487665c04-7" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_49478249ca594892b2d2ef5487665c04-7"&gt;&lt;/a&gt;    54:       I = I+1
&lt;a id="rest_code_49478249ca594892b2d2ef5487665c04-8" name="rest_code_49478249ca594892b2d2ef5487665c04-8" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_49478249ca594892b2d2ef5487665c04-8"&gt;&lt;/a&gt;    55:       CALL SKIPBL(LIN, I)
&lt;a id="rest_code_49478249ca594892b2d2ef5487665c04-9" name="rest_code_49478249ca594892b2d2ef5487665c04-9" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_49478249ca594892b2d2ef5487665c04-9"&gt;&lt;/a&gt;    56:       COM = CLOWER(LIN(I))
&lt;a id="rest_code_49478249ca594892b2d2ef5487665c04-10" name="rest_code_49478249ca594892b2d2ef5487665c04-10" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_49478249ca594892b2d2ef5487665c04-10"&gt;&lt;/a&gt;    57:       GOTO 23069
&lt;a id="rest_code_49478249ca594892b2d2ef5487665c04-11" name="rest_code_49478249ca594892b2d2ef5487665c04-11" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_49478249ca594892b2d2ef5487665c04-11"&gt;&lt;/a&gt;    58: 23068 CONTINUE
&lt;a id="rest_code_49478249ca594892b2d2ef5487665c04-12" name="rest_code_49478249ca594892b2d2ef5487665c04-12" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_49478249ca594892b2d2ef5487665c04-12"&gt;&lt;/a&gt;    59:       STATUS = ADDINT(0, BUF, LASTBF, 20000)
&lt;a id="rest_code_49478249ca594892b2d2ef5487665c04-13" name="rest_code_49478249ca594892b2d2ef5487665c04-13" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_49478249ca594892b2d2ef5487665c04-13"&gt;&lt;/a&gt;    60: 23069 CONTINUE
&lt;a id="rest_code_49478249ca594892b2d2ef5487665c04-14" name="rest_code_49478249ca594892b2d2ef5487665c04-14" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_49478249ca594892b2d2ef5487665c04-14"&gt;&lt;/a&gt;    61:       STATUS = ADDINT(COM, BUF, LASTBF, 20000)
&lt;a id="rest_code_49478249ca594892b2d2ef5487665c04-15" name="rest_code_49478249ca594892b2d2ef5487665c04-15" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_49478249ca594892b2d2ef5487665c04-15"&gt;&lt;/a&gt;    62:       IF (.NOT.(COM .EQ. 97 .AND. FD .NE. 0))GOTO 23070
&lt;a id="rest_code_49478249ca594892b2d2ef5487665c04-16" name="rest_code_49478249ca594892b2d2ef5487665c04-16" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_49478249ca594892b2d2ef5487665c04-16"&gt;&lt;/a&gt;    63:       STATUS = ADDINT(0, BUF, LASTBF, 20000)
&lt;a id="rest_code_49478249ca594892b2d2ef5487665c04-17" name="rest_code_49478249ca594892b2d2ef5487665c04-17" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_49478249ca594892b2d2ef5487665c04-17"&gt;&lt;/a&gt;    64:       STATUS = DOTEXT(FD)
&lt;a id="rest_code_49478249ca594892b2d2ef5487665c04-18" name="rest_code_49478249ca594892b2d2ef5487665c04-18" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_49478249ca594892b2d2ef5487665c04-18"&gt;&lt;/a&gt;    65:       GOTO 23071
&lt;a id="rest_code_49478249ca594892b2d2ef5487665c04-19" name="rest_code_49478249ca594892b2d2ef5487665c04-19" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_49478249ca594892b2d2ef5487665c04-19"&gt;&lt;/a&gt;DBG&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Line 61 is the one that dies.  Here &lt;code class="docutils literal"&gt;addint()&lt;/code&gt; is being passed the
variable &lt;code class="docutils literal"&gt;COM&lt;/code&gt;.  Lets take a look at the &lt;span class="app"&gt;Ratfor&lt;/span&gt; source for
its definition:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code fortran"&gt;&lt;a id="rest_code_8270926a77c94de08721a016647db2ec-1" name="rest_code_8270926a77c94de08721a016647db2ec-1" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_8270926a77c94de08721a016647db2ec-1"&gt;&lt;/a&gt;&lt;span class="cp"&gt;# compil - "compile" command in lin(i) from file fd, increment i&lt;/span&gt;
&lt;a id="rest_code_8270926a77c94de08721a016647db2ec-2" name="rest_code_8270926a77c94de08721a016647db2ec-2" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_8270926a77c94de08721a016647db2ec-2"&gt;&lt;/a&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="k"&gt;subroutine &lt;/span&gt;&lt;span class="n"&gt;compil&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lin&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;fd&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_8270926a77c94de08721a016647db2ec-3" name="rest_code_8270926a77c94de08721a016647db2ec-3" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_8270926a77c94de08721a016647db2ec-3"&gt;&lt;/a&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="kt"&gt;character &lt;/span&gt;&lt;span class="n"&gt;lin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;MAXLINE&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;com&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Oh, look, &lt;code class="docutils literal"&gt;com&lt;/code&gt; is a character, that gets translated by
&lt;span class="app"&gt;Ratfor&lt;/span&gt; to a &lt;code class="docutils literal"&gt;LOGICAL*1&lt;/code&gt;, and it is a byte, while the integers
that get passed in are longwords, which are 32 bytes long  Uh,
doesn't Fortran pass everything by reference?  So &lt;code class="docutils literal"&gt;addint()&lt;/code&gt; gets
passed the address of a byte, but interprets it as the address of a
longword, so it picks up 3 extra bytes.  For whatever reason, there is
a 1 in the byte right next to the byte for &lt;code class="docutils literal"&gt;com&lt;/code&gt;, so we get (hex,
remember) 173 instead of 73, which is the ASCII for &lt;code class="docutils literal"&gt;s&lt;/code&gt;, which the s
in our &lt;code class="docutils literal"&gt;sedit "s/H/J/"&lt;/code&gt;!&lt;/p&gt;
&lt;p&gt;Ok, that should be easy to fix: introduce an integer temporary
variable, assign &lt;code class="docutils literal"&gt;com&lt;/code&gt; to it, and pass it instead.&lt;/p&gt;
&lt;p&gt;Here's the VMS diff:&lt;/p&gt;
&lt;pre class="literal-block"&gt;************
File DUA1:[SOFTWARE.SWTOOLS.TMP]SEDIT.R;6
  206      integer comint
  207      integer fd
******
File DUA1:[SOFTWARE.SWTOOLS.TMP]SEDIT.R;1
  206      integer fd
************
************
File DUA1:[SOFTWARE.SWTOOLS.TMP]SEDIT.R;6
  237      comint = com
  238      status = addint(comint, buf, lastbf, MAXBUF)
  239      if (com == APPENDCOM &amp;amp; fd != NO) {
******
File DUA1:[SOFTWARE.SWTOOLS.TMP]SEDIT.R;1
  236      status = addint(com, buf, lastbf, MAXBUF)
  237      if (com == APPENDCOM &amp;amp; fd != NO) {
************

Number of difference sections found: 2
Number of difference records found: 3

DIFFERENCES /IGNORE=()/MERGED=1/OUTPUT=DUA1:[SOFTWARE.SWTOOLS.TMP]SEDIT.DIFF;1-
    DUA1:[SOFTWARE.SWTOOLS.TMP]SEDIT.R;6-
    DUA1:[SOFTWARE.SWTOOLS.TMP]SEDIT.R;1&lt;/pre&gt;
&lt;p&gt;Recompile, lets see:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code text"&gt;&lt;a id="rest_code_2c25d94d9e8b4b908a1b6a68c742894e-1" name="rest_code_2c25d94d9e8b4b908a1b6a68c742894e-1" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_2c25d94d9e8b4b908a1b6a68c742894e-1"&gt;&lt;/a&gt;% echo Hello | sedit "s/H/J/"
&lt;a id="rest_code_2c25d94d9e8b4b908a1b6a68c742894e-2" name="rest_code_2c25d94d9e8b4b908a1b6a68c742894e-2" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_2c25d94d9e8b4b908a1b6a68c742894e-2"&gt;&lt;/a&gt;Jello
&lt;a id="rest_code_2c25d94d9e8b4b908a1b6a68c742894e-3" name="rest_code_2c25d94d9e8b4b908a1b6a68c742894e-3" href="https://tkurtbond.github.io/posts/2024/07/15/fixing-a-41-year-old-bug-in-the-swtools-vos-sedit-commmand/#rest_code_2c25d94d9e8b4b908a1b6a68c742894e-3"&gt;&lt;/a&gt;%
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;That did it!&lt;/p&gt;</summary>
    <category term="fortran" label="fortran"/>
    <category term="lbl-tools" label="lbl tools"/>
    <category term="ratfor" label="ratfor"/>
    <category term="software-tools" label="software tools"/>
    <category term="software-tools-virtual-operating-system" label="software tools virtual operating system"/>
    <category term="swtools" label="swtools"/>
  </entry>
  <entry>
    <title>How the LBL Software Tools system organized its source files</title>
    <id>https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/</id>
    <updated>2024-07-03T16:20:40-04:00</updated>
    <published>2024-07-03T16:20:40-04:00</published>
    <author>
      <name>T. Kurt Bond</name>
    </author>
    <link rel="alternate" type="text/html" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/"/>
    <summary type="html">&lt;p&gt;One of the things I've always found interesting about the LBL Software
Tools VOS was how its source files were structured.  I'll include here
page 10 of the release notes from the release on the DECUS LT86 tape:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code text"&gt;&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-1" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-1" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-1"&gt;&lt;/a&gt;                            Release Notes
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-2" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-2" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-2"&gt;&lt;/a&gt;
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-3" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-3" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-3"&gt;&lt;/a&gt;
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-4" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-4" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-4"&gt;&lt;/a&gt;                        Source File Structure
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-5" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-5" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-5"&gt;&lt;/a&gt;
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-6" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-6" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-6"&gt;&lt;/a&gt;The  source  code  for  `tool' is contained in a file [...SRC]tool.tcs
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-7" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-7" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-7"&gt;&lt;/a&gt;(if   the   tool   is   portable   across   operating   systems)    or
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-8" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-8" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-8"&gt;&lt;/a&gt;[...VMS]tool.tcs  (if  it  is  an VMS-specific tool).  This TCS source
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-9" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-9" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-9"&gt;&lt;/a&gt;file contains an edit history of all changes made to the source.   The
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-10" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-10" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-10"&gt;&lt;/a&gt;output  of  the  `get' utility operating on a `.tcs' file results in a
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-11" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-11" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-11"&gt;&lt;/a&gt;file (tool.w) which is all of the  environment  necessary  to  rebuild
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-12" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-12" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-12"&gt;&lt;/a&gt;the  tool,  provided  that the VOS is operational.  The tool.w file is
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-13" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-13" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-13"&gt;&lt;/a&gt;an archive containing:
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-14" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-14" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-14"&gt;&lt;/a&gt;
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-15" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-15" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-15"&gt;&lt;/a&gt;  1. All of the files "included" by the ratfor source code.
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-16" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-16" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-16"&gt;&lt;/a&gt;  2. The ratfor source file, tool.r.
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-17" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-17" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-17"&gt;&lt;/a&gt;  3. The format input for the manual entry, tool.fmt.
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-18" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-18" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-18"&gt;&lt;/a&gt;  4. And optionally,  any  extra  definition  files  needed  to  build
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-19" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-19" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-19"&gt;&lt;/a&gt;     alternate versions of the tool (eg. sh =&amp;gt; hsh).
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-20" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-20" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-20"&gt;&lt;/a&gt;
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-21" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-21" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-21"&gt;&lt;/a&gt;As  an  example,  suppose  that  you  wish  to  change  the subroutine
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-22" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-22" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-22"&gt;&lt;/a&gt;"module" in "tool".  The suggested scenario is as follows:
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-23" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-23" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-23"&gt;&lt;/a&gt;
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-24" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-24" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-24"&gt;&lt;/a&gt;   $ !Fetch the file tool.tcs from the appropriate directory in the container
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-25" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-25" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-25"&gt;&lt;/a&gt;   $ !file on tape into st_src
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-26" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-26" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-26"&gt;&lt;/a&gt;   $ hsh
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-27" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-27" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-27"&gt;&lt;/a&gt;   % get ~src/tool.tcs tool.w
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-28" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-28" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-28"&gt;&lt;/a&gt;   % ar xv tool.w
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-29" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-29" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-29"&gt;&lt;/a&gt;   % ar xv tool.r module
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-30" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-30" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-30"&gt;&lt;/a&gt;   % ed module
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-31" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-31" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-31"&gt;&lt;/a&gt;   (make changes and write file)
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-32" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-32" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-32"&gt;&lt;/a&gt;   % ar uv tool.r module
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-33" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-33" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-33"&gt;&lt;/a&gt;   % rc -v tool.r
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-34" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-34" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-34"&gt;&lt;/a&gt;   % (test out new tool.  repeat last three steps until satisfied.)
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-35" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-35" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-35"&gt;&lt;/a&gt;   % ed tool.fmt
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-36" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-36" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-36"&gt;&lt;/a&gt;   (modify writeup to reflect changes)
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-37" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-37" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-37"&gt;&lt;/a&gt;   % ar uv tool.w tool.r tool.fmt
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-38" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-38" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-38"&gt;&lt;/a&gt;   % cp tool.exe ~usr/tool.exe
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-39" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-39" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-39"&gt;&lt;/a&gt;   % delta tool.w ~src/tool.tcs
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-40" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-40" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-40"&gt;&lt;/a&gt;   (Identify in the comments the reason for the changes,
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-41" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-41" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-41"&gt;&lt;/a&gt;   and which modules changed.)
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-42" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-42" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-42"&gt;&lt;/a&gt;   % format tool.fmt &amp;gt;tool
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-43" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-43" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-43"&gt;&lt;/a&gt;   % ar uv ~man/s1 tool
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-44" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-44" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-44"&gt;&lt;/a&gt;   % asam &amp;lt;~man/s1 | sort &amp;gt;~man/i1
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-45" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-45" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-45"&gt;&lt;/a&gt;
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-46" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-46" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-46"&gt;&lt;/a&gt;Placing tool.exe in ~usr  causes  the  shell  to  find  your  modified
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-47" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-47" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-47"&gt;&lt;/a&gt;version  of  "tool"  rather  than  the  distributed one.  The last two
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-48" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-48" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-48"&gt;&lt;/a&gt;commands  above  cause  the  manual  entry  for  `tool'  to  correctly
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-49" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-49" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-49"&gt;&lt;/a&gt;correspond to the utility itself.
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-50" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-50" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-50"&gt;&lt;/a&gt;
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-51" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-51" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-51"&gt;&lt;/a&gt;
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-52" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-52" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-52"&gt;&lt;/a&gt;
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-53" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-53" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-53"&gt;&lt;/a&gt;
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-54" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-54" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-54"&gt;&lt;/a&gt;
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-55" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-55" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-55"&gt;&lt;/a&gt;
&lt;a id="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-56" name="rest_code_63acb77136fb4cb99dc7fe9da9cd8921-56" href="https://tkurtbond.github.io/posts/2024/07/03/how-the-lbl-software-tools-system-organized-its-source-files/#rest_code_63acb77136fb4cb99dc7fe9da9cd8921-56"&gt;&lt;/a&gt;                                 -10-
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;(It should be &lt;code&gt;% get ~src/tool.tcs &amp;gt;tool.w&lt;/code&gt; with a &amp;gt;
before &lt;code class="file docutils literal"&gt;tool.w&lt;/code&gt; in the above procedure.  Otherwise the contents
are echoed to the terminal instead of being written to &lt;code class="file docutils literal"&gt;tool.w&lt;/code&gt;.)&lt;/p&gt;
&lt;p&gt;So, all the source files (source code &lt;em&gt;and&lt;/em&gt; documentation) are stored
in an archive file, which contains another archive file that has just
the ratfor source, from which you extract the modules you want to work
on, and at the end update the archives in the reverse order!  This
made organizing all the source much simpler, especially considering
some of the porting targets for this software didn't have hierarchical
directory structures, only flat directories.  So when moving around
parts of the system, like when you were preparing the distribution,
you normally only dealt with the top level archives, the &lt;code class="file docutils literal"&gt;.TCS&lt;/code&gt;
files, and only worked directly with the files that were contained
within that archive and its child archives if you had to make a change
to the source files.  Very clever!&lt;/p&gt;
&lt;img alt="Nesting Russian Matroshka dolls" src="https://tkurtbond.github.io/images/Russian-Matroshka.jpg"&gt;
&lt;p&gt;(&lt;a class="reference external" href="https://en.wikipedia.org/wiki/Matryoshka_doll#/media/File:Russian-Matroshka.jpg"&gt;Source 1&lt;/a&gt;)&lt;/p&gt;
&lt;img alt="Nesting Russian Matroshka dolls, opened" src="https://tkurtbond.github.io/images/Russian-Matroshka-opened.jpg"&gt;
&lt;p&gt;(&lt;a class="reference external" href="https://en.wikipedia.org/wiki/Matryoshka_doll#/media/File:Matryoshka_transparent.png"&gt;Source 2&lt;/a&gt;)&lt;/p&gt;</summary>
    <category term="decus" label="decus"/>
    <category term="lbltools" label="lbltools"/>
    <category term="lt86-tape" label="lt86 tape"/>
    <category term="source-file-structure" label="source file structure"/>
    <category term="swtools" label="swtools"/>
    <category term="vax" label="vax"/>
    <category term="vms" label="vms"/>
    <category term="vos" label="vos"/>
  </entry>
  <entry>
    <title>Software Tools</title>
    <id>https://tkurtbond.github.io/posts/2024/07/03/software-tools/</id>
    <updated>2024-07-03T09:59:31-04:00</updated>
    <published>2024-07-03T09:59:31-04:00</published>
    <author>
      <name>T. Kurt Bond</name>
    </author>
    <link rel="alternate" type="text/html" href="https://tkurtbond.github.io/posts/2024/07/03/software-tools/"/>
    <summary type="html">&lt;p&gt;When I was in college in the 1980s the school I was at used Digital
Equipment Corporation VAXes running VMS, and didn't have any Unix
machines.  I was quite interested in Unix and the Unix philosophy, but
was frustrated by my lack of access to Unix machines.  However,
Brian W. Kernighan and P. J. Plauger wrote a couple of books about
writing tools in the Unix style: &lt;cite&gt;Software Tools&lt;/cite&gt; was in
published in 1976 and used Fortran as its portable implementation
language, while &lt;cite&gt;Software Tools in Pascal&lt;/cite&gt; was published in
1981 and used Pascal.&lt;/p&gt;
&lt;img alt="/images/swtools.jpeg" src="https://tkurtbond.github.io/images/swtools.jpeg"&gt;
&lt;p&gt;Here is a quote repeated on each book's cover:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Good Programming is not learned from generalities, but by seeing
how significant programs can be made clean, easy to read, easy to
maintain and modify, human-engineered, efficient, and reliable, by
the application of common sense and good programming practices.
Careful study and imitation of good programs leads to better
writing.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Both books worked through writing software tools that were simpler but
still useful versions of many of the standard Unix tools.&lt;/p&gt;
&lt;p&gt;I got &lt;cite&gt;Software Tools in Pascal&lt;/cite&gt; because I knew Pascal better
than Fortran and worked through implementing each of the programs on
the college's VAX, which taught me a lot about programming and was
significant influence on me.  I later got &lt;cite&gt;Software Tools&lt;/cite&gt;
because I wanted to read the section on implementing the ratfor
processor which that book used to add additional control structures
unavailable in the Fortran of the day.&lt;/p&gt;
&lt;p&gt;I was not the only person who was influenced by these books.
Deborah K. Scherrer, Dennis E. Hall, and Joseph S. Sventek at Lawrence
Berkeley National Laboratory with help from others greatly expanded
the set of programs from the book into an entire Virtual Operating
System (VOS), and founded the &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Software_Tools_Users_Group"&gt;Software Tools Users Group&lt;/a&gt; in 1976
to distribute it, eventually leading to ports on over 50 operating
systems.&lt;/p&gt;
&lt;p&gt;Luckily for me VAX/VMS was one of those operating systems, and the
port appeared on various tapes distributed by DECUS, the Digital
Equipment Computer Users' Society.  Luckily MPL Corporation, where I
worked at the time, always got the DECUS tapes and had a Fortran
compiler, so I could install it there.  I found it a very useful and
usable computing environment.&lt;/p&gt;
&lt;p&gt;Anyway, I retain a fondness for that software, known variously as
LBLTOOLS, LBL SWTOOLS, and SWTOOLS VOS, and have begun using the version
from the &lt;a class="reference external" href="https://www.digiater.nl/openvms/decus/zips_vms_attributes/lt86a.zip"&gt;DECUS VAX Languages &amp;amp; Tools SIG tape from 1986&lt;/a&gt;
again on the (emulated) VAX I maintain at work.  This gave me the
opportunity create a &lt;a class="reference external" href="https://tkurtbond.github.io/swtoolsman.pdf"&gt;PDF with the documentation&lt;/a&gt;
for that version, which I'm making available here for the curious.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I really enjoyed that book.  The first computer book I read where
I thought my world was larger after reading it.  C. Paul Bond&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;em&gt;Last edited: 2024-07-15 14:25:36 EDT&lt;/em&gt;&lt;/p&gt;
&lt;!-- Local Variables:
time-stamp-format: "%Y-%02m-%02d %02H:%02M:%02S %Z"
time-stamp-start: "\\*Last edited:[ \t]+\\\\?"
time-stamp-end: "\\*\\\\?\n"
time-stamp-line-limit: -20
End: --&gt;</summary>
    <category term="brian-w-kernighan" label="brian w. kernighan"/>
    <category term="decus" label="decus"/>
    <category term="fortran" label="fortran"/>
    <category term="lbltools" label="lbltools"/>
    <category term="lt86-tape" label="lt86 tape"/>
    <category term="pj-plauger" label="p.j. plauger"/>
    <category term="pascal" label="pascal"/>
    <category term="ratfor" label="ratfor"/>
    <category term="software-tools" label="software tools"/>
    <category term="swtools" label="swtools"/>
    <category term="vax" label="vax"/>
    <category term="vms" label="vms"/>
    <category term="vos" label="vos"/>
  </entry>
  <entry>
    <title>Fantastic Medieval Campaigns</title>
    <id>https://tkurtbond.github.io/posts/2024/01/21/fantastic-medieval-campaigns/</id>
    <updated>2024-01-21T23:13:27-05:00</updated>
    <published>2024-01-21T23:13:27-05:00</published>
    <author>
      <name>T. Kurt Bond</name>
    </author>
    <link rel="alternate" type="text/html" href="https://tkurtbond.github.io/posts/2024/01/21/fantastic-medieval-campaigns/"/>
    <summary type="html">&lt;p&gt;&lt;a class="reference external" href="https://traversefantasy.itch.io/fmc"&gt;Fantastic Medieval Campaigns&lt;/a&gt; (FMC) by Marcia B. is a great
retroclone and restatement of Original D&amp;amp;D: it's clearly written, well
organized, contains a table of contents for the book and then a table
of contents in each section, has a glossary and indices for monsters,
spells, and tables, and uses the color backgrounds of the pages well
to make finding the different sections easy.  The art is charming and
appropriate for a OD&amp;amp;D retroclone, and the layout is clean.  It
includes a retroclone of Chainmail, which is rare.  I like it very
much.  And the PDF is free!  I got the hardback color book and read it
and want to run at least two campaigns with it, the first using its
Chainmail retroclone, Chain of Command, and the next with the d20
based combat system.&lt;/p&gt;
&lt;p&gt;But, but, but!  The back cover text says problematize our
preconceptions of a text (or even a whole genre) and mentions
falsehood.  And the contents of the last page of the text,
which is labeled This Page Intentionally Left Blank., are certainly
not blank, and expresses opinions of D&amp;amp;D that must surely
offend many D&amp;amp;D players.  I'll quote it here:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Fantastic Medieval Campaigns is a recreation of what is at best a
deeply reactionary work of artif not a fascist one altogether.
We recognize now that the authors, as well as some who were in
their circle, thought quite badly of women, indigenous people, and
others.  However, we should let the text speak for itself because
it speaks loudly.  The book is a guide to fantastic war game
campaigns, where the players take on the roles of
sword-and-sorcery adventurers seeking greatness.  They will begin
in the Underworld simply slaying monsters and retrieving treasure
in the form of gold, legal tender ready to be exchanged on the
open market.  As characters accumulate treasure, they acquire
superhuman abilities and political power to boot.  Heroes,
Thaumaturgists, and Bishops emerge from their colonial katabasis
conquering land by which to become Lords, Wizards, and Patriarchs.
They will establish sanctuaries and, with their vast armies, turn
the tide against the forces of evil chaos they have always
resisted' thus far.  The setting in general is one where might
makes right, where the violent extraction of resources is central
to the protagonists activity, and where participation in these
things is rewarded with not only political power bu the sort of
physiological and supernatural power which colonizers and fascists
imagined themselves to have.  It is a mirror to the desires and
fantasies of its original authors, a bunch of white, straight,
cissexual men in the Midwest, just as it is a reflection of boys'
pulp literature at the height of American culture about crushing
one's enemies and driving them before oneself and hearing the
lamentations of their women.  All in all, this work was not
written in a vacuum nor did it spring fully formed from the heads
of its creators.  You can use this book however you like or even
attempt to play it with the mindset of a midcentury American  man,
but do not delude yourself with regards to its content or to the
fantasy which it encodes.  That being said, as the author, I offer
up this work for analysis, critique, and reflection.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Well, that certainly put the coyote in the chicken house!  It is
definitely controversial in OSR circles.  Honestly, though, I'm not
sure &lt;em&gt;that&lt;/em&gt; furor was worth following.&lt;/p&gt;
&lt;p&gt;I just want to point out that, whatever the author's opinions of D&amp;amp;D,
they wrote FMC so they could more easily understand the rules, so
they could better play D&amp;amp;D with their friends, and according to a
&lt;a class="reference external" href="https://www.paperspencils.com/fantastic-medieval-campaigns/"&gt;friend of theirs&lt;/a&gt; they spent over a year working on it.&lt;/p&gt;
&lt;p&gt;Regardless of whether I agree with their views or not, FMC is a well
written game and its author should be proud of it.  It can be used to
run some great games.  If you don't agree with the author's views, just
ignore them and &lt;strong&gt;play the game&lt;/strong&gt;.&lt;/p&gt;</summary>
    <category term="controversy" label="controversy"/>
    <category term="dnd" label="dnd"/>
    <category term="fantastic-medieval-campaigns" label="fantastic medieval campaigns"/>
    <category term="fmc" label="fmc"/>
    <category term="odnd" label="odnd"/>
  </entry>
  <entry>
    <title>The Fantasy Trip</title>
    <id>https://tkurtbond.github.io/posts/2024/01/21/the-fantasy-trip/</id>
    <updated>2024-01-21T17:31:57-05:00</updated>
    <published>2024-01-21T17:31:57-05:00</published>
    <author>
      <name>T. Kurt Bond</name>
    </author>
    <link rel="alternate" type="text/html" href="https://tkurtbond.github.io/posts/2024/01/21/the-fantasy-trip/"/>
    <summary type="html">&lt;p&gt;[I should have posted this a long time ago.  Oh well.  At least it's
being posted now.]&lt;/p&gt;
&lt;section id="back-in-the-day"&gt;
&lt;h2&gt;Back in the Day&lt;/h2&gt;
&lt;p&gt;I really wish I'd gotten a copy of Steve Jackson's Melee in 1977 and
Wizard in 1978 when they were published by Metagaming, and Advanced
Melee, Advanced Wizard, and In the Labyrinth when those came out in
1980. Together those make up the game The Fantasy Trip (TFT). Melee and
Wizard are the basic combat and magic rules, published as board games.
Advanced Melee and Advanced Wizard are the full combat rules. And In the
Labyrinth adds all the other stuff necessary for a complete roleplaying
game.&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://en.wikipedia.org/wiki/Metagaming_Concepts"&gt;Metagaming at
Wikipedia&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://tkurtbond.github.io/posts/2024/01/21/the-fantasy-trip/Cover_of_Melee_board_game_1977.png"&gt;Melee, 1977&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://tkurtbond.github.io/posts/2024/01/21/the-fantasy-trip/Cover_of_Wizard_Metagaming_1978.png"&gt;Wizard, 1978&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;But I never saw them in any store in my area. I did meet one person who
played The Fantasy Trip, probably in 1981 or so, but never got to talk
to him about it; we were both quite busy with other things at the summer
camp from hell. Wish he'd brought his rulebooks&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://en.wikipedia.org/wiki/Melee_(game)"&gt;Melee&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://en.wikipedia.org/wiki/Wizard_(board_game)"&gt;Wizard&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://en.wikipedia.org/wiki/The_Fantasy_Trip"&gt;The Fantasy Trip at
Wikipedia&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/section&gt;
&lt;section id="modern-times"&gt;
&lt;h2&gt;Modern Times&lt;/h2&gt;
&lt;p&gt;I picked up my copies of the original Advanced Melee, Advanced Wizard,
and In the Labyrinth much more recently. Probably in 2018 or so. Thank
goodness for Internet game stores.&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://tkurtbond.github.io/posts/2024/01/21/the-fantasy-trip/Cover_of_Advanced_Melee_1980.jpg"&gt;Advanced Melee&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://tkurtbond.github.io/posts/2024/01/21/the-fantasy-trip/Cover_of_Advanced_Wizard_1980.jpg"&gt;Advanced Wizard&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://tkurtbond.github.io/posts/2024/01/21/the-fantasy-trip/Cover_of_In_the_Labyrinth_1980.jpg"&gt;In the Labyrinth&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/section&gt;
&lt;section id="legacy-edition"&gt;
&lt;h2&gt;Legacy Edition&lt;/h2&gt;
&lt;p&gt;In 2018 Steve Jackson Games kickstarted The Fantasy Trip Legacy Edition,
with new versions of Melee and Wizard and a new version of In the
Labyrinth that contained everything from the original as well as the
rules from Advanced Melee and Advanced Wizard, and I backed it, and got
a LOT of stuff. I liked the new edition of The Fantasy Trip a lot. But I
didn't have a good chance to play it for a while.&lt;/p&gt;
&lt;p&gt;There were some interesting changes from the Metagaming version of The
Fantasy Trip to the Legacy edition.&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://tkurtbond.github.io/posts/2024/01/21/the-fantasy-trip/Cover_of_Melee_Legacy_Edition.jpg"&gt;Melee, Legacy Edition&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://tkurtbond.github.io/posts/2024/01/21/the-fantasy-trip/Cover_of_Wizard_Legacy_Edition.jpg"&gt;Wizard, Legacy Edition&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://tkurtbond.github.io/posts/2024/01/21/the-fantasy-trip/Cover_of_In_the_Labyrinth_Legacy_Edition.jpg"&gt;In the Labyrinth, Legacy
Edition&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://tkurtbond.github.io/posts/2024/01/21/the-fantasy-trip/Cover_of_Pocket_Box_Melee_and_Wizard.png"&gt;Pocket Box edition of Melee &amp;amp;
Wizard&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="http://www.sjgames.com/"&gt;Steve Jackson Games&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://en.wikipedia.org/wiki/The_Fantasy_Trip#The_Fantasy_Trip_Legacy_Edition_2"&gt;The Fantasy Trip Legacy
Edition&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://thefantasytrip.game/"&gt;The Fantasy Trip at Steve Jackson
Games&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://www.hcobb.com/tft/legacy_first.html"&gt;The Fantasy Trip, Legacy vs First edition&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;And the PDF of Melee is available from Steve Jackson Games for free!&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://warehouse23.com/products/the-fantasy-trip-melee"&gt;Melee for
Free!&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/section&gt;
&lt;section id="playing-melee-online"&gt;
&lt;h2&gt;Playing Melee Online&lt;/h2&gt;
&lt;p&gt;I got to play Melee online in 2023 and had fun. It took a while for
everybody to get used to the way combat works  it's a hex-based
tactical combat system that strives for verisimilitude, and is quite
different from anything that the others were used to. This group has
been playing Mini Six from Antipaladin Games mostly before this, with some
of Deep7's 1PGs thrown in; previously we've played a lot of Labyrinth
Lord from Goblinoid Games and Savage Worlds from Pinnacle Entertainment
Group, and while Savage Worlds is played on a square grid battle map,
it's still not tactical in the same way as TFT, DragonQuest from SPI, or
GURPS from Steve Jackson Games. I played a lot of DragonQuest and GURPS
(TFT's younger relative) in the 80s and 90s, which both have hex-grid
based tactical combat, and enjoyed them a lot, so TFT's system wasn't
such a shock to me.&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://www.drivethrurpg.com/product/144558/Mini-Six-Bare-Bones-Edition"&gt;Mini
Six&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="http://www.antipaladingames.com/"&gt;AntiPaladin Games&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://github.com/tkurtbond/Minimal-OpenD6"&gt;Minimal OpenD6 SRD&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://deep7.com/"&gt;Deep7 Press&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://deep7.com/?page_id=664"&gt;1PG - 1 Page Games&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://www.drivethrurpg.com/product/78524/Advanced-Edition-Companion-Labyrinth-Lord-noart-version"&gt;Labyrinth Lord (free no-art
version)&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://www.drivethrurpg.com/product/64331/Labyrinth-Lord-Revised-Edition-noart-version"&gt;Advanced Edition Companion for Labyrinth Lord (free no-art
version)&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://www.drivethrurpg.com/product/259983/Advanced-Labyrinth-Lord-Dragon-Cover"&gt;Advanced Labyrinth
Lord&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="http://www.goblinoidgames.com/"&gt;Goblinoid Games&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://peginc.com/"&gt;Pinnacle Entertainment Group&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://en.wikipedia.org/wiki/Savage_Worlds"&gt;Savage Worlds at
Wikipedia&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://en.wikipedia.org/wiki/DragonQuest"&gt;DragonQuest at
Wikipedia&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="http://www.sjgames.com/gurps/"&gt;GURPS&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Anyway, I backed Steve Jackson Games' TFT kickstarters as well as Gaming
Ballistic's kickstarters, so I've got a lot of the stuff published for
The Fantasy Trip Legacy Edition. It's a pity I'm not playing face to
face these days, because most of those kickstarters were loaded with
neat stuff for face to face play  megahex tiles, cards of all kinds,
neoprene battle maps, and more.&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://gamingballistic.com/"&gt;Gaming Ballistic&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://gaming-ballistic.myshopify.com/collections/all?filter.v.price.gte=&amp;amp;filter.v.price.lte=&amp;amp;filter.p.m.my_fields.collection=The+Fantasy+Trip"&gt;Gaming Ballistic's TFT
products&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I continued playing Melee online, and added in Wizard.  Eventually I
plan to start running a TFT campaign using the many adventures
released by Steve Jackson Games and Gaming Ballistic. And they've
released a number of solo adventures, so I plan on playing those as
well.&lt;/p&gt;
&lt;p&gt;Right now I'm working on a hexcrawl using TFT, to be played somewhat
in the West Marches style, with a long past apocalypse that destroyed
a huge empire.  The idea is the people are moving back into the areas
left abandoned for centuries after the apocalypse due to inimical
magic that has recently retreated.&lt;/p&gt;
&lt;/section&gt;
&lt;section id="description-of-melee"&gt;
&lt;h2&gt;Description of Melee&lt;/h2&gt;
&lt;p&gt;Melee is a person-to-person combat board game. A Melee character has two
stats, Strength (ST) and Dexterity (DX), and a secondary stat, Movement
Allowance (MA). ST determines what weapons you can use. DX determines
how hard it is for you to hit your opponents: you roll 3d6 equal to or
under your (adjusted) DX to hit (noted as a 3/DX roll). MA determines
how fast you can move on the hex grid battlemap. Human characters start
with 8 in ST and DX and have 8 more points to allocate however you want
between the two, for a total of 24 points. There are NO dump stats, and
every combination of stats, weapons, and armor results in quite
differently performing characters, which interact with the combat system
in interesting ways. Unarmored humans start with MA 10, but most armor
reduces a characters MA. Armor also lowers your DX. When you are
familiar with the system you and one or more friends can create
characters and fight a battle in an hour or so, but when you are first
starting out it will take a while to internalize the system so it runs
quickly. Melee also has various nonhuman opponents: bears, wolves, giant
snakes, giants, and gargoyles. It also has fantasy fighters: elves,
dwarves, halflings, orcs, goblins, and hobgoblins, who start with
different minimum ST and DX, sometimes with different maximum total
points. Characters gain experience and when they have 100 they can trade
it in for a point to increase ST or DX. Up to 8 points can be gained
this way.&lt;/p&gt;
&lt;/section&gt;
&lt;section id="description-of-wizard"&gt;
&lt;h2&gt;Description of Wizard&lt;/h2&gt;
&lt;p&gt;Wizard adds a third stat, Intelligence (IQ), and a lot of
spells. You've still only got 8 points to spend between the three
stats, so characters can have 32 points total.  Wizards can know as
many spells as they have IQ points. Spells are rated by the IQ
necessary to learn them.  Wizards roll 3/DX to see if they've cast
their spells correctly.  Each spell has a ST cost to cast; some spells
can be continued with a different ST cost.  Typically if a wizard
fails the roll to cast the spell it still costs 1 ST.  Wizard also adds
a couple more monsters, Myrmidons, and two sizes of dragon: 4 hex and 7
hex. Wizard is scaled well to work beside Melee as a person to person
combat board game.&lt;/p&gt;
&lt;/section&gt;
&lt;section id="description-of-in-the-labyrinth"&gt;
&lt;h2&gt;Description of In the Labyrinth&lt;/h2&gt;
&lt;p&gt;In the Labyrinth (ITL) adds some elaborations to combat and magic, as
well as all the things necessary to make The Fantasy Trip a complete
roleplaying game. In particular, they add talents, non-magical
abilities. Talents allow a character to try to do something, or makes
something anybody can do easier. Talents are rated by the IQ necessary
to learn them, and by how many points IQ points they cost to get at
character creation. Talents cost twice as much (in IQ points at
character creation and in XP after character creation) for wizards as
they do regular hero characters. Regular heroes can learn spells, but
they cost triple (in IQ points at character creation and in XP after
character creation) what they cost wizards. ITL adds lots of spells,
many of which have non-combat uses, as you'd expect from an RPG.&lt;/p&gt;
&lt;p&gt;Finding out if your character succeeds is a matter of rolling dice
equal to or lower than your stats. For easy things you roll 2 dice or
even 1 die, normal things take 3 dice, while difficult things take 4,
5, even or &lt;em&gt;more&lt;/em&gt; dice! Look at the chance to roll a 14 or less on
6d6! Yikes!&lt;/p&gt;
&lt;img alt="/d6-dice-odds.png" src="https://tkurtbond.github.io/d6-dice-odds.png"&gt;
&lt;/section&gt;
&lt;section id="random-things-i-like-about-tft"&gt;
&lt;h2&gt;Random things I like about TFT&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;Melee and Wizard are relatively simple person to person combat board
games that serve as an introduction to the full system.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Uses only six sided dice.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Tactical hex grid based combat with verisimilitude.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The RPG is a complete fantasy roleplaying game in one 176 page book.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ITL's one page Quick Character Generation lets you quickly roll up a
new character with interesting features and personality.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The Table of Jobs.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Creating Magic Items.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ITL's mini setting of the Village of Bendwyn and Southern Elyntia.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Characters, even complicated ones, fit on a 35 card.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;It's got a free app, &lt;a class="reference external" href="https://thefantasytrip.game/products/accessories/tft-helper/"&gt;TFT Helper&lt;/a&gt;,
for iOS and Android!&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/section&gt;</summary>
    <category term="android" label="android"/>
    <category term="ios" label="ios"/>
    <category term="melee" label="melee"/>
    <category term="metagaming" label="metagaming"/>
    <category term="sjg" label="sjg"/>
    <category term="steve-jackson-games" label="steve jackson games"/>
    <category term="tft" label="tft"/>
    <category term="tft-helper" label="tft helper"/>
    <category term="the-fantasy-trip" label="the fantasy trip"/>
    <category term="wizard" label="wizard"/>
  </entry>
  <entry>
    <title>D&amp;D Retro-clones and Neo-clones</title>
    <id>https://tkurtbond.github.io/posts/2024/01/21/dnd-retro-clones-and-neo-clones/</id>
    <updated>2024-01-21T13:43:21-05:00</updated>
    <published>2024-01-21T13:43:21-05:00</published>
    <author>
      <name>T. Kurt Bond</name>
    </author>
    <link rel="alternate" type="text/html" href="https://tkurtbond.github.io/posts/2024/01/21/dnd-retro-clones-and-neo-clones/"/>
    <summary type="html">&lt;p&gt;(See &lt;a class="reference external" href="https://tkurtbond.github.io/pages/rpg-vocabulary/#Retro-clone"&gt;Retro-clone&lt;/a&gt; and &lt;a class="reference external" href="https://tkurtbond.github.io/pages/rpg-vocabulary/#Neo-clone"&gt;Neo-clone&lt;/a&gt; for definitions.)&lt;/p&gt;
&lt;p&gt;All of the retro-clones and neo-clones mentioned below are games with
which I have some familiarity.  Many of them I've played.  The others
I've read.  All of them have something interesting to recommend them.&lt;/p&gt;
&lt;p&gt;There was a time when Wizards of the Coast hadn't made old versions of
D&amp;amp;D available easily, and the retro-clones were very important then.
Even now some retro-clones or neo-clones have better presentation than
the original rules (&lt;a class="reference internal" href="https://tkurtbond.github.io/posts/2024/01/21/dnd-retro-clones-and-neo-clones/#old-school-essentials-classic-fantasy"&gt;Old-School Essentials Classic Fantasy&lt;/a&gt;) or
present a simpler version of classic rules (&lt;a class="reference external" href="https://www.drivethrurpg.com/product/64332/Labyrinth-Lord-Revised-Edition"&gt;Labyrinth Lord: Revised
Edition&lt;/a&gt; with &lt;a class="reference external" href="https://www.drivethrurpg.com/product/78523/Advanced-Edition-Companion-Labyrinth-Lord"&gt;Advanced Edition Companion&lt;/a&gt; for AD&amp;amp;D), or provide
additional details and further development of a particular D&amp;amp;D version
(&lt;a class="reference internal" href="https://tkurtbond.github.io/posts/2024/01/21/dnd-retro-clones-and-neo-clones/#adventurer-conqueror-king-system"&gt;Adventurer, Conqueror, King System&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;And, of course, if you are playing with kids who might not have the
money to buy PDFs of old versions of D&amp;amp;D, many of the retro-clones are
available in PDF or online legally for free.&lt;/p&gt;
&lt;section id="what-do-you-want"&gt;
&lt;h2&gt;What do you want?&lt;/h2&gt;
&lt;p&gt;Want a simple, clear, exceptionally well organized and presented
version of the classic &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Dungeons_%26_Dragons_Basic_Set#1981_revision"&gt;Basic/Expert D&amp;amp;D&lt;/a&gt; (B/X) rules?  See
&lt;a class="reference internal" href="https://tkurtbond.github.io/posts/2024/01/21/dnd-retro-clones-and-neo-clones/#old-school-essentials-classic-fantasy"&gt;Old-School Essentials Classic Fantasy&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Want races separate from classes and the most of the extra classes,
races, and many spells from AD&amp;amp;D 1E, all on the 1 to 14 level scale of
the classic &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Dungeons_%26_Dragons_Basic_Set#1981_revision"&gt;Basic/Expert D&amp;amp;D&lt;/a&gt; (B/X)?  See &lt;a class="reference internal" href="https://tkurtbond.github.io/posts/2024/01/21/dnd-retro-clones-and-neo-clones/#old-school-essentials-advanced-fantasy"&gt;Old-School Essentials
Advanced Fantasy&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Want to play classic AD&amp;amp;D 1E modules with all races, classes, and most
spells from AD&amp;amp;D 1E, on a mostly 1 to 20 level scale, with 9&lt;sup&gt;th&lt;/sup&gt; level magic user spells and 7&lt;sup&gt;th&lt;/sup&gt; cleric spells, but
with simpler mechanics?  See &lt;a class="reference internal" href="https://tkurtbond.github.io/posts/2024/01/21/dnd-retro-clones-and-neo-clones/#labyrinth-lord-revised-edition-advanced-edition-companion"&gt;Labyrinth Lord: Revised Edition &amp;amp;
Advanced Edition Companion&lt;/a&gt;, or &lt;a class="reference internal" href="https://tkurtbond.github.io/posts/2024/01/21/dnd-retro-clones-and-neo-clones/#advanced-labyrinth-lord"&gt;Advanced Labyrinth Lord&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Want something almost like AD&amp;amp;D 1E?  See &lt;a class="reference internal" href="https://tkurtbond.github.io/posts/2024/01/21/dnd-retro-clones-and-neo-clones/#osric"&gt;OSRIC&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Want something that feels like &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Dungeons_%26_Dragons_(1974)"&gt;Original D&amp;amp;D&lt;/a&gt;, just what was in the
three original Little Brown Books?  See &lt;a class="reference external" href="https://www.lulu.com/en/us/shop/matthew-finch/swords-wizardry-whitebox-rules-softcover/paperback/product-1wzw887q.html?page=1&amp;amp;pageSize=4"&gt;Swords &amp;amp; Wizardry Whitebox&lt;/a&gt;,
&lt;cite&gt;Labyrinth Lord&lt;/cite&gt;'s &lt;a class="reference internal" href="https://tkurtbond.github.io/posts/2024/01/21/dnd-retro-clones-and-neo-clones/#original-edition-characters"&gt;Original Edition Characters&lt;/a&gt;, &lt;a class="reference internal" href="https://tkurtbond.github.io/posts/2024/01/21/dnd-retro-clones-and-neo-clones/#delving-deeper"&gt;Delving Deeper&lt;/a&gt;,
or &lt;a class="reference external" href="https://traversefantasy.itch.io/fmc"&gt;Fantastic Medieval Campaigns&lt;/a&gt;, especially if you want a
Chainmail-style system for individual and mass combat.  Do you also
want the thief class?  See &lt;a class="reference external" href="https://www.lulu.com/en/us/shop/matthew-finch/swords-wizardry-core-rules-softcover/paperback/product-1yvrdzg2.html?"&gt;Swords &amp;amp; Wizardry Core&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Want something that feels like &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Dungeons_%26_Dragons_(1974)"&gt;Original D&amp;amp;D&lt;/a&gt;, just before AD&amp;amp;D 1E
came out, with the races and classes (except for gnomes and
illusionists) and spells familiar from AD&amp;amp;D 1E, but simpler, on a
mostly 1 to 20+ level scale, with up to 9&lt;sup&gt;th&lt;/sup&gt; level magic user
spells and 7&lt;sup&gt;th&lt;/sup&gt; level cleric spells?  See &lt;a class="reference external" href="https://www.froggodgames.com/product/swords-wizardry-complete-rulebook/"&gt;Swords &amp;amp; Wizardry
Complete&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Like the 1 to 14 level scale and the lower hit dice of &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Dungeons_%26_Dragons_Basic_Set#1981_revision"&gt;Basic/Expert
D&amp;amp;D&lt;/a&gt;, but want more detailed rules, especially magic research,
economics, and domain play (the D&amp;amp;D end game, where the players build
strongholds and rule), with rules for building campaign specific
classes and races, and don't mind some slightly different mechanics?
See the &lt;a class="reference internal" href="https://tkurtbond.github.io/posts/2024/01/21/dnd-retro-clones-and-neo-clones/#adventurer-conqueror-king-system"&gt;Adventurer, Conqueror, King System&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Want the 1 to 36 level scale of Frank Mentzer's &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Dungeons_%26_Dragons_Basic_Set#1983_revision"&gt;BECMI&lt;/a&gt; rules or Aaron
Allston's &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Dungeons_%26_Dragons_Basic_Set#1991_revision"&gt;Rules Cyclopedia&lt;/a&gt;?  See &lt;a class="reference internal" href="https://tkurtbond.github.io/posts/2024/01/21/dnd-retro-clones-and-neo-clones/#dark-dungeons"&gt;Dark Dungeons&lt;/a&gt;.&lt;/p&gt;
&lt;/section&gt;
&lt;section id="basic-fantasy"&gt;
&lt;h2&gt;Basic Fantasy&lt;/h2&gt;
&lt;p&gt;I &lt;em&gt;think&lt;/em&gt; I looked at &lt;a class="reference external" href="https://www.basicfantasy.org/"&gt;Basic Fantasy&lt;/a&gt; first, but it wasn't what I
was looking for at the time.&lt;/p&gt;
&lt;p&gt;All its PDFs are free, and the print on demand books are &lt;em&gt;very&lt;/em&gt;
inexpensive.&lt;/p&gt;
&lt;p&gt;I notice that the character class tables all go to
level 20.  I wonder if this is a residual artifact of the &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Editions_of_Dungeons_%26_Dragons#Dungeons_&amp;amp;_Dragons_3rd_edition"&gt;D&amp;amp;D 3E&lt;/a&gt;
character classes going to level 20, since it doesn't match the B/X
model that that is implied by the Basic Fantasy website with the
statement The Basic Fantasy Role-Playing Game is a rules-light game
system modeled on the classic RPG rules of the early 1980's.
Compare that to Labyrinth Lord's rescaling of B/X to match
AD&amp;amp;D.&lt;/p&gt;
&lt;/section&gt;
&lt;section id="labyrinth-lord"&gt;
&lt;h2&gt;Labyrinth Lord&lt;/h2&gt;
&lt;section id="original-edition-characters"&gt;
&lt;h3&gt;Original Edition Characters&lt;/h3&gt;
&lt;p&gt;&lt;cite&gt;Original Edition Characters&lt;/cite&gt; is a player's supplement for &lt;cite&gt;Labyrinth
Lord&lt;/cite&gt; that provides characters more like those of &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Dungeons_%26_Dragons_(1974)"&gt;Original D&amp;amp;D&lt;/a&gt;.
(&lt;a class="reference external" href="https://www.drivethrurpg.com/product/58558/Original-Edition-Characters?manufacturers_id=760"&gt;OECPDF&lt;/a&gt;, &lt;a class="reference external" href="https://www.lulu.com/en/us/shop/daniel-proctor/original-edition-characters/paperback/product-1yvzkkwd.html"&gt;OECPOD&lt;/a&gt;)&lt;/p&gt;
&lt;/section&gt;
&lt;section id="labyrinth-lord-revised-edition-advanced-edition-companion"&gt;
&lt;h3&gt;Labyrinth Lord: Revised Edition &amp;amp; Advanced Edition Companion&lt;/h3&gt;
&lt;p&gt;While &lt;a class="reference external" href="https://www.drivethrurpg.com/product/64332/Labyrinth-Lord-Revised-Edition"&gt;Labyrinth Lord: Revised Edition&lt;/a&gt; (LLRE; PDF and POD) has been
criticized for not being a completely faithful retro-clone of the
Moldvay/Cook/Marsh Basic/Expert D&amp;amp;D rules (B/X), I think it still
holds a useful spot.  The changes that were made in the revised
version of &lt;cite&gt;Labyrinth Lord&lt;/cite&gt; made it easier to be used with &lt;a class="reference external" href="https://www.drivethrurpg.com/product/78523/Advanced-Edition-Companion-Labyrinth-Lord"&gt;Advanced
Edition Companion&lt;/a&gt; (AEC).  It adapted the 114 level scale of B/X to
the scale of AD&amp;amp;D 1E, generally about 20 levels, and with AEC it added
the separate races and the additional classes, spells, monsters, and
magic items of AD&amp;amp;D 1E.&lt;/p&gt;
&lt;p&gt;There are versions of LLRE and AEC available for free: &lt;a class="reference external" href="https://www.drivethrurpg.com/product/64331/Labyrinth-Lord-Revised-Edition-noart-version"&gt;No-art LLRE&lt;/a&gt; and
&lt;a class="reference external" href="https://www.drivethrurpg.com/product/78524/Advanced-Edition-Companion-Labyrinth-Lord-noart-version"&gt;no-art AEC&lt;/a&gt;.&lt;/p&gt;
&lt;/section&gt;
&lt;section id="advanced-labyrinth-lord"&gt;
&lt;h3&gt;Advanced Labyrinth Lord&lt;/h3&gt;
&lt;p&gt;&lt;cite&gt;Advanced Labyrinth Lord&lt;/cite&gt; compiles the information from &lt;cite&gt;Labyrinth
Lord: Revised Edition&lt;/cite&gt; and &lt;cite&gt;Advanced Edition Companion&lt;/cite&gt; into one
convenient book (&lt;a class="reference external" href="https://www.drivethrurpg.com/product/259983/Advanced-Labyrinth-Lord-Dragon-Cover"&gt;ALL&lt;/a&gt;, PDF and POD).&lt;/p&gt;
&lt;/section&gt;
&lt;/section&gt;
&lt;section id="swords-wizardry"&gt;
&lt;h2&gt;Swords &amp;amp; Wizardry&lt;/h2&gt;
&lt;p&gt;&lt;cite&gt;Swords &amp;amp; Wizardry&lt;/cite&gt; is inspired by the original D&amp;amp;D booklets and
associated magazine articles.  It comes in various versions, depending
on how much of the supplemental material you want.&lt;/p&gt;
&lt;p&gt;I find the original D&amp;amp;D booklets very interesting from a historical
standpoint, but find &lt;cite&gt;Swords &amp;amp; Wizardry&lt;/cite&gt; easier to use at the table.&lt;/p&gt;
&lt;section id="swords-wizardry-white-box"&gt;
&lt;h3&gt;Swords &amp;amp; Wizardry White Box&lt;/h3&gt;
&lt;p&gt;This is inspired by the original three booklets of D&amp;amp;D, so it includes
only the Fighter, Magic-User, and Cleric, so it strips away everything
but the absolute essentials.&lt;/p&gt;
&lt;/section&gt;
&lt;section id="swords-wizardry-core"&gt;
&lt;h3&gt;Swords &amp;amp; Wizardry Core&lt;/h3&gt;
&lt;p&gt;This adds the thief class.&lt;/p&gt;
&lt;/section&gt;
&lt;section id="swords-wizardry-complete"&gt;
&lt;h3&gt;Swords &amp;amp; Wizardry Complete&lt;/h3&gt;
&lt;p&gt;If you are looking to play something with the feel of AD&amp;amp;D 1E, but
want something even simpler than &lt;a class="reference external" href="https://www.drivethrurpg.com/product/64332/Labyrinth-Lord-Revised-Edition"&gt;Labyrinth Lord: Revised Edition&lt;/a&gt;
and &lt;a class="reference external" href="https://www.drivethrurpg.com/product/78523/Advanced-Edition-Companion-Labyrinth-Lord"&gt;Advanced Edition Companion&lt;/a&gt;, this is an excellent choice, as
long as you don't need half-orcs, gnomes or illusionists.&lt;/p&gt;
&lt;p&gt;I like how it discusses different ways to interpret the original
rules, often giving more than option for use with S&amp;amp;WC.&lt;/p&gt;
&lt;/section&gt;
&lt;/section&gt;
&lt;section id="old-school-essentials"&gt;
&lt;h2&gt;Old-School Essentials&lt;/h2&gt;
&lt;p&gt;&lt;cite&gt;Old-School Essentials&lt;/cite&gt; (OSE) is published by &lt;a class="reference external" href="https://necroticgnome.com/"&gt;Necrotic Gnome&lt;/a&gt; in two
flavors so far, &lt;cite&gt;Classic Fantasy&lt;/cite&gt; and &lt;cite&gt;Advanced Fantasy&lt;/cite&gt;.&lt;/p&gt;
&lt;p&gt;In my opinion, OSE has improved the clarity, organization, and
presentation of its rules over the already very good &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Dungeons_%26_Dragons_Basic_Set#1981_revision"&gt;Basic/Expert
D&amp;amp;D&lt;/a&gt; rules.&lt;a class="footnote-reference brackets" href="https://tkurtbond.github.io/posts/2024/01/21/dnd-retro-clones-and-neo-clones/#although" id="footnote-reference-1" role="doc-noteref"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;1&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/a&gt; As well as clear wording it uses layout and
typography to enhance its presentation of the rules, from the use of
one and two page spreads that completely cover one subject to the
careful use of bold and bullet points to call out important
information, OSE really shines.  The &lt;a class="reference external" href="https://necroticgnome.com/collections/adventures"&gt;adventures&lt;/a&gt; that &lt;a class="reference external" href="https://necroticgnome.com/"&gt;Necrotic
Gnome&lt;/a&gt; have produced for it (&lt;a class="reference external" href="https://necroticgnome.com/collections/adventures/products/the-hole-in-the-oak"&gt;The Hole in the Oak&lt;/a&gt;, &lt;a class="reference external" href="https://necroticgnome.com/collections/adventures/products/dolmenwood-winters-daughter"&gt;Winter's
Daughter&lt;/a&gt;, &lt;a class="reference external" href="https://necroticgnome.com/collections/adventures/products/the-incandescent-grottoes"&gt;The Incandescent Grottoes&lt;/a&gt;, &lt;a class="reference external" href="https://necroticgnome.com/collections/adventures/products/the-isle-of-the-plangent-mage"&gt;The Isle of the Plangent
Mage&lt;/a&gt;, &lt;a class="reference external" href="https://necroticgnome.com/collections/adventures/products/halls-of-the-blood-king"&gt;Halls of the Blood King&lt;/a&gt;, and &lt;a class="reference external" href="https://necroticgnome.com/collections/adventures/products/holy-mountain-shaker"&gt;Holy Mountain Shaker&lt;/a&gt;)
continue this excellent use of layout, bold, and bullet points to
present their information clearly and without the dreaded wall of
text or read aloud text.&lt;/p&gt;
&lt;aside class="footnote-list brackets"&gt;
&lt;aside class="footnote brackets" id="although" role="doc-footnote"&gt;
&lt;span class="label"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;&lt;a role="doc-backlink" href="https://tkurtbond.github.io/posts/2024/01/21/dnd-retro-clones-and-neo-clones/#footnote-reference-1"&gt;1&lt;/a&gt;&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;p&gt;Although it has been suggested to me that while OSE excels &lt;em&gt;as a
reference&lt;/em&gt;, the original &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Dungeons_%26_Dragons_Basic_Set#1981_revision"&gt;Basic/Expert D&amp;amp;D&lt;/a&gt; rules have more
explanations of why things work as they do.  I need to reread them
in light of this suggestion.&lt;/p&gt;
&lt;/aside&gt;
&lt;/aside&gt;
&lt;section id="old-school-essentials-classic-fantasy"&gt;
&lt;h3&gt;Old-School Essentials Classic Fantasy&lt;/h3&gt;
&lt;p&gt;&lt;cite&gt;Old-School Essentials Classic Fantasy&lt;/cite&gt; (&lt;a class="reference external" href="https://necroticgnome.com/collections/rules/products/old-school-essentials-rules-tome"&gt;OSECF&lt;/a&gt;) is the best organized
and presented version of the classic rules from the Moldvay/Cook/Marsh
Basic/Expert D&amp;amp;D sets.  This is the game that I wish had been around
when I started playing.  There is an SRD (&lt;a class="reference external" href="https://oldschoolessentials.necroticgnome.com/srd/"&gt;OSESRD&lt;/a&gt;).  I particularly
like the Classic Fantasy Rules Tome, which collects everything into
one substantial book, but there is also a version split into multiple
books covering separate sections of the rules, so that the magic-user
can look up his spells while the fighter is looking at the combat
rules.&lt;/p&gt;
&lt;/section&gt;
&lt;section id="old-school-essentials-advanced-fantasy"&gt;
&lt;h3&gt;Old-School Essentials Advanced Fantasy&lt;/h3&gt;
&lt;p&gt;&lt;cite&gt;Old-School Essentials Advanced Fantasy&lt;/cite&gt; is the best organized and
presented version of the ideas of the classic rules from 1&lt;sup&gt;st&lt;/sup&gt; edition AD&amp;amp;D, scaled to match the 114 level scope of the
Moldvay/Cook/Marsh Basic/Expert D&amp;amp;D sets.  If I was starting a new
D&amp;amp;D campaign these are the rules I'd use, all things being equal.&lt;/p&gt;
&lt;p&gt;&lt;cite&gt;Old-School Essentials Advanced Fantasy&lt;/cite&gt; is collected in the &lt;a class="reference external" href="https://necroticgnome.com/collections/rules/products/old-school-essentials-advanced-fantasy-players-tome"&gt;Player's
Tome&lt;/a&gt; and &lt;a class="reference external" href="https://necroticgnome.com/collections/rules/products/old-school-essentials-advanced-fantasy-referees-tome"&gt;Referee's Tome&lt;/a&gt;.&lt;/p&gt;
&lt;/section&gt;
&lt;/section&gt;
&lt;section id="adventurer-conqueror-king-system"&gt;
&lt;h2&gt;Adventurer, Conqueror, King System&lt;/h2&gt;
&lt;p&gt;The name of this system is usually abbreviated as ACKS.  One of its
explicit design goals for to supply more rules for the end of game of
Original D&amp;amp;D, where the players built strongholds and ruled, hence the
name.  It also has a more detailed economic system.  It is more
complicated than OD&amp;amp;D or B/X, but in a completely different way than
AD&amp;amp;D 1E.&lt;/p&gt;
&lt;p&gt;It uses some different mechanics, especially for to hit roles, so it
might be considered a &lt;a class="reference external" href="https://tkurtbond.github.io/pages/rpg-vocabulary/#Neo-clone"&gt;Neo-Clone&lt;/a&gt;, but it is inspired by B/X D&amp;amp;D, and
keeps to the same 1 to 14 level scale of B/X.  I particularly like its
rules for building your own campaign specific classes from the
&lt;cite&gt;Player's Companion&lt;/cite&gt;.&lt;/p&gt;
&lt;/section&gt;
&lt;section id="osric"&gt;
&lt;h2&gt;OSRIC&lt;/h2&gt;
&lt;p&gt;I looked at OSRIC (&lt;a class="reference external" href="http://www.knights-n-knaves.com/osric/"&gt;OSRICKnK&lt;/a&gt;), (a free &lt;a class="reference external" href="http://www.knights-n-knaves.com/osric/download.html"&gt;OSRIC PDF&lt;/a&gt; is available, as
well as a free PDF of the &lt;a class="reference external" href="https://www.drivethrurpg.com/browse/pub/2411/Usherwood-Publishing"&gt;Usherwood Publishing&lt;/a&gt; &lt;a class="reference external" href="https://www.drivethrurpg.com/product/111392/OSRIC-Pocket-SRD-PDF"&gt;OSRIC Pocket SRD&lt;/a&gt;
version) but was more interested in &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Dungeons_%26_Dragons_Basic_Set#1981_revision"&gt;Basic/Expert D&amp;amp;D&lt;/a&gt; retroclones at
the time.  I think it is a well written, organized, and presented
restatement of AD&amp;amp;D 1E.  The &lt;a class="reference external" href="https://www.facebook.com/BlackBladePublishing/"&gt;Black Blade Publishing&lt;/a&gt; print edition
is a very nice offset printed volume with a sewn spine.  The &lt;a class="reference external" href="https://www.drivethrurpg.com/browse/pub/2411/Usherwood-Publishing"&gt;Usherwood
Publishing&lt;/a&gt; &lt;a class="reference external" href="https://www.drivethrurpg.com/product/111392/OSRIC-Pocket-SRD-PDF"&gt;OSRIC Pocket SRD&lt;/a&gt; (PDF, POD) is quite affordable.  I
just wish OSRIC wasn't missing some of the classes.  (I miss the Monk
in particular.)  I was also surprised by how many of the little quirks
and restrictions of AD&amp;amp;D 1E have been ironed out, although many
remain.  &lt;a class="reference external" href="https://www.drivethrurpg.com/browse/pub/2411/Usherwood-Publishing"&gt;Usherwood Publishing&lt;/a&gt; has some supplements that add some of
the missing classes, though I'm not sure I like all their versions.&lt;/p&gt;
&lt;/section&gt;
&lt;section id="dark-dungeons"&gt;
&lt;h2&gt;Dark Dungeons&lt;/h2&gt;
&lt;p&gt;&lt;cite&gt;Dark Dungeons&lt;/cite&gt; is available in a free PDF (&lt;a class="reference external" href="https://www.drivethrurpg.com/product/177410/Dark-Dungeons"&gt;DDFreePDF&lt;/a&gt;), a hardback
(&lt;a class="reference external" href="https://www.lulu.com/en/us/shop/blacky-the-blackball/dark-dungeons-hardback/hardcover/product-16q68rge.html"&gt;DDHardback&lt;/a&gt;), a paperback (&lt;a class="reference external" href="https://www.lulu.com/en/us/shop/blacky-the-blackball/dark-dungeons-softcover/paperback/product-18n6qr25.html"&gt;DDPaperback&lt;/a&gt;), and a deluxe color edition
(&lt;a class="reference external" href="https://www.lulu.com/en/us/shop/blacky-the-blackball/dark-dungeons-deluxe/hardcover/product-1gvq52ng.html"&gt;DDDeluxe&lt;/a&gt;).  It has a &lt;a class="reference external" href="https://gurbintrollgames.wordpress.com/dark-dungeons/"&gt;home page&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This is a retro-clone of The D&amp;amp;D Rules Cyclopedia.&lt;/p&gt;
&lt;p&gt;&lt;cite&gt;Dark Dungeons&lt;/cite&gt; does have &lt;a class="reference external" href="https://www.thepiazza.org.uk/bb/viewtopic.php?p=60695#p60695"&gt;changes&lt;/a&gt; from the Rules Cyclopedia,
integrating some optional rules, extrapolating, clarifying and
adjusting other rules, and integrating rules for Immortals.  It does
not include the Mystara setting and cosmology elements.  The
monsters &lt;a class="reference external" href="https://www.thepiazza.org.uk/bb/viewtopic.php?p=60126#p60126"&gt;differ&lt;/a&gt; somewhat.&lt;/p&gt;
&lt;/section&gt;
&lt;section id="delving-deeper"&gt;
&lt;h2&gt;Delving Deeper&lt;/h2&gt;
&lt;p&gt;&lt;cite&gt;Delving Deeper&lt;/cite&gt; (&lt;a class="reference external" href="http://www.immersiveink.com/?page_id=22"&gt;Delving Deeper Description&lt;/a&gt;, &lt;a class="reference external" href="http://forum.immersiveink.com/viewtopic.php?f=15&amp;amp;t=113"&gt;Delving Deeper
PDFs&lt;/a&gt;) works very hard to be as faithful to the 3 Little Brown Books
of Original D&amp;amp;D (along with the relevant partsof Chainmail, with which
they were intended to be used) as possible.  The &lt;a class="reference external" href="https://www.lulu.com/shop/simon-j-bull/delving-deeper-reference-rules-compendium/paperback/product-21911339.html"&gt;Delving Deeper V4
Reference Rules Compendium&lt;/a&gt; is a Print-on-Demand version of the three
booklets.  There is also the &lt;a class="reference external" href="http://ddo.immersiveink.com/dd.html"&gt;Delving Deeper SRD&lt;/a&gt;.  I was
particularly interested in Version 5 of &lt;cite&gt;Delving Deeper&lt;/cite&gt;, as that
promised annotated versions of the three booklets, but only &lt;a class="reference external" href="http://download.immersiveink.com/DDRefRulesV5/HeroesAndMagicV5_Gamma_Annotated_Alpha_20180722.pdf"&gt;one&lt;/a&gt; of the
annotated versions has been completed so far.&lt;/p&gt;
&lt;/section&gt;
&lt;section id="fantastic-medieval-campaigns"&gt;
&lt;h2&gt;Fantastic Medieval Campaigns&lt;/h2&gt;
&lt;p&gt;&lt;a class="reference external" href="https://traversefantasy.itch.io/fmc"&gt;Fantastic Medieval Campaigns&lt;/a&gt; (FMC) is a retro-clone of the three
Little Brown Books of Original D&amp;amp;D and Chainmail, available for free
in PDF and in print on demand.  I gather it was something the author
did just so they had something easier to follow when playing OD&amp;amp;D with
friends.  I'm glad they made it available.&lt;/p&gt;
&lt;p&gt;Unlike a lot of clones of OD&amp;amp;D, FMC, as well as including the familiar
d20-based combat system, also includes a clone of the Chainmail rules,
which can be used either for individual combat or mass combat.  FMC is
very well organized, and could be used by someone new to D&amp;amp;D to
play in a group where everybody else is using the OD&amp;amp;D rulebooks, or
as the rules for a whole group.&lt;/p&gt;
&lt;p&gt;Basically, FMC is a very well written and organized restatement of
Chainmail and the three LBB.  The layout and design are uncluttered;
the art is charming, the organization is superb, and the writing is
clear.  The physical book is an excellent example of the possibilities
of print-on-demand, with the different sections of the book printed on
different colored backgrounds, making finding specific sections much
easier.  The table of the contents at the front of the book is
reasonably detailed, and each section has its own table of contents as
its first page, opposite the title page for the section.  The book has
a glossary and indexes for monsters, spells, and tables.&lt;/p&gt;
&lt;p&gt;In the end this is an exceptional restatement and clarification of the
original game.&lt;/p&gt;
&lt;/section&gt;
&lt;section id="see-also"&gt;
&lt;h2&gt;See Also&lt;/h2&gt;
&lt;p&gt;If you want even more information, you could try &lt;a class="reference external" href="http://taxidermicowlbear.weebly.com/"&gt;Taxidermic
Owlbear&lt;/a&gt;'s &lt;a class="reference external" href="http://taxidermicowlbear.weebly.com/dd-retroclones.html"&gt;D&amp;amp;D Retroclones&lt;/a&gt; (and &lt;a class="reference external" href="http://taxidermicowlbear.weebly.com/downloads.html"&gt;downloads&lt;/a&gt;) and &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Dungeons_%26_Dragons_retro-clones"&gt;Wikipedia&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;There are also retro-clones of games other than D&amp;amp;D, if you go
looking.&lt;/p&gt;
&lt;/section&gt;</summary>
    <category term="acks" label="acks"/>
    <category term="advanced-edition-companion" label="advanced edition companion"/>
    <category term="adventurer-conqueror-king-system" label="adventurer conqueror king system"/>
    <category term="aec" label="aec"/>
    <category term="fantastic-medieval-campaigns" label="fantastic medieval campaigns"/>
    <category term="fmc" label="fmc"/>
    <category term="labyrinth-lord" label="labyrinth lord"/>
    <category term="ll" label="ll"/>
    <category term="neo-clone" label="neo-clone"/>
    <category term="old-school-essentials" label="old-school essentials"/>
    <category term="ose" label="ose"/>
    <category term="retro-clone" label="retro-clone"/>
  </entry>
  <entry>
    <title>Explicit Procedures in Old School Essentials and Swords &amp; Wizardry</title>
    <id>https://tkurtbond.github.io/posts/2024/01/20/explicit-procedures-in-old-school-essentials-and-swords-wizardry/</id>
    <updated>2024-01-20T18:09:40-05:00</updated>
    <published>2024-01-20T18:09:40-05:00</published>
    <author>
      <name>T. Kurt Bond</name>
    </author>
    <link rel="alternate" type="text/html" href="https://tkurtbond.github.io/posts/2024/01/20/explicit-procedures-in-old-school-essentials-and-swords-wizardry/"/>
    <summary type="html">&lt;p&gt;Nothing I'm saying in this post is new; I'm sure other people have
pointed out these or similar things in the past.  I'm just trying to
get my observation down in concrete form.&lt;/p&gt;
&lt;p&gt;Someone asked why &lt;a class="reference external" href="https://necroticgnome.com/pages/about-old-school-essentials"&gt;Old School
Essentials&lt;/a&gt;
(OSE) gets so much attention in the OSR world, and why &lt;a class="reference external" href="https://www.mythmeregames.com/collections/swords-wizardry"&gt;Swords &amp;amp;
Wizardry&lt;/a&gt;
(S&amp;amp;W) doesnt get more. I like both games very much, and have pledged
for Kickstarters for both systems, but I think that the reason that OSE
gets more attention, especially from from those new to the OSR, is that
OSE provides specific and explicit step by step procedures for running
the game structures that are at the center of the game.&lt;/p&gt;
&lt;p&gt;In the article from 6 September 2019, &lt;a class="reference external" href="https://thealexandrian.net/wordpress/43568/roleplaying-games/game-structures-addendum-system-matters"&gt;Game Structures  Addendum:
System
Matters&lt;/a&gt;,
Justin Alexander talks about how the dungeon crawling structure that
originates in Original D&amp;amp;D is completely missing from D&amp;amp;D 5E. (The rest
of his series on &lt;a class="reference external" href="https://thealexandrian.net/wordpress/15126/roleplaying-games/game-structures"&gt;Game
Structures&lt;/a&gt;
is also interesting.)&lt;/p&gt;
&lt;p&gt;OSE preserves (as youd expect as a faithful retroclone of the 1981
Moldvay/Cook/Marsh Basic/Expert edition of D&amp;amp;D) those procedures and
presents them clearly. Much of the same information is available in
Swords &amp;amp; Wizardry, but the reader has to synthesize most of it from
paragraphs and pages of text, rather than having a step by step
procedure to follow.&lt;/p&gt;
&lt;section id="old-school-essentials"&gt;
&lt;h2&gt;Old School Essentials.&lt;/h2&gt;
&lt;p&gt;Looking at OSE, there are at least 12 procedures, most of which have
explicit lists of steps.  (Page numbers are to the &lt;em&gt;OSE Classic Fantasy
Rules Tome&lt;/em&gt;.)&lt;/p&gt;
&lt;p&gt; Indicates step by step procedures.&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://oldschoolessentials.necroticgnome.com/srd/index.php/Dungeon_Adventuring"&gt;Dungeon
Adventuring&lt;/a&gt;, p. 108.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://oldschoolessentials.necroticgnome.com/srd/index.php/Wilderness_Adventuring"&gt;Wilderness
Adventuring&lt;/a&gt;, p. 110.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://oldschoolessentials.necroticgnome.com/srd/index.php/Waterborne_Adventuring"&gt;Waterbourne
Adventuring&lt;/a&gt;, p. 112.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://oldschoolessentials.necroticgnome.com/srd/index.php/Encounters"&gt;Encounters&lt;/a&gt;, p. 114.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://oldschoolessentials.necroticgnome.com/srd/index.php/Evasion_and_Pursuit"&gt;Evasion and
Pursuit&lt;/a&gt;, p. 116.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://oldschoolessentials.necroticgnome.com/srd/index.php/Combat#Combat_Sequence_Per_Round"&gt;Combat&lt;/a&gt;, p. 120.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://oldschoolessentials.necroticgnome.com/srd/index.php/Strongholds#Construction"&gt;Strongholds,
Construction&lt;/a&gt;, p. 134.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://oldschoolessentials.necroticgnome.com/srd/index.php/Adventuring_Parties"&gt;NPC Encounters, Adventuring
Parties&lt;/a&gt;, p. 212.  While not numbered this is sequence of bullet listed procedures for generating Basic and Expert NPC parties, and High Level NPCs.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://oldschoolessentials.necroticgnome.com/srd/index.php/Designing_a_Dungeon"&gt;Designing a
Dungeon&lt;/a&gt;, p. 224.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://oldschoolessentials.necroticgnome.com/srd/index.php/Designing_a_Wilderness"&gt;Designing a
Wilderness&lt;/a&gt;, p. 226.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://oldschoolessentials.necroticgnome.com/srd/index.php/Designing_a_Base_Town"&gt;Designing a Base
Town&lt;/a&gt;, p. 227.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://oldschoolessentials.necroticgnome.com/srd/index.php/Placing_Treasure"&gt;Placing Treasure&lt;/a&gt;, p. 229.&lt;/p&gt;
&lt;ol class="loweralpha simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://oldschoolessentials.necroticgnome.com/srd/index.php/Sentient_Swords"&gt;Rolling a Sentient Sword&lt;/a&gt;, p. 272.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://oldschoolessentials.necroticgnome.com/srd/index.php/Sentient_Swords#Control_Checks"&gt;Control Checks&lt;/a&gt;, p. 273.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The fact that OSE has an online
&lt;a class="reference external" href="https://oldschoolessentials.necroticgnome.com/srd/"&gt;SRD&lt;/a&gt; is also an
advantage; S&amp;amp;W used to, but it is not currently available.&lt;/p&gt;
&lt;/section&gt;
&lt;section id="swords-wizardry"&gt;
&lt;h2&gt;Swords &amp;amp; Wizardry&lt;/h2&gt;
&lt;section id="procedures"&gt;
&lt;h3&gt;Procedures&lt;/h3&gt;
&lt;p&gt;In Swords &amp;amp; Wizardry there are only a couple of step-by-step procedures.&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;&lt;p&gt;Initiative and Order of Battle, p.35.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Generating a Random Treasure Hoard, p.131.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Swords &amp;amp; Wizardrys other procedures have to be extracted from one or
more paragraphs of running text.&lt;/p&gt;
&lt;p&gt;S&amp;amp;W tends to rely on examples and prose descriptions rather than
explicitly numbered or bulleted lists.&lt;/p&gt;
&lt;p&gt;Monsters in the Dungeon, p. 76, could easily have been part of a
Randomly Stoking the Dungeon procedure.&lt;/p&gt;
&lt;p&gt;Compare OSE's Wilderness Adventuring to S&amp;amp;W's Wilderness
Adventures on p.80.  The OSE version is an explicit list of steps,
while the S&amp;amp;W version is a wall of text.&lt;/p&gt;
&lt;p&gt;Compare OSEs bulleted Morale procedure, p. 123, to S&amp;amp;W's, p. 39.&lt;/p&gt;
&lt;p&gt;Compare OSE's Rolling a Sentient Sword to S&amp;amp;W's Intelligent
Weapons, p. 138.&lt;/p&gt;
&lt;hr class="docutils"&gt;
&lt;p&gt;I'm sure that the designer of S&amp;amp;W and its ardent players use
procedures much like OSE's to actually run the game published,
internalized as good practice from the original games over the users,
until they don't notice the lack of or more difficult presentation of
these procedures in S&amp;amp;W.&lt;/p&gt;
&lt;p&gt;Much of the credit for OSE's procedures goes to Moldvay, Cook, and
Marsh, who designed the version of D&amp;amp;D it retroclones, but much also
goes to the exceptionally clear presentation of those rules by Gavin
Norman of &lt;a class="reference external" href="https://necroticgnome.com/"&gt;Necrotic Gnome&lt;/a&gt;.  The series
of OSE &lt;a class="reference external" href="https://necroticgnome.com/collections/adventures"&gt;adventures&lt;/a&gt; also published by Necro Gnome have also been
excellently presented.&lt;/p&gt;
&lt;p&gt;I have been pleased to see S&amp;amp;W's presentation improving over time (the
use of two page spreads for most of the class presentations in the
most recent S&amp;amp;W Revised was a great improvement), and I expect to see
the presentation continue to improve.&lt;/p&gt;
&lt;/section&gt;
&lt;/section&gt;</summary>
    <category term="old-school-essentials" label="old-school essentials"/>
    <category term="ose" label="ose"/>
    <category term="sw" label="s&amp;w"/>
    <category term="swords-wizardy" label="swords &amp; wizardy"/>
  </entry>
</feed>
