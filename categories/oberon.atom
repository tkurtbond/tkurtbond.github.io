<?xml version='1.0' encoding='UTF-8'?>
<?xml-stylesheet href="https://tkurtbond.github.io/assets/xml/atom.xsl" type="text/xsl media="all"?>
<feed xml:lang="en" xmlns="http://www.w3.org/2005/Atom">
  <title>Lacking Natural Simplicity (Posts about oberon)</title>
  <id>https://tkurtbond.github.io/categories/oberon.atom</id>
  <updated>2022-06-14T21:07:46Z</updated>
  <author>
    <name>T. Kurt Bond</name>
  </author>
  <link rel="self" type="application/atom+xml" href="https://tkurtbond.github.io/categories/oberon.atom"/>
  <link rel="alternate" type="text/html" href="https://tkurtbond.github.io/categories/oberon/"/>
  <generator uri="https://getnikola.com/">Nikola</generator>
  <entry>
    <title>Installing a recent version of the A2 operatinng system on UNIX</title>
    <id>https://tkurtbond.github.io/posts/2022/06/10/installing-a-recent-version-of-the-a2-operatinng-system-on-unix/</id>
    <updated>2022-06-10T11:28:40-04:00</updated>
    <published>2022-06-10T11:28:40-04:00</published>
    <author>
      <name>T. Kurt Bond</name>
    </author>
    <link rel="alternate" type="text/html" href="https://tkurtbond.github.io/posts/2022/06/10/installing-a-recent-version-of-the-a2-operatinng-system-on-unix/"/>
    <summary type="html">&lt;div&gt;&lt;p&gt;I recently ran across a &lt;a class="reference external" href="https://svn.inf.ethz.ch/svn/lecturers/a2/trunk/UnixAos/DarwinA2%20Installer/ReadMeFirst!.txt"&gt;document&lt;/a&gt; that explains how to install the &lt;a class="reference external" href="https://en.wikipedia.org/wiki/A2_(operating_system)"&gt;A2&lt;/a&gt;
operating system (formerly Bluebottle, formerly Aos) in the form of
UnixAos hosted on &lt;a class="reference external" href="https://en.wikipedia.org/wiki/MacOS"&gt;macOS&lt;/a&gt;, in the process of explaining how to make a
installer for macOS.  I think the same process will work for any
supported Unix.  [&lt;strong&gt;Later:&lt;/strong&gt; indeed, I used the &lt;a class="reference external" href="http://www.informatik.uni-bremen.de/~fld/UnixAos/rev.9799/LinuxA2-64bit.tgz"&gt;LinuxA2-64bit.tgz&lt;/a&gt; file
and the same process worked fine on my &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Fedora_Linux"&gt;Fedora&lt;/a&gt; box.]&lt;/p&gt;
&lt;p&gt;I'll summarize what I did.&lt;/p&gt;
&lt;p&gt;I went to &lt;a class="reference external" href="http://www.informatik.uni-bremen.de/~fld/UnixAos/"&gt;http://www.informatik.uni-bremen.de/~fld/UnixAos/&lt;/a&gt; and
selected the most recent revision, &lt;a class="reference external" href="http://www.informatik.uni-bremen.de/~fld/UnixAos/rev.9799/"&gt;rev.9799&lt;/a&gt; at the time of this
writing.  There I downloaded the install script, &lt;a class="reference external" href="http://www.informatik.uni-bremen.de/~fld/UnixAos/rev.9799/install.UnixA2"&gt;install.UnixA2&lt;/a&gt; and
the version for 64 bit macOS, &lt;a class="reference external" href="http://www.informatik.uni-bremen.de/~fld/UnixAos/rev.9799/DarwinA2-64bit.tgz"&gt;DarwinA2-64bit.tgz&lt;/a&gt;.  (There were also
Linux and Solaris versions for 32 and 64 bit systems.)&lt;/p&gt;
&lt;p&gt;Then I executed &lt;code class="docutils literal"&gt;chmod +x&lt;/code&gt;'ed the install script and ran it, passing
the &lt;span class="file"&gt;.tgz&lt;/span&gt; file to it.&lt;/p&gt;
&lt;p&gt;First, it asks for the installation directory, which should already
exist.  It has a default, but I installed to the directory
&lt;span class="file"&gt;/usr/local/sw/versions/aos/rev.9799&lt;/span&gt;.  Again, I had to create
that directory first.  (I don't like to write into &lt;span class="file"&gt;/usr&lt;/span&gt; or
&lt;span class="file"&gt;/usr/local&lt;/span&gt;, because those directory hierarchies are often
under the systems control.  Nobody uses &lt;span class="file"&gt;/usr/local/sw&lt;/span&gt; for
anything except me.)&lt;/p&gt;
&lt;p&gt;Second, it asks for the file name to copy the &lt;span class="file"&gt;aos&lt;/span&gt; script to.
I installed the &lt;span class="command"&gt;aos&lt;/span&gt; command to
&lt;span class="file"&gt;/Users/tkb/local/rndbin&lt;/span&gt;, (&lt;span class="file"&gt;/home/tkb/local/rndbin&lt;/span&gt; on
non-macOS systems) which is in my path.&lt;/p&gt;
&lt;p&gt;The install script assumes you are running as root, but I ran it first
as my normal user, and since the directory I was installing it to was
owned by me it seems to have worked ok, even though it complained
about &lt;span class="command"&gt;chgrp&lt;/span&gt; not being able to change the group of a &lt;em&gt;bunch&lt;/em&gt;
of files.&lt;/p&gt;
&lt;p&gt;Then when I issued the command &lt;code class="docutils literal"&gt;aos&lt;/code&gt; it started up and displayed a
window with A2 running in it.  (This requires X Windows, so you'll need
to install &lt;a class="reference external" href="https://www.xquartz.org/"&gt;XQuartz&lt;/a&gt; on macOS.)&lt;/p&gt;
&lt;p&gt;Here's a screen shot from macOS:&lt;/p&gt;
&lt;div class="figure"&gt;
&lt;img alt="Screenshot of A2 running under macOS" src="https://tkurtbond.github.io/a2-screenshot.png"&gt;
&lt;p class="caption"&gt;Screenshot of A2 running under macOS&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;It seems to work ok, both on macOS and Fedora, though I haven't
investigated very much.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Last edited: 2022-06-12 15:39:49 EDT&lt;/em&gt;&lt;/p&gt;
&lt;!-- Local Variables:
time-stamp-format: "%Y-%02m-%02d %02H:%02M:%02S %Z"
time-stamp-start: "\\*Last edited:[ \t]+\\\\?"
time-stamp-end: "\\*\\\\?\n"
time-stamp-line-limit: -20
End: --&gt;&lt;/div&gt;</summary>
    <category term="a2" label="a2"/>
    <category term="aos" label="aos"/>
    <category term="bluebottle" label="bluebottle"/>
    <category term="fedora" label="fedora"/>
    <category term="macos" label="macos"/>
    <category term="oberon" label="oberon"/>
    <category term="unix" label="unix"/>
  </entry>
  <entry>
    <title>The criticisms of Pascal in “Why Pascal is Not My Favorite Programming Language” applied to Oberon</title>
    <id>https://tkurtbond.github.io/posts/2022/06/05/the-criticisms-of-pascal-in-why-pascal-is-not-my-favorite-programming-language-applied-to-oberon/</id>
    <updated>2022-06-05T12:29:05-04:00</updated>
    <published>2022-06-05T12:29:05-04:00</published>
    <author>
      <name>T. Kurt Bond</name>
    </author>
    <link rel="alternate" type="text/html" href="https://tkurtbond.github.io/posts/2022/06/05/the-criticisms-of-pascal-in-why-pascal-is-not-my-favorite-programming-language-applied-to-oberon/"/>
    <summary type="html">&lt;div&gt;&lt;p&gt;I reread Brian W. Kernighan’s famous paper “Why Pascal is Not My
Favorite Programming Language”
(&lt;a class="reference external" href="https://www.cs.virginia.edu/~evans/cs655/readings/bwk-on-pascal.html"&gt;HTML&lt;/a&gt;,
&lt;a class="reference external" href="http://doc.cat-v.org/bell_labs/why_pascal/"&gt;PDF&lt;/a&gt;) to see if those or
similar criticisms can still be applied to the Oberon family of
languages,
&lt;a class="reference external" href="https://en.wikipedia.org/wiki/Oberon_(programming_language)"&gt;Oberon&lt;/a&gt;,
&lt;a class="reference external" href="https://en.wikipedia.org/wiki/Oberon-2"&gt;Oberon-2&lt;/a&gt;, and &lt;a class="reference external" href="https://people.inf.ethz.ch/wirth/Oberon/index.html"&gt;Revised
Oberon&lt;/a&gt;. I found
Oberon-2 to be particularly inspiring, but feel that both Oberon and
Oberon-2 lack some of the practical aspects that made C such a
revelation to me back in the 1980s when I first encountered it, after
having programmed mostly in various BASICs, 6502 machine code, VAX
MACRO, and Pascal.&lt;/p&gt;
&lt;p&gt;So, here are Kernighan’s summary, nine criticisms, along with my
comments.&lt;/p&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;&lt;p&gt;Since the size of an array is part of its type, it is not possible to
write general-purpose routines, that is, to deal with arrays of
different sizes. In particular, string handling is very difficult.&lt;/p&gt;
&lt;p&gt;This is still a problem in the original Oberon, but Oberon-2
introduced open arrays, which allows any size of array to be passed
to a procedure. While you can’t return arrays of arbitrary sizes from
a procedure, you can dynamically allocate any size array using
&lt;code class="docutils literal"&gt;POINTER TO ARRAY&lt;/code&gt; and &lt;code class="docutils literal"&gt;NEW&lt;/code&gt;, and return the pointer. Revised
Oberon adopted open arrays.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The lack of static variables, initialization and a way to communicate
non-hierarchically combine to destroy the “locality” of a program -
variables require much more scope than they ought to.&lt;/p&gt;
&lt;p&gt;This criticism still applies. None of the Oberon languages include
static variables or initialization.&lt;/p&gt;
&lt;p&gt;The lack of static variables is somewhat mitigated by the ability to
divide things up using modules, since the tendency is to create a
module for the shared variable and the procedures that depend on it,
but is still clumsy if the only thing you need is a static variable
in one procedure.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The one-pass nature of the language forces procedures and functions
to be presented in an unnatural order; the enforced separation of
various declarations scatters program components that logically
belong together.&lt;/p&gt;
&lt;p&gt;Oberon and Oberon-2 allow mixing &lt;code class="docutils literal"&gt;CONST&lt;/code&gt;, &lt;code class="docutils literal"&gt;TYPE&lt;/code&gt; and &lt;code class="docutils literal"&gt;VAR&lt;/code&gt;
declarations in any order and to appear multiple times, but still
requires procedure and forward procedure declarations to come after
all other declarations. In Revised Oberon &lt;code class="docutils literal"&gt;CONST&lt;/code&gt;, &lt;code class="docutils literal"&gt;TYPE&lt;/code&gt;, and
&lt;code class="docutils literal"&gt;VAR&lt;/code&gt; declarations must occur and in that order, followed by
procedure declarations, so the original criticism applies entirely
again.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The lack of separate compilation impedes the development of large
programs and makes the use of libraries impossible.&lt;/p&gt;
&lt;p&gt;Not a problem any more. All the Oberon languages use modules,
introduced in Modula. Arguably, this is much superior to C’s model of
separate compilation and using header files to ensure consistent
function declarations are consistent across files.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The order of logical expression evaluation cannot be controlled,
which leads to convoluted code and extraneous variables.&lt;/p&gt;
&lt;p&gt;This appears to not apply to the Oberon languages.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The ‘case’ statement is emasculated because there is no default
clause.&lt;/p&gt;
&lt;p&gt;Original Oberon and Oberon-2 both have &lt;code class="docutils literal"&gt;ELSE&lt;/code&gt; clauses for &lt;code class="docutils literal"&gt;CASE&lt;/code&gt;
statements. Revised Oberon does not.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The standard I/O is defective. There is no sensible provision for
dealing with files or program arguments as part of the standard
language, and no extension mechanism.&lt;/p&gt;
&lt;p&gt;IO in the Oberon family of languages is mostly defined by the
procedures provided in the &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Oberon_(operating_system)"&gt;Oberon
System&lt;/a&gt;,
the operating system written in Oberon (and later in Oberon-2). It
has good facilities for dealing with files, considered by some to be
a better API than the familiar Unix/C API, for the functionality it
provides.&lt;/p&gt;
&lt;p&gt;None of the Oberon languages provide a standard method for access
to program arguments in the Unix/C style, as the Oberon System used
entirely different mechanisms.  Those Oberon[-2] implementations
I've used outside of the Oberon System all provided some access to
the program arguments, usually as a procedure returns the number of
program arguments and another that returns a specific argument, but
none of them used the same API.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The language lacks most of the tools needed for assembling large
programs, most notably file inclusion.&lt;/p&gt;
&lt;p&gt;The addition of separately compiled modules that provide a defined
interface mostly obviates this criticism and is superior to the
kludge of separate complication and include files provided by C.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;There is no escape.&lt;/p&gt;
&lt;p&gt;All the Oberon languages include the module &lt;code class="docutils literal"&gt;SYSTEM&lt;/code&gt;, which
provides low level access to addresses of variables and to individual
bits of memory, along with bit manipulation of integers. Revised
Oberon adds access to sizes of types. Oberon and Oberon-2 provide a
&lt;code class="docutils literal"&gt;VAL&lt;/code&gt; function that allows interpreting a variable of one type as a
variable of another type. Revised Oberon does not.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;All the Oberon languages still have semicolon as separator instead of
semicolon as terminator.   I much prefer semicolon as terminator.&lt;/p&gt;
&lt;p&gt;All-in-all, I'm disappointed in Revised Oberon.  While I approve of a
few of its changes, most of them seem to be a definite step backward.
I think Wirth's minimalism does him a disservice here.&lt;/p&gt;&lt;/div&gt;</summary>
    <category term="c" label="c"/>
    <category term="oberon" label="oberon"/>
    <category term="oberon-system" label="oberon system"/>
    <category term="oberon-2" label="oberon-2"/>
    <category term="pascal" label="pascal"/>
    <category term="revised-oberon" label="revised oberon"/>
    <category term="unix" label="unix"/>
  </entry>
  <entry>
    <title>oo2c on Mac OS X Snow Leopard</title>
    <id>https://tkurtbond.github.io/posts/2009/11/19/oo2c-on-mac-os-x-snow-leopard/</id>
    <updated>2009-11-19T12:18:03-05:00</updated>
    <published>2009-11-19T12:18:03-05:00</published>
    <author>
      <name>T. Kurt Bond</name>
    </author>
    <link rel="alternate" type="text/html" href="https://tkurtbond.github.io/posts/2009/11/19/oo2c-on-mac-os-x-snow-leopard/"/>
    <summary type="html">&lt;div&gt;&lt;p&gt;It looks like I got &lt;a class="reference external" href="http://sourceforge.net/projects/ooc"&gt;oo2c&lt;/a&gt; to build and work under Mac OS X Snow
Leopard, with some stupid hacks, at least enough for my purposes.  I
don't claim that this is suitable for production work.&lt;/p&gt;
&lt;p&gt;Here's the &lt;span class="program"&gt;configure&lt;/span&gt; invocation I used:&lt;/p&gt;
&lt;pre class="literal-block"&gt;CFLAGS='-no-cpp-precomp -fnested-functions -I/opt/local/include' \
LDFLAGS='-L/opt/local/lib' \
    ./configure --prefix=/sw/versions/m64/oo2c/2.1.11 --disable-libs&lt;/pre&gt;
&lt;p&gt;Here's the &lt;a class="reference external" href="https://tkurtbond.github.io/oo2c-macosx-snow-leopard.patch"&gt;patch&lt;/a&gt;.&lt;/p&gt;&lt;/div&gt;</summary>
    <category term="mac-os-x" label="mac os x"/>
    <category term="oberon" label="oberon"/>
  </entry>
</feed>
