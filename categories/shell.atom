<?xml version='1.0' encoding='UTF-8'?>
<?xml-stylesheet href="https://tkurtbond.github.io/assets/xml/atom.xsl" type="text/xsl media="all"?>
<feed xml:lang="en" xmlns="http://www.w3.org/2005/Atom">
  <title>Lacking Natural Simplicity (Posts about shell)</title>
  <id>https://tkurtbond.github.io/categories/shell.atom</id>
  <updated>2024-01-23T18:49:40Z</updated>
  <author>
    <name>T. Kurt Bond</name>
  </author>
  <link rel="self" type="application/atom+xml" href="https://tkurtbond.github.io/categories/shell.atom"/>
  <link rel="alternate" type="text/html" href="https://tkurtbond.github.io/categories/shell/"/>
  <generator uri="https://getnikola.com/">Nikola</generator>
  <entry>
    <title>Sorting words separated by commas</title>
    <id>https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/</id>
    <updated>2021-07-16T13:05:09-04:00</updated>
    <published>2021-07-16T13:05:09-04:00</published>
    <author>
      <name>T. Kurt Bond</name>
    </author>
    <link rel="alternate" type="text/html" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/"/>
    <summary type="html">&lt;p&gt;I often have lists of "words", separated by commas, possibly on
multiple lines, like this example from a &lt;span class="file"&gt;Makefile&lt;/span&gt;:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code makefile"&gt;&lt;a id="rest_code_3f9e2296bd38445ca18cee60d98905a2-1" name="rest_code_3f9e2296bd38445ca18cee60d98905a2-1" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3f9e2296bd38445ca18cee60d98905a2-1"&gt;&lt;/a&gt;&lt;span class="c"&gt;#    bookman, schoolbook, palatino, times,&lt;/span&gt;
&lt;a id="rest_code_3f9e2296bd38445ca18cee60d98905a2-2" name="rest_code_3f9e2296bd38445ca18cee60d98905a2-2" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3f9e2296bd38445ca18cee60d98905a2-2"&gt;&lt;/a&gt;&lt;span class="c"&gt;#    helvetica, helvetica-narrow, optima, cormorant-garamond,&lt;/span&gt;
&lt;a id="rest_code_3f9e2296bd38445ca18cee60d98905a2-3" name="rest_code_3f9e2296bd38445ca18cee60d98905a2-3" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3f9e2296bd38445ca18cee60d98905a2-3"&gt;&lt;/a&gt;&lt;span class="c"&gt;#    or ebgaramond.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I find these lists are always getting out of order, or they end up
with some short lines and some long lines.  I want to be able to
reformat them automatically, like this:&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code makefile"&gt;&lt;a id="rest_code_60fb28c22cff4c09b245d4959c6fefbe-1" name="rest_code_60fb28c22cff4c09b245d4959c6fefbe-1" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_60fb28c22cff4c09b245d4959c6fefbe-1"&gt;&lt;/a&gt;&lt;span class="c"&gt;#    bookman, cormorant-garamond, ebgaramond, helvetica, helvetica-narrow,&lt;/span&gt;
&lt;a id="rest_code_60fb28c22cff4c09b245d4959c6fefbe-2" name="rest_code_60fb28c22cff4c09b245d4959c6fefbe-2" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_60fb28c22cff4c09b245d4959c6fefbe-2"&gt;&lt;/a&gt;&lt;span class="c"&gt;#    optima, palatino, schoolbook, or times.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So, I wrote three scripts to deal with them,
&lt;span class="command"&gt;sort-with-commas&lt;/span&gt;, &lt;span class="command"&gt;strip-leading-hash&lt;/span&gt; to get rid
of the leading hashes and spaces, and &lt;span class="command"&gt;prefix&lt;/span&gt; to put the
leading hashes and spaces back.&lt;/p&gt;
&lt;p&gt;Now, above I said "words", because really it's anything separated by
commas, so the "words" can contain space, etc.&lt;/p&gt;
&lt;p&gt;Also, notice that the period after "ebgaramond" and the "or" before
"ebgaramond"` in the original list disappear, and an "or " appears
before the new end of the list, "times", and a period follows it.  And
you can have have the same situation with "and".  So, the &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;-p&lt;/span&gt;&lt;/code&gt;
option to &lt;span class="command"&gt;sort-with-commas&lt;/span&gt; adds a period after the last
word, the &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;-a&lt;/span&gt;&lt;/code&gt; option adds and "and " before the last word, and the
&lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;-o&lt;/span&gt;&lt;/code&gt; option adds an "or " before the last word.  If you are sorting
only part of a list, you want to have a comma after the last "word",
so there is the option &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;-f&lt;/span&gt;&lt;/code&gt; for that.  And to remove the the period
from the original list, so it doesn't end up in the middle of the new
list, or to remove "and " or "or ", there is the &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;-r&lt;/span&gt;&lt;/code&gt; option.&lt;/p&gt;
&lt;p&gt;The default is to return the sorted list as one long line, but you can
easily reformat it to multiple lines by running it through the Unix
command &lt;span class="command"&gt;fmt&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Although in this case the list is prefixed with a "#" and some spaces
because it comes from a comment in a Makefile, you have to remove
those to sort the list.  I wrote the script
&lt;span class="command"&gt;strip-leading-hash&lt;/span&gt; to do that, too, rather than having to
remember the &lt;span class="command"&gt;sed&lt;/span&gt; command to so that all the time.&lt;/p&gt;
&lt;p&gt;So, to sort the original list I'd run the command&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code bash"&gt;&lt;a id="rest_code_b3f820ec80d945caa5ba409226e837bd-1" name="rest_code_b3f820ec80d945caa5ba409226e837bd-1" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_b3f820ec80d945caa5ba409226e837bd-1"&gt;&lt;/a&gt;strip-leading-hash&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;sort-with-commas&lt;span class="w"&gt; &lt;/span&gt;-r&lt;span class="w"&gt; &lt;/span&gt;-p&lt;span class="w"&gt; &lt;/span&gt;-o&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;fmt&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;prefix&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"#    "&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;which means “strip the leading hashes and spaces, remove the trailing
period and the "and " or "or ", add a final period after the last word,
add an "or " before the final word, reformat as a paragraph, and
prefix the lines with the hash and spaces.”&lt;/p&gt;
&lt;p&gt;When I use this I'm usually in &lt;span class="app"&gt;emacs&lt;/span&gt; and using &lt;span class="key"&gt;M-|&lt;/span&gt; to
run it on the region (the currently selected text), often with the
&lt;span class="key"&gt;C-u&lt;/span&gt; to replace the region with results.&lt;/p&gt;
&lt;p&gt;Here's the main script, &lt;span class="file"&gt;sort-with-commas&lt;/span&gt;:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://tkurtbond.github.io/listings/sort-with-commas.html"&gt;sort-with-commas&lt;/a&gt;  &lt;a class="reference external" href="https://tkurtbond.github.io/listings/sort-with-commas"&gt;(Source)&lt;/a&gt;&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code bash"&gt;&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-1" name="rest_code_3e180bb38dbc496e97037fca2aed9440-1" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-1"&gt;&lt;/a&gt;&lt;span class="ch"&gt;#! /usr/bin/env bash&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-2" name="rest_code_3e180bb38dbc496e97037fca2aed9440-2" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-2"&gt;&lt;/a&gt;&lt;span class="c1"&gt;###############################################################################&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-3" name="rest_code_3e180bb38dbc496e97037fca2aed9440-3" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-3"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# Sort a list of words that are seperated by commas, optionally followed by&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-4" name="rest_code_3e180bb38dbc496e97037fca2aed9440-4" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-4"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# a newline into a single line seperated by commas followed by spaces.&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-5" name="rest_code_3e180bb38dbc496e97037fca2aed9440-5" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-5"&gt;&lt;/a&gt;&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-6" name="rest_code_3e180bb38dbc496e97037fca2aed9440-6" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-6"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# For example: it translates (ignore the "# +" at the beginning of lines)&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-7" name="rest_code_3e180bb38dbc496e97037fca2aed9440-7" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-7"&gt;&lt;/a&gt;&lt;span class="c1"&gt;#    bookman, schoolbook,palatino,&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-8" name="rest_code_3e180bb38dbc496e97037fca2aed9440-8" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-8"&gt;&lt;/a&gt;&lt;span class="c1"&gt;#    times, helvetica, helvetica-narrow,&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-9" name="rest_code_3e180bb38dbc496e97037fca2aed9440-9" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-9"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# to&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-10" name="rest_code_3e180bb38dbc496e97037fca2aed9440-10" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-10"&gt;&lt;/a&gt;&lt;span class="c1"&gt;#    bookman, helvetica, helvetica-narrow, palatino, schoolbook, times&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-11" name="rest_code_3e180bb38dbc496e97037fca2aed9440-11" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-11"&gt;&lt;/a&gt;&lt;span class="c1"&gt;###############################################################################&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-12" name="rest_code_3e180bb38dbc496e97037fca2aed9440-12" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-12"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-13" name="rest_code_3e180bb38dbc496e97037fca2aed9440-13" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-13"&gt;&lt;/a&gt;&lt;span class="nv"&gt;AND_OPT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;off&lt;span class="w"&gt;                     &lt;/span&gt;&lt;span class="c1"&gt;# Insert "and " before last word.&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-14" name="rest_code_3e180bb38dbc496e97037fca2aed9440-14" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-14"&gt;&lt;/a&gt;&lt;span class="nv"&gt;FINAL_OPT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;off&lt;span class="w"&gt;                   &lt;/span&gt;&lt;span class="c1"&gt;# Leave "," after last word.&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-15" name="rest_code_3e180bb38dbc496e97037fca2aed9440-15" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-15"&gt;&lt;/a&gt;&lt;span class="nv"&gt;OR_OPT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;off&lt;span class="w"&gt;                      &lt;/span&gt;&lt;span class="c1"&gt;# Insert "or " before last word.&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-16" name="rest_code_3e180bb38dbc496e97037fca2aed9440-16" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-16"&gt;&lt;/a&gt;&lt;span class="nv"&gt;PERIOD_OPT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;off&lt;span class="w"&gt;                  &lt;/span&gt;&lt;span class="c1"&gt;# Insert a final period after last word.&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-17" name="rest_code_3e180bb38dbc496e97037fca2aed9440-17" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-17"&gt;&lt;/a&gt;&lt;span class="nv"&gt;REMOVE_AND_OR_PERIOD_OPT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;off
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-18" name="rest_code_3e180bb38dbc496e97037fca2aed9440-18" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-18"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-19" name="rest_code_3e180bb38dbc496e97037fca2aed9440-19" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-19"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-20" name="rest_code_3e180bb38dbc496e97037fca2aed9440-20" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-20"&gt;&lt;/a&gt;&lt;span class="nb"&gt;let&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;errors&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-21" name="rest_code_3e180bb38dbc496e97037fca2aed9440-21" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-21"&gt;&lt;/a&gt;&lt;span class="k"&gt;while&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;getopts&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"?afhopr"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;opt
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-22" name="rest_code_3e180bb38dbc496e97037fca2aed9440-22" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-22"&gt;&lt;/a&gt;&lt;span class="k"&gt;do&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-23" name="rest_code_3e180bb38dbc496e97037fca2aed9440-23" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-23"&gt;&lt;/a&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;case&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$opt&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-24" name="rest_code_3e180bb38dbc496e97037fca2aed9440-24" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-24"&gt;&lt;/a&gt;&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="se"&gt;\?&lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;h&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;let&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;errors++&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;;;&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-25" name="rest_code_3e180bb38dbc496e97037fca2aed9440-25" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-25"&gt;&lt;/a&gt;&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;a&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;AND_OPT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;on&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;;;&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-26" name="rest_code_3e180bb38dbc496e97037fca2aed9440-26" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-26"&gt;&lt;/a&gt;&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;f&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;FINAL_OPT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;on&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;;;&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-27" name="rest_code_3e180bb38dbc496e97037fca2aed9440-27" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-27"&gt;&lt;/a&gt;&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;o&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;OR_OPT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;on&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;;;&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-28" name="rest_code_3e180bb38dbc496e97037fca2aed9440-28" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-28"&gt;&lt;/a&gt;&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;p&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;PERIOD_OPT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;on&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;;;&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-29" name="rest_code_3e180bb38dbc496e97037fca2aed9440-29" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-29"&gt;&lt;/a&gt;&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;r&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;REMOVE_AND_OR_PERIOD_OPT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;on&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;;;&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-30" name="rest_code_3e180bb38dbc496e97037fca2aed9440-30" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-30"&gt;&lt;/a&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;esac&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-31" name="rest_code_3e180bb38dbc496e97037fca2aed9440-31" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-31"&gt;&lt;/a&gt;&lt;span class="k"&gt;done&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-32" name="rest_code_3e180bb38dbc496e97037fca2aed9440-32" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-32"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-33" name="rest_code_3e180bb38dbc496e97037fca2aed9440-33" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-33"&gt;&lt;/a&gt;&lt;span class="nb"&gt;shift&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;$((&lt;/span&gt;&lt;span class="nv"&gt;OPTIND&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="k"&gt;))&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-34" name="rest_code_3e180bb38dbc496e97037fca2aed9440-34" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-34"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-35" name="rest_code_3e180bb38dbc496e97037fca2aed9440-35" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-35"&gt;&lt;/a&gt;&lt;span class="o"&gt;[[&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$#&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;]]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;||&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[[&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nv"&gt;$errors&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&amp;gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;]]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-36" name="rest_code_3e180bb38dbc496e97037fca2aed9440-36" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-36"&gt;&lt;/a&gt;&lt;span class="w"&gt;    &lt;/span&gt;cat&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;lt;&amp;lt;EOF&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-37" name="rest_code_3e180bb38dbc496e97037fca2aed9440-37" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-37"&gt;&lt;/a&gt;&lt;span class="s"&gt;usage: sort-with-commas [OPTION]&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-38" name="rest_code_3e180bb38dbc496e97037fca2aed9440-38" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-38"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-39" name="rest_code_3e180bb38dbc496e97037fca2aed9440-39" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-39"&gt;&lt;/a&gt;&lt;span class="s"&gt;This reads its standard input and sorts a line or multiple lines with&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-40" name="rest_code_3e180bb38dbc496e97037fca2aed9440-40" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-40"&gt;&lt;/a&gt;&lt;span class="s"&gt;"words" separated by commas, then reassembles the line, words&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-41" name="rest_code_3e180bb38dbc496e97037fca2aed9440-41" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-41"&gt;&lt;/a&gt;&lt;span class="s"&gt;separated by a comma and s space, optionally leaving a final comma&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-42" name="rest_code_3e180bb38dbc496e97037fca2aed9440-42" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-42"&gt;&lt;/a&gt;&lt;span class="s"&gt;after the last word, or a period, and optionally putting "and " or "or&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-43" name="rest_code_3e180bb38dbc496e97037fca2aed9440-43" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-43"&gt;&lt;/a&gt;&lt;span class="s"&gt;" before the last word.&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-44" name="rest_code_3e180bb38dbc496e97037fca2aed9440-44" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-44"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-45" name="rest_code_3e180bb38dbc496e97037fca2aed9440-45" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-45"&gt;&lt;/a&gt;&lt;span class="s"&gt;Options&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-46" name="rest_code_3e180bb38dbc496e97037fca2aed9440-46" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-46"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-47" name="rest_code_3e180bb38dbc496e97037fca2aed9440-47" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-47"&gt;&lt;/a&gt;&lt;span class="s"&gt;-? -h   This message.&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-48" name="rest_code_3e180bb38dbc496e97037fca2aed9440-48" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-48"&gt;&lt;/a&gt;&lt;span class="s"&gt;-a      Insert "and " before last word.&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-49" name="rest_code_3e180bb38dbc496e97037fca2aed9440-49" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-49"&gt;&lt;/a&gt;&lt;span class="s"&gt;-f      Leave final comma after last word.&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-50" name="rest_code_3e180bb38dbc496e97037fca2aed9440-50" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-50"&gt;&lt;/a&gt;&lt;span class="s"&gt;-o      Insert "or " before last word.&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-51" name="rest_code_3e180bb38dbc496e97037fca2aed9440-51" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-51"&gt;&lt;/a&gt;&lt;span class="s"&gt;-p      Insert a period after the last word.&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-52" name="rest_code_3e180bb38dbc496e97037fca2aed9440-52" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-52"&gt;&lt;/a&gt;&lt;span class="s"&gt;-r      Remove "and " or "or " that occur at the beginning of a "word" in the&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-53" name="rest_code_3e180bb38dbc496e97037fca2aed9440-53" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-53"&gt;&lt;/a&gt;&lt;span class="s"&gt;        original list.&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-54" name="rest_code_3e180bb38dbc496e97037fca2aed9440-54" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-54"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-55" name="rest_code_3e180bb38dbc496e97037fca2aed9440-55" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-55"&gt;&lt;/a&gt;&lt;span class="s"&gt;Note that combining -a and -o, or -f and -p do what you say, but the results&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-56" name="rest_code_3e180bb38dbc496e97037fca2aed9440-56" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-56"&gt;&lt;/a&gt;&lt;span class="s"&gt;are silly.&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-57" name="rest_code_3e180bb38dbc496e97037fca2aed9440-57" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-57"&gt;&lt;/a&gt;&lt;span class="s"&gt;EOF&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-58" name="rest_code_3e180bb38dbc496e97037fca2aed9440-58" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-58"&gt;&lt;/a&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nb"&gt;exit&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-59" name="rest_code_3e180bb38dbc496e97037fca2aed9440-59" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-59"&gt;&lt;/a&gt;&lt;span class="o"&gt;}&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-60" name="rest_code_3e180bb38dbc496e97037fca2aed9440-60" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-60"&gt;&lt;/a&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-61" name="rest_code_3e180bb38dbc496e97037fca2aed9440-61" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-61"&gt;&lt;/a&gt;tr&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;','&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;'\n'&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;sed&lt;span class="w"&gt; &lt;/span&gt;-E&lt;span class="w"&gt; &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;'s/^[ \t]+//'&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;'/^$/d'&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-62" name="rest_code_3e180bb38dbc496e97037fca2aed9440-62" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-62"&gt;&lt;/a&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="o"&gt;([[&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$REMOVE_AND_OR_PERIOD_OPT&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"on"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;]]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-63" name="rest_code_3e180bb38dbc496e97037fca2aed9440-63" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-63"&gt;&lt;/a&gt;&lt;span class="w"&gt;         &lt;/span&gt;sed&lt;span class="w"&gt; &lt;/span&gt;-E&lt;span class="w"&gt; &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;'s/^(and|or)[ \t]+//'&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;'s/\.[ \t]*$//'&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;||&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;cat&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-64" name="rest_code_3e180bb38dbc496e97037fca2aed9440-64" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-64"&gt;&lt;/a&gt;&lt;span class="w"&gt;    &lt;/span&gt;sort&lt;span class="w"&gt; &lt;/span&gt;-u&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-65" name="rest_code_3e180bb38dbc496e97037fca2aed9440-65" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-65"&gt;&lt;/a&gt;&lt;span class="w"&gt;    &lt;/span&gt;sed&lt;span class="w"&gt; &lt;/span&gt;-E&lt;span class="w"&gt; &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;'s/$/,/'&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-66" name="rest_code_3e180bb38dbc496e97037fca2aed9440-66" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-66"&gt;&lt;/a&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[[&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$AND_OPT&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"on"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;]]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;then&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;sed&lt;span class="w"&gt; &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;'$s/^/and /'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;cat&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;fi&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-67" name="rest_code_3e180bb38dbc496e97037fca2aed9440-67" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-67"&gt;&lt;/a&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[[&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$FINAL_OPT&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"on"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;]]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;then&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;cat&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;sed&lt;span class="w"&gt; &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;'$s/,//'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;fi&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-68" name="rest_code_3e180bb38dbc496e97037fca2aed9440-68" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-68"&gt;&lt;/a&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[[&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$OR_OPT&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"on"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;]]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;then&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;sed&lt;span class="w"&gt; &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;'$s/^/or /'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;cat&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;fi&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-69" name="rest_code_3e180bb38dbc496e97037fca2aed9440-69" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-69"&gt;&lt;/a&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;[[&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$PERIOD_OPT&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"on"&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;]]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;then&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;sed&lt;span class="w"&gt; &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;'$s/$/./'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;cat&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;fi&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;
&lt;a id="rest_code_3e180bb38dbc496e97037fca2aed9440-70" name="rest_code_3e180bb38dbc496e97037fca2aed9440-70" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_3e180bb38dbc496e97037fca2aed9440-70"&gt;&lt;/a&gt;&lt;span class="w"&gt;    &lt;/span&gt;tr&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;'\n'&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;' '&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;sed&lt;span class="w"&gt; &lt;/span&gt;-E&lt;span class="w"&gt; &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;'s/[ ]$//'&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Here's &lt;span class="file"&gt;strip-leading-hash&lt;/span&gt;:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://tkurtbond.github.io/listings/strip-leading-hash.html"&gt;strip-leading-hash&lt;/a&gt;  &lt;a class="reference external" href="https://tkurtbond.github.io/listings/strip-leading-hash"&gt;(Source)&lt;/a&gt;&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code bash"&gt;&lt;a id="rest_code_84c1bc3f92c543fea38dda13fbcf8f3e-1" name="rest_code_84c1bc3f92c543fea38dda13fbcf8f3e-1" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_84c1bc3f92c543fea38dda13fbcf8f3e-1"&gt;&lt;/a&gt;&lt;span class="ch"&gt;#! /usr/bin/env bash&lt;/span&gt;
&lt;a id="rest_code_84c1bc3f92c543fea38dda13fbcf8f3e-2" name="rest_code_84c1bc3f92c543fea38dda13fbcf8f3e-2" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_84c1bc3f92c543fea38dda13fbcf8f3e-2"&gt;&lt;/a&gt;
&lt;a id="rest_code_84c1bc3f92c543fea38dda13fbcf8f3e-3" name="rest_code_84c1bc3f92c543fea38dda13fbcf8f3e-3" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_84c1bc3f92c543fea38dda13fbcf8f3e-3"&gt;&lt;/a&gt;sed&lt;span class="w"&gt; &lt;/span&gt;-E&lt;span class="w"&gt; &lt;/span&gt;-e&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;'s/^#[ \t]*//'&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And here's &lt;span class="file"&gt;prefix&lt;/span&gt;:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://tkurtbond.github.io/listings/prefix.html"&gt;prefix&lt;/a&gt;  &lt;a class="reference external" href="https://tkurtbond.github.io/listings/prefix"&gt;(Source)&lt;/a&gt;&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code bash"&gt;&lt;a id="rest_code_8a4e0ab08ed04bb5b0bff8f691b9140c-1" name="rest_code_8a4e0ab08ed04bb5b0bff8f691b9140c-1" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_8a4e0ab08ed04bb5b0bff8f691b9140c-1"&gt;&lt;/a&gt;&lt;span class="ch"&gt;#! /usr/bin/env bash&lt;/span&gt;
&lt;a id="rest_code_8a4e0ab08ed04bb5b0bff8f691b9140c-2" name="rest_code_8a4e0ab08ed04bb5b0bff8f691b9140c-2" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_8a4e0ab08ed04bb5b0bff8f691b9140c-2"&gt;&lt;/a&gt;
&lt;a id="rest_code_8a4e0ab08ed04bb5b0bff8f691b9140c-3" name="rest_code_8a4e0ab08ed04bb5b0bff8f691b9140c-3" href="https://tkurtbond.github.io/posts/2021/07/16/sorting-words-separated-by-commas/#rest_code_8a4e0ab08ed04bb5b0bff8f691b9140c-3"&gt;&lt;/a&gt;sed&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"s/^/&lt;/span&gt;&lt;span class="nv"&gt;$1&lt;/span&gt;&lt;span class="s2"&gt;/"&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary>
    <category term="bash" label="bash"/>
    <category term="emacs" label="emacs"/>
    <category term="script" label="script"/>
    <category term="shell" label="shell"/>
  </entry>
</feed>
