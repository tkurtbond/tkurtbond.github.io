<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Lacking Natural Simplicity (Posts about groff)</title><link>https://tkurtbond.github.io/</link><description></description><atom:link href="https://tkurtbond.github.io/categories/groff.xml" rel="self" type="application/rss+xml"></atom:link><language>en</language><copyright>Contents © 2021 &lt;a href="mailto:tkurtbond@gmail.com"&gt;T. Kurt Bond&lt;/a&gt; </copyright><lastBuildDate>Tue, 20 Jul 2021 03:09:12 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>install-font.sh - The simple approach</title><link>https://tkurtbond.github.io/posts/2021/07/17/install-fontsh-the-simple-approach/</link><dc:creator>T. Kurt Bond</dc:creator><description>&lt;div&gt;&lt;p&gt;The simple approach to using &lt;a class="reference external" href="https://www.schaffter.ca/mom/mom-05.html#install-font"&gt;install-font.sh&lt;/a&gt; to install
fonts for &lt;span class="app"&gt;groff&lt;/span&gt; probably works for almost everybody: call the
command with one argument, the font file, and answer the prompts.
This will install the fonts for &lt;span class="app"&gt;groff&lt;/span&gt;'s use under
&lt;span class="file"&gt;/usr/local/share/groff/site-font&lt;/span&gt;, creating the directories if
necessary.  For instance:&lt;/p&gt;
&lt;pre class="code text"&gt;&lt;a id="rest_code_3eb3543f07a0470b958304db3ce8f4c1-1" name="rest_code_3eb3543f07a0470b958304db3ce8f4c1-1"&gt;&lt;/a&gt;$ install-font.sh Lora-Regular.ttf
&lt;/pre&gt;&lt;p&gt;will install the Regular variant of the font.&lt;/p&gt;
&lt;p&gt;The only prompt where you need to do something other than accept the
default is the prompt for the style.  For &lt;span class="file"&gt;Lora-Regular&lt;/span&gt; you'd
specify &lt;code class="docutils literal"&gt;+R&lt;/code&gt;.  For italic, bold, and bold italic, the other
traditional &lt;span class="app"&gt;troff&lt;/span&gt; font styles, you'd specify &lt;code class="docutils literal"&gt;+I&lt;/code&gt;, &lt;code class="docutils literal"&gt;+B&lt;/code&gt;,
and &lt;code class="docutils literal"&gt;+BI&lt;/code&gt;.  One thing to notice is that in the walk-through below
the prompt for the style mentions &lt;code class="docutils literal"&gt;+BD&lt;/code&gt; rather than &lt;code class="docutils literal"&gt;+B&lt;/code&gt; for bold.
This means you have an older version of &lt;span class="command"&gt;install-font.sh&lt;/span&gt;,
but you should still specify &lt;code class="docutils literal"&gt;+B&lt;/code&gt; for bold.  (This should be fixed
in a newer version of &lt;span class="command"&gt;install-font.sh&lt;/span&gt;.)&lt;/p&gt;
&lt;p&gt;Here's a walk-through of installing the &lt;a class="reference external" href="https://fonts.google.com/specimen/Lora"&gt;Lora&lt;/a&gt; font, assuming that
&lt;span class="command"&gt;install-font.sh&lt;/span&gt; is in your path.  (If your
&lt;span class="file"&gt;/usr/local/share/groff&lt;/span&gt; directory isn't writable for you, you
should prefix the command with &lt;code class="docutils literal"&gt;sudo&lt;/code&gt;.)&lt;/p&gt;
&lt;pre class="code text"&gt;&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-1" name="rest_code_3f9e15261d6948f6b8c803d2de977130-1"&gt;&lt;/a&gt;$ install-font.sh Lora-Regular.ttf
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-2" name="rest_code_3f9e15261d6948f6b8c803d2de977130-2"&gt;&lt;/a&gt;/usr/local/share/groff/site-font not found; creating.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-3" name="rest_code_3f9e15261d6948f6b8c803d2de977130-3"&gt;&lt;/a&gt;/usr/local/share/groff/site-font/devps not found; creating.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-4" name="rest_code_3f9e15261d6948f6b8c803d2de977130-4"&gt;&lt;/a&gt;/usr/local/share/groff/site-font/devpdf not found; creating.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-5" name="rest_code_3f9e15261d6948f6b8c803d2de977130-5"&gt;&lt;/a&gt;Processing Lora-Regular.ttf...
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-6" name="rest_code_3f9e15261d6948f6b8c803d2de977130-6"&gt;&lt;/a&gt;Running fontforge...
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-7" name="rest_code_3f9e15261d6948f6b8c803d2de977130-7"&gt;&lt;/a&gt;Copyright (c) 2000-2020. See AUTHORS for Contributors.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-8" name="rest_code_3f9e15261d6948f6b8c803d2de977130-8"&gt;&lt;/a&gt; License GPLv3+: GNU GPL version 3 or later &amp;lt;http://gnu.org/licenses/gpl.html&amp;gt;
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-9" name="rest_code_3f9e15261d6948f6b8c803d2de977130-9"&gt;&lt;/a&gt; with many parts BSD &amp;lt;http://fontforge.org/license.html&amp;gt;. Please read LICENSE.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-10" name="rest_code_3f9e15261d6948f6b8c803d2de977130-10"&gt;&lt;/a&gt; Version: 20201107
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-11" name="rest_code_3f9e15261d6948f6b8c803d2de977130-11"&gt;&lt;/a&gt; Based on sources from 2020-11-16 19:11 UTC-D.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-12" name="rest_code_3f9e15261d6948f6b8c803d2de977130-12"&gt;&lt;/a&gt;The following table(s) in the font have been ignored by FontForge
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-13" name="rest_code_3f9e15261d6948f6b8c803d2de977130-13"&gt;&lt;/a&gt;  Ignoring 'STAT' style attributes table
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-14" name="rest_code_3f9e15261d6948f6b8c803d2de977130-14"&gt;&lt;/a&gt;Done.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-15" name="rest_code_3f9e15261d6948f6b8c803d2de977130-15"&gt;&lt;/a&gt;Family name (default = Lora):
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-16" name="rest_code_3f9e15261d6948f6b8c803d2de977130-16"&gt;&lt;/a&gt;  =&amp;gt;Lora-Regular (Lora-Regular.ttf) assigned to family 'Lora'.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-17" name="rest_code_3f9e15261d6948f6b8c803d2de977130-17"&gt;&lt;/a&gt;Enter +STYLE (eg +R, +I, +BD, +BI), or a unique groff name for Lora-Regular.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-18" name="rest_code_3f9e15261d6948f6b8c803d2de977130-18"&gt;&lt;/a&gt;Leave blank to set name to 'Lora-Regular': +R
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-19" name="rest_code_3f9e15261d6948f6b8c803d2de977130-19"&gt;&lt;/a&gt;  =&amp;gt;Lora-Regular assigned groff fontname 'LoraR'.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-20" name="rest_code_3f9e15261d6948f6b8c803d2de977130-20"&gt;&lt;/a&gt;Creating LoraR...
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-21" name="rest_code_3f9e15261d6948f6b8c803d2de977130-21"&gt;&lt;/a&gt;both uni03BC and uni00B5 map to mc at /usr/local/bin/afmtodit line 6411.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-22" name="rest_code_3f9e15261d6948f6b8c803d2de977130-22"&gt;&lt;/a&gt;Done.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-23" name="rest_code_3f9e15261d6948f6b8c803d2de977130-23"&gt;&lt;/a&gt;Installing LoraR in /usr/local/share/groff/site-font/devps/... Done.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-24" name="rest_code_3f9e15261d6948f6b8c803d2de977130-24"&gt;&lt;/a&gt;Make LoraR available to gropdf? (y/n; default = y)
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-25" name="rest_code_3f9e15261d6948f6b8c803d2de977130-25"&gt;&lt;/a&gt;Checking for gropdf executable and devpdf directory... gropdf found.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-26" name="rest_code_3f9e15261d6948f6b8c803d2de977130-26"&gt;&lt;/a&gt;Installing LoraR in /usr/local/share/groff/site-font/devpdf/... Done.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-27" name="rest_code_3f9e15261d6948f6b8c803d2de977130-27"&gt;&lt;/a&gt;Copy Lora-Regular.ttf to /usr/local/share/fonts/truetype/Lora/
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-28" name="rest_code_3f9e15261d6948f6b8c803d2de977130-28"&gt;&lt;/a&gt;  (y/n; default = n)
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-29" name="rest_code_3f9e15261d6948f6b8c803d2de977130-29"&gt;&lt;/a&gt;Install Lora-Regular.ttf manually to make it available system-wide.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-30" name="rest_code_3f9e15261d6948f6b8c803d2de977130-30"&gt;&lt;/a&gt;
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-31" name="rest_code_3f9e15261d6948f6b8c803d2de977130-31"&gt;&lt;/a&gt;$ install-font.sh Lora-Italic.ttf
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-32" name="rest_code_3f9e15261d6948f6b8c803d2de977130-32"&gt;&lt;/a&gt;Processing Lora-Italic.ttf...
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-33" name="rest_code_3f9e15261d6948f6b8c803d2de977130-33"&gt;&lt;/a&gt;Running fontforge...
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-34" name="rest_code_3f9e15261d6948f6b8c803d2de977130-34"&gt;&lt;/a&gt;Copyright (c) 2000-2020. See AUTHORS for Contributors.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-35" name="rest_code_3f9e15261d6948f6b8c803d2de977130-35"&gt;&lt;/a&gt; License GPLv3+: GNU GPL version 3 or later &amp;lt;http://gnu.org/licenses/gpl.html&amp;gt;
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-36" name="rest_code_3f9e15261d6948f6b8c803d2de977130-36"&gt;&lt;/a&gt; with many parts BSD &amp;lt;http://fontforge.org/license.html&amp;gt;. Please read LICENSE.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-37" name="rest_code_3f9e15261d6948f6b8c803d2de977130-37"&gt;&lt;/a&gt; Version: 20201107
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-38" name="rest_code_3f9e15261d6948f6b8c803d2de977130-38"&gt;&lt;/a&gt; Based on sources from 2020-11-16 19:11 UTC-D.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-39" name="rest_code_3f9e15261d6948f6b8c803d2de977130-39"&gt;&lt;/a&gt;The following table(s) in the font have been ignored by FontForge
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-40" name="rest_code_3f9e15261d6948f6b8c803d2de977130-40"&gt;&lt;/a&gt;  Ignoring 'STAT' style attributes table
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-41" name="rest_code_3f9e15261d6948f6b8c803d2de977130-41"&gt;&lt;/a&gt;Done.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-42" name="rest_code_3f9e15261d6948f6b8c803d2de977130-42"&gt;&lt;/a&gt;Family name (default = Lora):
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-43" name="rest_code_3f9e15261d6948f6b8c803d2de977130-43"&gt;&lt;/a&gt;  =&amp;gt;Lora-Italic (Lora-Italic.ttf) assigned to family 'Lora'.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-44" name="rest_code_3f9e15261d6948f6b8c803d2de977130-44"&gt;&lt;/a&gt;Enter +STYLE (eg +R, +I, +BD, +BI), or a unique groff name for Lora-Italic.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-45" name="rest_code_3f9e15261d6948f6b8c803d2de977130-45"&gt;&lt;/a&gt;Leave blank to set name to 'Lora-Italic': +I
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-46" name="rest_code_3f9e15261d6948f6b8c803d2de977130-46"&gt;&lt;/a&gt;  =&amp;gt;Lora-Italic assigned groff fontname 'LoraI'.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-47" name="rest_code_3f9e15261d6948f6b8c803d2de977130-47"&gt;&lt;/a&gt;Creating LoraI...
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-48" name="rest_code_3f9e15261d6948f6b8c803d2de977130-48"&gt;&lt;/a&gt;both uni03BC and uni00B5 map to mc at /usr/local/bin/afmtodit line 6411.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-49" name="rest_code_3f9e15261d6948f6b8c803d2de977130-49"&gt;&lt;/a&gt;Done.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-50" name="rest_code_3f9e15261d6948f6b8c803d2de977130-50"&gt;&lt;/a&gt;Installing LoraI in /usr/local/share/groff/site-font/devps/... Done.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-51" name="rest_code_3f9e15261d6948f6b8c803d2de977130-51"&gt;&lt;/a&gt;Make LoraI available to gropdf? (y/n; default = y)
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-52" name="rest_code_3f9e15261d6948f6b8c803d2de977130-52"&gt;&lt;/a&gt;Checking for gropdf executable and devpdf directory... gropdf found.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-53" name="rest_code_3f9e15261d6948f6b8c803d2de977130-53"&gt;&lt;/a&gt;Installing LoraI in /usr/local/share/groff/site-font/devpdf/... Done.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-54" name="rest_code_3f9e15261d6948f6b8c803d2de977130-54"&gt;&lt;/a&gt;Copy Lora-Italic.ttf to /usr/local/share/fonts/truetype/Lora/
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-55" name="rest_code_3f9e15261d6948f6b8c803d2de977130-55"&gt;&lt;/a&gt;  (y/n; default = n)
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-56" name="rest_code_3f9e15261d6948f6b8c803d2de977130-56"&gt;&lt;/a&gt;Install Lora-Italic.ttf manually to make it available system-wide.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-57" name="rest_code_3f9e15261d6948f6b8c803d2de977130-57"&gt;&lt;/a&gt;
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-58" name="rest_code_3f9e15261d6948f6b8c803d2de977130-58"&gt;&lt;/a&gt;$ install-font.sh Lora-Bold.ttf
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-59" name="rest_code_3f9e15261d6948f6b8c803d2de977130-59"&gt;&lt;/a&gt;Processing Lora-Bold.ttf...
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-60" name="rest_code_3f9e15261d6948f6b8c803d2de977130-60"&gt;&lt;/a&gt;Running fontforge...
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-61" name="rest_code_3f9e15261d6948f6b8c803d2de977130-61"&gt;&lt;/a&gt;Copyright (c) 2000-2020. See AUTHORS for Contributors.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-62" name="rest_code_3f9e15261d6948f6b8c803d2de977130-62"&gt;&lt;/a&gt; License GPLv3+: GNU GPL version 3 or later &amp;lt;http://gnu.org/licenses/gpl.html&amp;gt;
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-63" name="rest_code_3f9e15261d6948f6b8c803d2de977130-63"&gt;&lt;/a&gt; with many parts BSD &amp;lt;http://fontforge.org/license.html&amp;gt;. Please read LICENSE.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-64" name="rest_code_3f9e15261d6948f6b8c803d2de977130-64"&gt;&lt;/a&gt; Version: 20201107
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-65" name="rest_code_3f9e15261d6948f6b8c803d2de977130-65"&gt;&lt;/a&gt; Based on sources from 2020-11-16 19:11 UTC-D.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-66" name="rest_code_3f9e15261d6948f6b8c803d2de977130-66"&gt;&lt;/a&gt;The following table(s) in the font have been ignored by FontForge
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-67" name="rest_code_3f9e15261d6948f6b8c803d2de977130-67"&gt;&lt;/a&gt;  Ignoring 'STAT' style attributes table
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-68" name="rest_code_3f9e15261d6948f6b8c803d2de977130-68"&gt;&lt;/a&gt;Glyph bounding box data exceeds font bounding box data for GID 4
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-69" name="rest_code_3f9e15261d6948f6b8c803d2de977130-69"&gt;&lt;/a&gt;  Subsequent errors will not be reported.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-70" name="rest_code_3f9e15261d6948f6b8c803d2de977130-70"&gt;&lt;/a&gt;In GID 769 the advance width (1316) is greater than the stated maximum (1291)
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-71" name="rest_code_3f9e15261d6948f6b8c803d2de977130-71"&gt;&lt;/a&gt;  Subsequent errors will not be reported.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-72" name="rest_code_3f9e15261d6948f6b8c803d2de977130-72"&gt;&lt;/a&gt;Done.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-73" name="rest_code_3f9e15261d6948f6b8c803d2de977130-73"&gt;&lt;/a&gt;Family name (default = Lora):
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-74" name="rest_code_3f9e15261d6948f6b8c803d2de977130-74"&gt;&lt;/a&gt;  =&amp;gt;Lora-Bold (Lora-Bold.ttf) assigned to family 'Lora'.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-75" name="rest_code_3f9e15261d6948f6b8c803d2de977130-75"&gt;&lt;/a&gt;Enter +STYLE (eg +R, +I, +BD, +BI), or a unique groff name for Lora-Bold.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-76" name="rest_code_3f9e15261d6948f6b8c803d2de977130-76"&gt;&lt;/a&gt;Leave blank to set name to 'Lora-Bold': +B
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-77" name="rest_code_3f9e15261d6948f6b8c803d2de977130-77"&gt;&lt;/a&gt;  =&amp;gt;Lora-Bold assigned groff fontname 'LoraB'.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-78" name="rest_code_3f9e15261d6948f6b8c803d2de977130-78"&gt;&lt;/a&gt;Creating LoraB...
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-79" name="rest_code_3f9e15261d6948f6b8c803d2de977130-79"&gt;&lt;/a&gt;both uni00B5 and uni03BC map to mc at /usr/local/bin/afmtodit line 6411.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-80" name="rest_code_3f9e15261d6948f6b8c803d2de977130-80"&gt;&lt;/a&gt;Done.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-81" name="rest_code_3f9e15261d6948f6b8c803d2de977130-81"&gt;&lt;/a&gt;Installing LoraB in /usr/local/share/groff/site-font/devps/... Done.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-82" name="rest_code_3f9e15261d6948f6b8c803d2de977130-82"&gt;&lt;/a&gt;Make LoraB available to gropdf? (y/n; default = y)
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-83" name="rest_code_3f9e15261d6948f6b8c803d2de977130-83"&gt;&lt;/a&gt;Checking for gropdf executable and devpdf directory... gropdf found.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-84" name="rest_code_3f9e15261d6948f6b8c803d2de977130-84"&gt;&lt;/a&gt;Installing LoraB in /usr/local/share/groff/site-font/devpdf/... Done.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-85" name="rest_code_3f9e15261d6948f6b8c803d2de977130-85"&gt;&lt;/a&gt;Copy Lora-Bold.ttf to /usr/local/share/fonts/truetype/Lora/
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-86" name="rest_code_3f9e15261d6948f6b8c803d2de977130-86"&gt;&lt;/a&gt;  (y/n; default = n)
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-87" name="rest_code_3f9e15261d6948f6b8c803d2de977130-87"&gt;&lt;/a&gt;Install Lora-Bold.ttf manually to make it available system-wide.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-88" name="rest_code_3f9e15261d6948f6b8c803d2de977130-88"&gt;&lt;/a&gt;
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-89" name="rest_code_3f9e15261d6948f6b8c803d2de977130-89"&gt;&lt;/a&gt;$ install-font.sh Lora-BoldItalic.ttf
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-90" name="rest_code_3f9e15261d6948f6b8c803d2de977130-90"&gt;&lt;/a&gt;Processing Lora-BoldItalic.ttf...
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-91" name="rest_code_3f9e15261d6948f6b8c803d2de977130-91"&gt;&lt;/a&gt;Running fontforge...
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-92" name="rest_code_3f9e15261d6948f6b8c803d2de977130-92"&gt;&lt;/a&gt;Copyright (c) 2000-2020. See AUTHORS for Contributors.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-93" name="rest_code_3f9e15261d6948f6b8c803d2de977130-93"&gt;&lt;/a&gt; License GPLv3+: GNU GPL version 3 or later &amp;lt;http://gnu.org/licenses/gpl.html&amp;gt;
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-94" name="rest_code_3f9e15261d6948f6b8c803d2de977130-94"&gt;&lt;/a&gt; with many parts BSD &amp;lt;http://fontforge.org/license.html&amp;gt;. Please read LICENSE.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-95" name="rest_code_3f9e15261d6948f6b8c803d2de977130-95"&gt;&lt;/a&gt; Version: 20201107
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-96" name="rest_code_3f9e15261d6948f6b8c803d2de977130-96"&gt;&lt;/a&gt; Based on sources from 2020-11-16 19:11 UTC-D.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-97" name="rest_code_3f9e15261d6948f6b8c803d2de977130-97"&gt;&lt;/a&gt;The following table(s) in the font have been ignored by FontForge
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-98" name="rest_code_3f9e15261d6948f6b8c803d2de977130-98"&gt;&lt;/a&gt;  Ignoring 'STAT' style attributes table
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-99" name="rest_code_3f9e15261d6948f6b8c803d2de977130-99"&gt;&lt;/a&gt;Glyph bounding box data exceeds font bounding box data for GID 4
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-100" name="rest_code_3f9e15261d6948f6b8c803d2de977130-100"&gt;&lt;/a&gt;  Subsequent errors will not be reported.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-101" name="rest_code_3f9e15261d6948f6b8c803d2de977130-101"&gt;&lt;/a&gt;In GID 776 the advance width (1297) is greater than the stated maximum (1273)
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-102" name="rest_code_3f9e15261d6948f6b8c803d2de977130-102"&gt;&lt;/a&gt;  Subsequent errors will not be reported.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-103" name="rest_code_3f9e15261d6948f6b8c803d2de977130-103"&gt;&lt;/a&gt;Done.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-104" name="rest_code_3f9e15261d6948f6b8c803d2de977130-104"&gt;&lt;/a&gt;Family name (default = Lora):
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-105" name="rest_code_3f9e15261d6948f6b8c803d2de977130-105"&gt;&lt;/a&gt;  =&amp;gt;Lora-BoldItalic (Lora-BoldItalic.ttf) assigned to family 'Lora'.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-106" name="rest_code_3f9e15261d6948f6b8c803d2de977130-106"&gt;&lt;/a&gt;Enter +STYLE (eg +R, +I, +BD, +BI), or a unique groff name for Lora-BoldItalic.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-107" name="rest_code_3f9e15261d6948f6b8c803d2de977130-107"&gt;&lt;/a&gt;Leave blank to set name to 'Lora-BoldItalic': +BI
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-108" name="rest_code_3f9e15261d6948f6b8c803d2de977130-108"&gt;&lt;/a&gt;  =&amp;gt;Lora-BoldItalic assigned groff fontname 'LoraBI'.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-109" name="rest_code_3f9e15261d6948f6b8c803d2de977130-109"&gt;&lt;/a&gt;Creating LoraBI...
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-110" name="rest_code_3f9e15261d6948f6b8c803d2de977130-110"&gt;&lt;/a&gt;both uni03BC and uni00B5 map to mc at /usr/local/bin/afmtodit line 6411.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-111" name="rest_code_3f9e15261d6948f6b8c803d2de977130-111"&gt;&lt;/a&gt;Done.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-112" name="rest_code_3f9e15261d6948f6b8c803d2de977130-112"&gt;&lt;/a&gt;Installing LoraBI in /usr/local/share/groff/site-font/devps/... Done.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-113" name="rest_code_3f9e15261d6948f6b8c803d2de977130-113"&gt;&lt;/a&gt;Make LoraBI available to gropdf? (y/n; default = y)
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-114" name="rest_code_3f9e15261d6948f6b8c803d2de977130-114"&gt;&lt;/a&gt;Checking for gropdf executable and devpdf directory... gropdf found.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-115" name="rest_code_3f9e15261d6948f6b8c803d2de977130-115"&gt;&lt;/a&gt;Installing LoraBI in /usr/local/share/groff/site-font/devpdf/... Done.
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-116" name="rest_code_3f9e15261d6948f6b8c803d2de977130-116"&gt;&lt;/a&gt;Copy Lora-BoldItalic.ttf to /usr/local/share/fonts/truetype/Lora/
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-117" name="rest_code_3f9e15261d6948f6b8c803d2de977130-117"&gt;&lt;/a&gt;  (y/n; default = n)
&lt;a id="rest_code_3f9e15261d6948f6b8c803d2de977130-118" name="rest_code_3f9e15261d6948f6b8c803d2de977130-118"&gt;&lt;/a&gt;Install Lora-BoldItalic.ttf manually to make it available system-wide.
&lt;/pre&gt;&lt;/div&gt;</description><category>fonts</category><category>groff</category><category>install-font.sh</category><category>troff</category><guid>https://tkurtbond.github.io/posts/2021/07/17/install-fontsh-the-simple-approach/</guid><pubDate>Sat, 17 Jul 2021 19:36:43 GMT</pubDate></item><item><title>groff and install-font.sh and installing fonts for use in groff</title><link>https://tkurtbond.github.io/posts/2021/07/17/groff-and-install-fontsh-and-installing-fonts-for-use-in-groff/</link><dc:creator>T. Kurt Bond</dc:creator><description>&lt;div&gt;&lt;div class="admonition note"&gt;
&lt;p class="admonition-title"&gt;Note&lt;/p&gt;
&lt;p&gt;This was originally a &lt;a class="reference external" href="https://lists.gnu.org/archive/html/groff/2021-07/msg00089.html"&gt;post&lt;/a&gt; to the &lt;a class="reference external" href="https://www.gnu.org/software/groff/"&gt;groff&lt;/a&gt; &lt;a class="reference external" href="https://lists.gnu.org/mailman/listinfo/groff/"&gt;mailing list&lt;/a&gt;.  It has
been slightly modified.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Currently &lt;span class="command"&gt;install-font.sh&lt;/span&gt; is not part of &lt;span class="app"&gt;groff&lt;/span&gt;.
We've had some discussion on the list &lt;a class="reference external" href="https://lists.gnu.org/archive/html/groff/2021-07/msg00061.html"&gt;recently&lt;/a&gt; and in the past about
integrating it into the &lt;span class="app"&gt;groff&lt;/span&gt; distribution, and in response to
recent &lt;a class="reference external" href="https://lists.gnu.org/archive/html/groff/2021-07/msg00054.html"&gt;discussion&lt;/a&gt; there is a new bug, &lt;a class="reference external" href="https://savannah.gnu.org/bugs/index.php?60930"&gt;#60930&lt;/a&gt;, requesting
integrating it, including documentation, etc.&lt;/p&gt;
&lt;p&gt;In the meantime, if you want to install fonts in OpenType or TrueType
formats for use with &lt;code class="docutils literal"&gt;devps&lt;/code&gt; and &lt;code class="docutils literal"&gt;devpdf&lt;/code&gt;,
&lt;span class="command"&gt;install-font.sh&lt;/span&gt; greatly simplifies the process.&lt;/p&gt;
&lt;p&gt;The &lt;span class="command"&gt;install-font.sh&lt;/span&gt; script was written by Peter Schaffter, the author
of the &lt;a class="reference external" href="https://www.schaffter.ca/mom/mom-01.html"&gt;mom macros&lt;/a&gt; for
&lt;span class="app"&gt;groff&lt;/span&gt;, and is distributed on mom's &lt;a class="reference external" href="https://www.schaffter.ca/mom/mom-05.html#install-font"&gt;download page&lt;/a&gt; and can be
downloaded &lt;a class="reference external" href="https://www.schaffter.ca/mom/bin/install-font.sh"&gt;directly&lt;/a&gt;.  It has a &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;-H&lt;/span&gt;&lt;/code&gt;
option that prints the documentation for it.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://fontforge.org/"&gt;Fontforge&lt;/a&gt; is a free and open source font
editor.  It can run scripts to manipulate fonts and convert between
font formats.  (I only use &lt;span class="app"&gt;fontforge&lt;/span&gt; to install fonts with
&lt;span class="command"&gt;install-font.sh&lt;/span&gt;, so I use a version that is command line
only, but the normal build has a GUI for interactively building
fonts.)  The &lt;span class="command"&gt;install-font.sh&lt;/span&gt; script uses &lt;span class="app"&gt;Fontforge&lt;/span&gt; to convert
OpenType and TrueType fonts to PostScript Type42 (&lt;span class="file"&gt;.t42&lt;/span&gt;) and Type1
(&lt;span class="file"&gt;.pfa&lt;/span&gt;), from which a &lt;span class="app"&gt;groff&lt;/span&gt; font is generated by the
&lt;span class="app"&gt;groff&lt;/span&gt; utility &lt;span class="command"&gt;afmtodit&lt;/span&gt;.  Then the necessary files are moved to
&lt;span class="file"&gt;site-font/devps&lt;/span&gt; and registered in its download file for use by &lt;span class="command"&gt;grops&lt;/span&gt;.
Optionally the same can be done for &lt;span class="file"&gt;site-font/devpdf&lt;/span&gt; for the use of
&lt;span class="file"&gt;gropdf&lt;/span&gt;.  Then the fonts are available for use by &lt;code class="docutils literal"&gt;groff
&lt;span class="pre"&gt;-Tps&lt;/span&gt;&lt;/code&gt; and &lt;code class="docutils literal"&gt;groff &lt;span class="pre"&gt;-Tpdf&lt;/span&gt;&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;So, suppose you wanted to use &lt;a class="reference external" href="https://fonts.google.com/specimen/Cormorant+Garamond"&gt;Cormorant Garamond&lt;/a&gt;, a free
font.  You could download the Regular, Italic, Bold, and Bold Italic
variants of the font, since &lt;span class="app"&gt;groff&lt;/span&gt; tends to expect there to be
R, I, B, and BI variants of the fonts it uses, though that is not
mandatory.  This would give you the files
&lt;span class="file"&gt;CormorantGaramond-Regular.ttf&lt;/span&gt;,
&lt;span class="file"&gt;CormorantGaramond-Italic.ttf&lt;/span&gt;,
&lt;span class="file"&gt;CormorantGaramond-Bold.ttf&lt;/span&gt;, and
&lt;span class="file"&gt;CormorantGaramond-BoldItalic.ttf&lt;/span&gt;.  You would then use
&lt;span class="command"&gt;install-font.sh&lt;/span&gt; to convert them and install the resulting
files into proper places under &lt;span class="app"&gt;groff&lt;/span&gt;'s site-font directory.&lt;/p&gt;
&lt;p&gt;So, for instance, you'd cd to the directory that holds the &lt;span class="file"&gt;.ttf&lt;/span&gt; files
you downloaded.  Then, to install the Regular variant of Cormorant
Garamond you'd run the command&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a id="rest_code_6812261c5cfc4b12a7db044dc4b8b5bd-1" name="rest_code_6812261c5cfc4b12a7db044dc4b8b5bd-1"&gt;&lt;/a&gt;&lt;span class="k"&gt;$(&lt;/span&gt;IFDIR&lt;span class="k"&gt;)&lt;/span&gt;/install-font.sh -n -P &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$DEST&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt; -d -F CormorantGaramond -f +R CormorantGaramond-Regular.ttf
&lt;/pre&gt;&lt;p&gt;where &lt;code class="docutils literal"&gt;IFDIR&lt;/code&gt; is an environment variable indicating the directory
where &lt;span class="command"&gt;install-font.sh&lt;/span&gt; is located and &lt;code class="docutils literal"&gt;DEST&lt;/code&gt; is an
environment variable indicating the directory that contains
&lt;span class="app"&gt;groff&lt;/span&gt;'s &lt;span class="file"&gt;site-font&lt;/span&gt; directory (not the actual
&lt;span class="file"&gt;site-font&lt;/span&gt; directory itself).  The &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;-n&lt;/span&gt;&lt;/code&gt; option means don't
try to copy the TrueType file to where the system font files are
located.  The &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;-P&lt;/span&gt;&lt;/code&gt; option takes as its argument the directory that
contains the &lt;span class="app"&gt;groff&lt;/span&gt;'s site-font directory.  Usually this is some
place like &lt;span class="file"&gt;/usr/share/groff&lt;/span&gt; or &lt;span class="file"&gt;/usr/local/share/groff&lt;/span&gt;,
but not all distributions create the &lt;span class="file"&gt;site-font&lt;/span&gt; directory.  If
you don't specify &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;-P&lt;/span&gt;&lt;/code&gt; &lt;span class="command"&gt;install-font.sh&lt;/span&gt; will guess the
location.  (If the &lt;span class="file"&gt;site-font&lt;/span&gt; directory doesn't exist, or you
don't have write access to it I think you can use the environment
variable &lt;code class="docutils literal"&gt;GROFF_FONT_PATH&lt;/code&gt; to tell &lt;span class="app"&gt;groff&lt;/span&gt; where to find it,
but I've never used that and don't know the specifics.  I often build
&lt;span class="app"&gt;groff&lt;/span&gt; from git and install it someplace my normal user has
write access to, so I haven't had to worry about it.)  The &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;-d&lt;/span&gt;&lt;/code&gt;
option says to make the font available to &lt;span class="command"&gt;gropdf&lt;/span&gt;.  The
&lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;-F&lt;/span&gt;&lt;/code&gt; option takes an argument that specifies the font family name to
use.  This is the name that you would use with the &lt;code class="docutils literal"&gt;.fam&lt;/code&gt; request or
the &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;-f&lt;/span&gt;&lt;/code&gt; option to &lt;span class="command"&gt;groff&lt;/span&gt; to let it know you want to use
this font family.  The &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;-f&lt;/span&gt;&lt;/code&gt; option takes an argument that specifies
the font style to use, &lt;code class="docutils literal"&gt;+R&lt;/code&gt;, &lt;code class="docutils literal"&gt;+I&lt;/code&gt;, &lt;code class="docutils literal"&gt;+B&lt;/code&gt;, or &lt;code class="docutils literal"&gt;+BI&lt;/code&gt;.  (The
&lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;-f&lt;/span&gt;&lt;/code&gt; option can instead take a name, but I don't use that form and
can't explain the distinctions.)  The style (&lt;code class="docutils literal"&gt;R&lt;/code&gt;, &lt;code class="docutils literal"&gt;I&lt;/code&gt;, &lt;code class="docutils literal"&gt;B&lt;/code&gt;, or
&lt;code class="docutils literal"&gt;BI&lt;/code&gt;) is appended to the font family name specified with &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;-F&lt;/span&gt;&lt;/code&gt; to
produce the name of the &lt;span class="app"&gt;groff&lt;/span&gt; font, and consequently the name
of the &lt;span class="app"&gt;groff&lt;/span&gt; font file that is written to the &lt;code class="docutils literal"&gt;devps&lt;/code&gt; and
&lt;code class="docutils literal"&gt;devpdf&lt;/code&gt; directories under &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;site-font&lt;/span&gt;&lt;/code&gt;.  So, in this example, the
name of the &lt;span class="app"&gt;groff&lt;/span&gt; font and the &lt;span class="app"&gt;groff&lt;/span&gt; font file would be
&lt;span class="file"&gt;CormorantGaramondR&lt;/span&gt;.  The last argument to the script is the
name of the Truetype or OpenType file you are converting.&lt;/p&gt;
&lt;p&gt;To complete the example, here are the commands to install the Italic,
Bold, and Bold Italic variants of Cormorant Garamond:&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a id="rest_code_a290ed067e82497aade37088534c4286-1" name="rest_code_a290ed067e82497aade37088534c4286-1"&gt;&lt;/a&gt;&lt;span class="k"&gt;$(&lt;/span&gt;IFDIR&lt;span class="k"&gt;)&lt;/span&gt;/install-font.sh -n -P &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$DEST&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt; -d -F CormorantGaramond -f +I CormorantGaramond-Italic.ttf
&lt;a id="rest_code_a290ed067e82497aade37088534c4286-2" name="rest_code_a290ed067e82497aade37088534c4286-2"&gt;&lt;/a&gt;&lt;span class="k"&gt;$(&lt;/span&gt;IFDIR&lt;span class="k"&gt;)&lt;/span&gt;/install-font.sh -n -P &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$DEST&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt; -d -F CormorantGaramond -f +B CormorantGaramond-Bold.ttf
&lt;a id="rest_code_a290ed067e82497aade37088534c4286-3" name="rest_code_a290ed067e82497aade37088534c4286-3"&gt;&lt;/a&gt;&lt;span class="k"&gt;$(&lt;/span&gt;IFDIR&lt;span class="k"&gt;)&lt;/span&gt;/install-font.sh -n -P &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$DEST&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt; -d -F CormorantGaramond -f +BI CormorantGaramond-BoldItalic.
&lt;/pre&gt;&lt;p&gt;As I said in an earlier email to the list, I tend to put all four
commands into a script so I can run them again if something goes wrong
or when I need to install them on a new machine or in a new
installation of &lt;span class="app"&gt;groff&lt;/span&gt;.  In the case of Cormorant Garamond I named the
file &lt;span class="file"&gt;install-cormorant-garamond.sh&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Later:&lt;/strong&gt; Peter Schaffter &lt;a class="reference external" href="https://lists.gnu.org/archive/html/groff/2021-07/msg00090.html"&gt;pointed out&lt;/a&gt; that the &lt;em&gt;simple&lt;/em&gt; use of
&lt;span class="command"&gt;install-font.sh&lt;/span&gt; is:&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a id="rest_code_b2a89db039cf4a13b5350a5ee5d2b589-1" name="rest_code_b2a89db039cf4a13b5350a5ee5d2b589-1"&gt;&lt;/a&gt;sudo install-font.sh fontfile
&lt;/pre&gt;&lt;p&gt;and then answer the questions the script asks.  He also pointed out
that it creates the &lt;span class="file"&gt;site-font&lt;/span&gt; directory and necessary
subdirectories if needed in, and here I quote: “the only two locations
it's ever likely to be”.  Looking at &lt;span class="command"&gt;install-font.sh&lt;/span&gt; reveal
those locations are &lt;span class="file"&gt;/usr/local/share/groff&lt;/span&gt; and
&lt;span class="file"&gt;/usr/share/groff&lt;/span&gt;, defaulting to
&lt;span class="file"&gt;/usr/local/share/groff&lt;/span&gt;; to get it to use
&lt;span class="file"&gt;/usr/share/groff&lt;/span&gt; you specify the &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;-s&lt;/span&gt;&lt;/code&gt; option.&lt;/p&gt;
&lt;p&gt;For a walk-through of the simple use see the &lt;a class="reference external" href="https://tkurtbond.github.io/posts/2021/07/17/install-fontsh-the-simple-approach/"&gt;follow-up&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Last edited: 2021-07-15 17:46:40 EDT&lt;/em&gt;&lt;/p&gt;
&lt;!-- Local Variables:
time-stamp-format: "%Y-%02m-%02d %02H:%02M:%02S %Z"
time-stamp-start: "\\*Last edited:[ \t]+\\\\?"
time-stamp-end: "\\*\\\\?\n"
time-stamp-line-limit: -20
End: --&gt;&lt;/div&gt;</description><category>fonts</category><category>groff</category><category>install-font.sh</category><category>mom</category><category>troff</category><guid>https://tkurtbond.github.io/posts/2021/07/17/groff-and-install-fontsh-and-installing-fonts-for-use-in-groff/</guid><pubDate>Sat, 17 Jul 2021 04:16:49 GMT</pubDate></item><item><title>troff Memorandum Macros documentation</title><link>https://tkurtbond.github.io/posts/2021/07/15/troff-memorandum-macros-documentation/</link><dc:creator>T. Kurt Bond</dc:creator><description>&lt;div&gt;&lt;p&gt;&lt;strong&gt;TL;DR:&lt;/strong&gt; Look &lt;a class="reference external" href="https://tkurtbond.github.io/troff/mm-all.pdf"&gt;here&lt;/a&gt; for documentation for the &lt;span class="app"&gt;Documenter's Workbench&lt;/span&gt; &lt;span class="app"&gt;mm&lt;/span&gt; Memorandum
Macros for &lt;span class="app"&gt;groff&lt;/span&gt;, based on the original paper &lt;cite&gt;MM - Memorandum
Macros&lt;/cite&gt;.  If you read that far there is a &lt;a class="reference internal" href="https://tkurtbond.github.io/posts/2021/07/15/troff-memorandum-macros-documentation/#bonus"&gt;bonus&lt;/a&gt; at the end.&lt;/p&gt;
&lt;p&gt;When I learned &lt;span class="app"&gt;troff&lt;/span&gt; it was actually on a VAX running VMS (used
by &lt;a class="reference external" href="http://www.mpl.com/"&gt;MPL Corporation&lt;/a&gt;) using a port of &lt;span class="app"&gt;troff&lt;/span&gt; called
&lt;span class="app"&gt;xroff&lt;/span&gt; &lt;a class="footnote-reference brackets" href="https://tkurtbond.github.io/posts/2021/07/15/troff-memorandum-macros-documentation/#who-produced-xroff" id="id1"&gt;1&lt;/a&gt;, probably around 1986.  (The VAX
also had TeX and LaTeX, and I used them too.  Both supported the DEC
LNO3 laserprinter that MPL had.)  While I don't know who produced
&lt;span class="app"&gt;xroff&lt;/span&gt; and can't find anything out about it on the Internet, it
was a complete port of &lt;span class="app"&gt;troff&lt;/span&gt; to VMS, including all the standard
utilities and macro packages, including documentation for &lt;span class="app"&gt;ms&lt;/span&gt;,
&lt;span class="app"&gt;me&lt;/span&gt;, and, significantly for this post &lt;span class="app"&gt;mm&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;The &lt;span class="app"&gt;mm&lt;/span&gt; documentation was the paper &lt;cite&gt;MM - Memorandum Macros&lt;/cite&gt;, by
D. W. Smith, J. R. Mashey, E. C. Pariser, and N. W. Smith, AT&amp;amp;T Bell
Laboratories, June 1980.  I tried out all the macro packages, but
found &lt;span class="app"&gt;mm&lt;/span&gt; most to my liking.  I think a large part of that was the
&lt;span class="app"&gt;mm&lt;/span&gt; documentation — it described the many features of that macro
package pretty well, in a user guide sort of way, teaching you how to
use the features as it went along, rather than being a pure reference
manual.  And I found &lt;span class="app"&gt;mm&lt;/span&gt; most comparable in features to LaTeX of the
troff macro packages.  While configuring &lt;span class="app"&gt;mm&lt;/span&gt; documents is somewhat
quirky &lt;a class="footnote-reference brackets" href="https://tkurtbond.github.io/posts/2021/07/15/troff-memorandum-macros-documentation/#quirky" id="id2"&gt;2&lt;/a&gt;, I felt that the added features over those found in
&lt;span class="app"&gt;me&lt;/span&gt; and &lt;span class="app"&gt;ms&lt;/span&gt; made it worthwhile.  So I wrote a lot of
documents using &lt;span class="app"&gt;mm&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Years later when I first got access to &lt;span class="app"&gt;groff&lt;/span&gt; on Unix machines
(early 90s?) the documentation supplied with it for &lt;span class="app"&gt;mm&lt;/span&gt; was the
&lt;span class="man"&gt;groff_mm(7)&lt;/span&gt; man page.  It was very complete as a reference, but
very poor for teaching you how to use &lt;span class="app"&gt;mm&lt;/span&gt;.  I continued to use &lt;span class="app"&gt;mm&lt;/span&gt;
off and on, but I think the lack of the user guide documentation of
the &lt;span class="app"&gt;mm&lt;/span&gt; paper made &lt;span class="app"&gt;mm&lt;/span&gt; less popular among the users of &lt;span class="app"&gt;groff&lt;/span&gt;
than it could have been.  So when modern features for PDF appeared for
groff later on (the &lt;span class="app"&gt;pdfmark&lt;/span&gt; macros), they were adapted to
&lt;span class="app"&gt;ms&lt;/span&gt; but not &lt;span class="app"&gt;mm&lt;/span&gt;.  (&lt;span class="app"&gt;me&lt;/span&gt; was left out, as well.)  I was sad
to see &lt;span class="app"&gt;mm&lt;/span&gt;'s apparently low popularity, and the &lt;span class="app"&gt;mm&lt;/span&gt; paper apparently
is not available on the Internet in a form that copyright allows to be
copied around, unlike the papers on &lt;span class="app"&gt;ms&lt;/span&gt; and &lt;span class="app"&gt;me&lt;/span&gt;, which
come with &lt;span class="app"&gt;groff&lt;/span&gt;.  I suspect this is because &lt;span class="app"&gt;mm&lt;/span&gt; was used
heavily in AT&amp;amp;T's &lt;span class="app"&gt;Documenter's Workbench&lt;/span&gt;, a commercial product that was distributed
separately from UNIX System V, if I understand correctly.&lt;/p&gt;
&lt;p&gt;However, eventually the sources to the &lt;span class="app"&gt;Documenter's Workbench&lt;/span&gt; became available under
the Eclipse Public License, and they are &lt;a class="reference external" href="https://github.com/n-t-roff/DWB3.3"&gt;available&lt;/a&gt; in the &lt;a class="reference external" href="https://github.com/n-t-roff"&gt;n-t-roff&lt;/a&gt;
github repository (along with &lt;a class="reference external" href="http://n-t-roff.github.io/heirloom/doctools.html"&gt;Heirloom Docutils&lt;/a&gt;, a descendant of
the original &lt;span class="app"&gt;ditroff&lt;/span&gt; with native UTF-8 input and easy use of
fonts).  This includes the &lt;a class="reference external" href="https://github.com/n-t-roff/DWB3.3/tree/master/doc/mm"&gt;source&lt;/a&gt; to documentation that is derived
from the &lt;span class="app"&gt;mm&lt;/span&gt; paper!  Unfortunately, I haven't been able to find a PDF
of this on the Internet.&lt;/p&gt;
&lt;p&gt;I think that having this available might help those who might want to
try out &lt;span class="app"&gt;mm&lt;/span&gt;, or are returning to it after a long break, so I've
posted a version that I built a while ago &lt;a class="reference external" href="https://tkurtbond.github.io/troff/mm-all.pdf"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;hr class="docutils"&gt;
&lt;p id="bonus"&gt;As a bonus for reading down this far, here is how I add PDF
outline/table-of-contents entries for sections in &lt;span class="app"&gt;groff&lt;/span&gt; &lt;span class="app"&gt;mm&lt;/span&gt;,
using the &lt;code class="docutils literal"&gt;HZ&lt;/code&gt; user-defined heading exit macro (see
&lt;span class="man"&gt;groff_mm(7)&lt;/span&gt;):&lt;/p&gt;
&lt;pre class="code nroff"&gt;&lt;a id="rest_code_d066a79dff964ba7b6069fea6d334e88-1" name="rest_code_d066a79dff964ba7b6069fea6d334e88-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="c"&gt;\" pdf outline fold level&lt;/span&gt;
&lt;a id="rest_code_d066a79dff964ba7b6069fea6d334e88-2" name="rest_code_d066a79dff964ba7b6069fea6d334e88-2"&gt;&lt;/a&gt;.&lt;span class="k"&gt;nr&lt;/span&gt; &lt;span class="s"&gt;PDFOUTLINE.FOLDLEVEL&lt;/span&gt; &lt;span class="m"&gt;3&lt;/span&gt;
&lt;a id="rest_code_d066a79dff964ba7b6069fea6d334e88-3" name="rest_code_d066a79dff964ba7b6069fea6d334e88-3"&gt;&lt;/a&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="c"&gt;\" start out in outline view&lt;/span&gt;
&lt;a id="rest_code_d066a79dff964ba7b6069fea6d334e88-4" name="rest_code_d066a79dff964ba7b6069fea6d334e88-4"&gt;&lt;/a&gt;.&lt;span class="k"&gt;pdfview&lt;/span&gt; &lt;span class="s"&gt;/PageMode&lt;/span&gt; &lt;span class="s"&gt;/UseOutlines&lt;/span&gt;
&lt;a id="rest_code_d066a79dff964ba7b6069fea6d334e88-5" name="rest_code_d066a79dff964ba7b6069fea6d334e88-5"&gt;&lt;/a&gt;.&lt;span class="k"&gt;de&lt;/span&gt; &lt;span class="s"&gt;HZ&lt;/span&gt;
&lt;a id="rest_code_d066a79dff964ba7b6069fea6d334e88-6" name="rest_code_d066a79dff964ba7b6069fea6d334e88-6"&gt;&lt;/a&gt;.&lt;span class="k"&gt;pdfhref&lt;/span&gt; &lt;span class="s"&gt;O&lt;/span&gt; &lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="s"&gt;$2&lt;/span&gt; &lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="s"&gt;*[}0]&lt;/span&gt; &lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="s"&gt;$3&lt;/span&gt;
&lt;a id="rest_code_d066a79dff964ba7b6069fea6d334e88-7" name="rest_code_d066a79dff964ba7b6069fea6d334e88-7"&gt;&lt;/a&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="s"&gt;.&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;And here's how to do it in &lt;a class="reference external" href="http://n-t-roff.github.io/heirloom/doctools.html"&gt;Heirloom Docutils&lt;/a&gt; &lt;span class="app"&gt;troff&lt;/span&gt;:&lt;/p&gt;
&lt;pre class="code nroff"&gt;&lt;a id="rest_code_d5b0c0b0b2634e5cb803ac30acd88430-1" name="rest_code_d5b0c0b0b2634e5cb803ac30acd88430-1"&gt;&lt;/a&gt;.&lt;span class="k"&gt;de&lt;/span&gt; &lt;span class="s"&gt;HY&lt;/span&gt;
&lt;a id="rest_code_d5b0c0b0b2634e5cb803ac30acd88430-2" name="rest_code_d5b0c0b0b2634e5cb803ac30acd88430-2"&gt;&lt;/a&gt;.&lt;span class="k"&gt;nr&lt;/span&gt; &lt;span class="s"&gt;HYtmp&lt;/span&gt; &lt;span class="s"&gt;(\\$1-1)&lt;/span&gt;
&lt;a id="rest_code_d5b0c0b0b2634e5cb803ac30acd88430-3" name="rest_code_d5b0c0b0b2634e5cb803ac30acd88430-3"&gt;&lt;/a&gt;&lt;span class="se"&gt;\\&lt;/span&gt;X'PDFMark: Bookmark &lt;span class="se"&gt;\\&lt;/span&gt;n[HYtmp] &lt;span class="se"&gt;\\&lt;/span&gt;$3'
&lt;a id="rest_code_d5b0c0b0b2634e5cb803ac30acd88430-4" name="rest_code_d5b0c0b0b2634e5cb803ac30acd88430-4"&gt;&lt;/a&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="s"&gt;.&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;This version uses the &lt;code class="docutils literal"&gt;HY&lt;/code&gt; user-defined heading exit macro and
doesn't include the section numbers.&lt;/p&gt;
&lt;p&gt;I'm not sure why the two use different macros.  All I can say is that
I wrote them at different times for slightly different purposes.&lt;/p&gt;
&lt;dl class="footnote brackets"&gt;
&lt;dt class="label" id="who-produced-xroff"&gt;&lt;span class="brackets"&gt;&lt;a class="fn-backref" href="https://tkurtbond.github.io/posts/2021/07/15/troff-memorandum-macros-documentation/#id1"&gt;1&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;
&lt;dd&gt;&lt;p&gt;While I still maintain a descendant of the VAX I where I used
&lt;span class="app"&gt;xroff&lt;/span&gt; (emulated using &lt;a class="reference external" href="https://www.stromasys.com/solutions/charon-vax/"&gt;Charon-VAX&lt;/a&gt;), sometime in the past the
&lt;span class="app"&gt;xroff&lt;/span&gt; software disappeared from it.  I have no idea what
happened to it.  I blame user PDL!&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="label" id="quirky"&gt;&lt;span class="brackets"&gt;&lt;a class="fn-backref" href="https://tkurtbond.github.io/posts/2021/07/15/troff-memorandum-macros-documentation/#id2"&gt;2&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;
&lt;dd&gt;&lt;p&gt;The page offset, page width, and page length have to be set before
the &lt;span class="app"&gt;mm&lt;/span&gt; macros were loaded, so while on Unix it is easy to set those
values on the command line, on VMS due to oddities in its command line
it was easiest to use &lt;code class="docutils literal"&gt;.so&lt;/code&gt; and load the macros directly&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;&lt;em&gt;Last edited: 2021-07-17 19:09:27 EDT&lt;/em&gt;&lt;/p&gt;
&lt;!-- Local Variables:
time-stamp-format: "%Y-%02m-%02d %02H:%02M:%02S %Z"
time-stamp-start: "\\*Last edited:[ \t]+\\\\?"
time-stamp-end: "\\*\\\\?\n"
time-stamp-line-limit: -20
End: --&gt;&lt;/div&gt;</description><category>charon-vax</category><category>documenter's workbench</category><category>dwb</category><category>groff</category><category>memorandum macros</category><category>mm</category><category>troff</category><category>vms</category><category>xroff</category><guid>https://tkurtbond.github.io/posts/2021/07/15/troff-memorandum-macros-documentation/</guid><pubDate>Thu, 15 Jul 2021 19:57:09 GMT</pubDate></item><item><title>Ted Harding's "A Guide to Typesetting Mathematics using GNU eqn"</title><link>https://tkurtbond.github.io/posts/2021/06/10/ted-hardings-a-guide-to-typesetting-mathematics-using-gnu-eqn/</link><dc:creator>T. Kurt Bond</dc:creator><description>&lt;div&gt;&lt;p&gt;For reference: The only place I've been able to find the PDF of Ted
Harding's “A Guide to Typesetting Mathematics using GNU eqn” (the link
from troff.org is broken) is in the &lt;a class="reference external" href="https://lists.gnu.org/archive/html/groff/"&gt;archives&lt;/a&gt; of the groff mailing
list and archive.org (&lt;a class="reference external" href="https://lists.gnu.org/archive/cgi-bin/namazu.cgi?query=eqnguide&amp;amp;submit=Search%21&amp;amp;idxname=groff&amp;amp;max=20&amp;amp;result=normal&amp;amp;sort=score"&gt;search&lt;/a&gt; for “eqnguide”, since the file is named
&lt;code class="docutils literal"&gt;eqnguide.pdf&lt;/code&gt;):&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://lists.gnu.org/archive/html/groff/2013-10/pdfTyBN2VWR1c.pdf"&gt;https://lists.gnu.org/archive/html/groff/2013-10/pdfTyBN2VWR1c.pdf&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://lists.gnu.org/archive/html/groff/2013-10/pdfSVnF38sglo.pdf"&gt;https://lists.gnu.org/archive/html/groff/2013-10/pdfSVnF38sglo.pdf&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The last was the most recent I found, labeled &lt;em&gt;“Last Revised 27
October 2013”&lt;/em&gt;.  It is also available from &lt;a class="reference external" href="https://web.archive.org/web/20190921224956/https://lists.gnu.org/archive/html/groff/2013-10/pdfSVnF38sglo.pdf"&gt;archive.org&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Does anyone know of the source to this was ever released?&lt;/p&gt;&lt;/div&gt;</description><category>eqn</category><category>eqnguide</category><category>groff</category><category>ted harding</category><guid>https://tkurtbond.github.io/posts/2021/06/10/ted-hardings-a-guide-to-typesetting-mathematics-using-gnu-eqn/</guid><pubDate>Thu, 10 Jun 2021 15:46:55 GMT</pubDate></item><item><title>Paragraph Justification in groff and TeX</title><link>https://tkurtbond.github.io/posts/2020/07/31/paragraph-justification-in-groff-and-tex/</link><dc:creator>T. Kurt Bond</dc:creator><description>&lt;p&gt;An interesting message thread developed on the groff &lt;a class="reference external" href="https://lists.gnu.org/archive/html/groff/"&gt;mailing list&lt;/a&gt;
about various features of &lt;span class="app"&gt;Groff&lt;/span&gt; and &lt;span class="app"&gt;Heirloom Troff&lt;/span&gt;, with
a mention of &lt;span class="app"&gt;neatroff&lt;/span&gt;.  In particular, Steve Izma's post (&lt;a class="reference external" href="https://lists.gnu.org/archive/html/groff/2020-07/msg00092.html"&gt;P1&lt;/a&gt;)
discussed how he found &lt;span class="app"&gt;TeX&lt;/span&gt;'s paragraph-at-a-time justification
required as much tweaking as groff's simpler paragraph justification.
That lead to Peter Schaffter's post (&lt;a class="reference external" href="https://lists.gnu.org/archive/html/groff/2020-07/msg00101.html"&gt;P2&lt;/a&gt;) linking to an earlier post
(&lt;a class="reference external" href="https://lists.gnu.org/archive/html/groff/2014-03/msg00322.html"&gt;P3&lt;/a&gt;) where he proposed a simpler algorithm to improve &lt;span class="app"&gt;Groff&lt;/span&gt;'s
line-breaking and justification than the full Knuth-Plass
Line-Breaking Algorithm (&lt;a class="reference external" href="http://www.eprg.org/G53DOC/pdfs/knuth-plass-breaking.pdf"&gt;KP1&lt;/a&gt;, &lt;a class="reference external" href="http://litherum.blogspot.com/2015/07/knuth-plass-line-breaking-algorithm.html"&gt;D1&lt;/a&gt;) that &lt;span class="app"&gt;TeX&lt;/span&gt; uses. While
writing this post I ran across another paper, “Global multiple
objective line breaking” by Alex Holkner (&lt;a class="reference external" href="https://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.585.8487"&gt;GMOLB1&lt;/a&gt;, &lt;a class="reference external" href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.585.8487&amp;amp;rep=rep1&amp;amp;type=pdf"&gt;GMOLB2&lt;/a&gt;) that explores
another line breaking algorithm and references some of the other
papers on the subject.&lt;/p&gt;</description><category>groff</category><category>heirloom troff</category><category>knuth-plass line-breaking algorithm</category><category>neatroff</category><category>tex</category><guid>https://tkurtbond.github.io/posts/2020/07/31/paragraph-justification-in-groff-and-tex/</guid><pubDate>Sat, 01 Aug 2020 02:42:15 GMT</pubDate></item><item><title>Text Subtleties</title><link>https://tkurtbond.github.io/posts/2020/07/07/text-subtleties/</link><dc:creator>T. Kurt Bond</dc:creator><description>&lt;div&gt;&lt;p&gt;I just noticed that when &lt;a class="reference external" href="https://www.gnu.org/software/wget/"&gt;wget&lt;/a&gt; tells you the filename of file it just
saved, if your &lt;code class="docutils literal"&gt;LANG=C&lt;/code&gt; then it surrounds it with apostrophes ('), but
if your &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;LANG=en_US.UTF-8&lt;/span&gt;&lt;/code&gt; then it surrounds it with &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Unicode"&gt;Unicode&lt;/a&gt; LEFT SINGLE
QUOTATION MARK (‘)and RIGHT SINGLE QUOTATION MARK (’).  I appreciate
little subtleties like that.&lt;/p&gt;
&lt;p&gt;I use Unicode characters in most of the writing I do.  For &lt;a class="reference external" href="https://en.wikipedia.org/wiki/LaTeX"&gt;LaTeX&lt;/a&gt;,
which I rarely use these days, I use &lt;a class="reference external" href="https://en.wikipedia.org/wiki/XeTeX"&gt;XeTeX&lt;/a&gt;, which understands UTF-8
natively.  &lt;a class="reference external" href="https://en.wikipedia.org/wiki/ConTeXt"&gt;ConTeXt&lt;/a&gt;, which I do use regularly, also understands UTF-8
natively.  For &lt;a class="reference external" href="https://www.gnu.org/software/groff/"&gt;groff&lt;/a&gt; I use the &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;-k&lt;/span&gt;&lt;/code&gt; switch, which preprocesses the
text with &lt;span class="command"&gt;preconv&lt;/span&gt; (which is part of &lt;a class="reference external" href="https://www.gnu.org/software/groff/"&gt;groff&lt;/a&gt;), converting the
UTF-8 characters into &lt;a class="reference external" href="https://www.gnu.org/software/groff/"&gt;groff&lt;/a&gt; character escapes, since &lt;a class="reference external" href="https://www.gnu.org/software/groff/"&gt;groff&lt;/a&gt; &lt;em&gt;doesn't&lt;/em&gt;
understand UTF-8 natively.  Of course, if it is &lt;a class="reference external" href="https://docutils.sourceforge.io/rst.html"&gt;ReStructuredText&lt;/a&gt; that
I'm working with then &lt;a class="reference external" href="https://pandoc.org/"&gt;pandoc&lt;/a&gt; can be configured to use any one of
&lt;a class="reference external" href="https://en.wikipedia.org/wiki/LaTeX"&gt;LaTeX&lt;/a&gt;, &lt;a class="reference external" href="https://en.wikipedia.org/wiki/ConTeXt"&gt;ConTeXt&lt;/a&gt;, and &lt;a class="reference external" href="https://www.gnu.org/software/groff/"&gt;groff&lt;/a&gt; for creating PDF output, and since
&lt;span class="command"&gt;rst2html.py&lt;/span&gt; just produces &lt;a class="reference external" href="https://en.wikipedia.org/wiki/LaTeX"&gt;LaTeX&lt;/a&gt; that includes any
character you put in your source you can just use &lt;span class="command"&gt;xelatex&lt;/span&gt;
as part of your commands to turn it into PDF.  And sometimes, when I'm
feeling whimsical, I use &lt;span class="app"&gt;Heirloom Troff&lt;/span&gt;, from the &lt;a class="reference external" href="https://n-t-roff.github.io/heirloom/doctools.html"&gt;Heirloom
Documentation Tools&lt;/a&gt;, which understands UTF-8 natively.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Last edited: 2020-08-03 16:02:52 EDT&lt;/em&gt;&lt;/p&gt;
&lt;!-- Local Variables:
time-stamp-format: "%04y-%02m-%02d %02H:%02M:%02S %Z"
time-stamp-start: "\\*Last edited:[ \t]+\\\\?"
time-stamp-end: "\\*\\\\?\n"
time-stamp-line-limit: -20
End: --&gt;&lt;/div&gt;</description><category>context</category><category>groff</category><category>heirloom troff</category><category>text</category><category>unicode</category><category>utf-8</category><category>xelatex</category><guid>https://tkurtbond.github.io/posts/2020/07/07/text-subtleties/</guid><pubDate>Tue, 07 Jul 2020 23:05:13 GMT</pubDate></item><item><title>Making digest-sized pages with pandoc and ms output</title><link>https://tkurtbond.github.io/posts/2020/03/13/making-digest-sized-pages-with-pandoc-and-ms-output/</link><dc:creator>T. Kurt Bond</dc:creator><description>&lt;div&gt;&lt;div class="admonition note"&gt;
&lt;p class="admonition-title"&gt;Note&lt;/p&gt;
&lt;p&gt;After I wrote this post, I made a last minute check of the options
to &lt;span class="app"&gt;pandoc&lt;/span&gt; and found that the &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;--pdf-engine-opt=&lt;/span&gt;&lt;/code&gt; option
does exactly what I want.  How embarrassing.  So I changed this
post, showing both the easy way and the hard way to do it.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;I use &lt;a class="reference external" href="https://pandoc.org/"&gt;pandoc&lt;/a&gt; to produce digest-sized pages (5½×8½ inches) in PDF
documents from &lt;a class="reference external" href="https://en.wikipedia.org/wiki/ReStructuredText"&gt;ReStructuredText&lt;/a&gt;.  I have a &lt;span class="app"&gt;ms&lt;/span&gt; output template,
&lt;span class="file"&gt;digest2.ms&lt;/span&gt; in &lt;span class="file"&gt;~/pandoc/templates&lt;/span&gt; that sets the page
width and page height correctly.  Unfortunately, there is no way to
set the papersize properly in the template. &lt;a class="footnote-reference brackets" href="https://tkurtbond.github.io/posts/2020/03/13/making-digest-sized-pages-with-pandoc-and-ms-output/#heirloomtroff" id="id1"&gt;1&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Luckily, &lt;span class="app"&gt;pandoc&lt;/span&gt; has the &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;--pdf-engine-opt=&lt;/span&gt;&lt;/code&gt; option to pass
options to the PDF engine that &lt;span class="app"&gt;pandoc&lt;/span&gt; is using, in this case
&lt;span class="app"&gt;pdfroff&lt;/span&gt;.  In the case of &lt;span class="app"&gt;ms&lt;/span&gt; output the thing to do is
pass the argument &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;--pdf-engine-opt=-P-p8.5i,5.5i&lt;/span&gt;&lt;/code&gt; &lt;a class="footnote-reference brackets" href="https://tkurtbond.github.io/posts/2020/03/13/making-digest-sized-pages-with-pandoc-and-ms-output/#recursively" id="id2"&gt;2&lt;/a&gt;,
like below.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://tkurtbond.github.io/listings/GNUmakefile.pandoc-digest-pdf-engine-opt.html"&gt;GNUmakefile.pandoc-digest-pdf-engine-opt&lt;/a&gt;  &lt;a class="reference external" href="https://tkurtbond.github.io/listings/GNUmakefile.pandoc-digest-pdf-engine-opt"&gt;(Source)&lt;/a&gt;&lt;/p&gt;
&lt;pre class="code make"&gt;&lt;a id="rest_code_5ab2cc7cb49a4aa6bc3da5f7f5f15411-1" name="rest_code_5ab2cc7cb49a4aa6bc3da5f7f5f15411-1"&gt;&lt;/a&gt;&lt;span class="nf"&gt;%.digest.ms.pdf &lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; %.&lt;span class="n"&gt;rst&lt;/span&gt;
&lt;a id="rest_code_5ab2cc7cb49a4aa6bc3da5f7f5f15411-2" name="rest_code_5ab2cc7cb49a4aa6bc3da5f7f5f15411-2"&gt;&lt;/a&gt;        pandoc -s -r rst -w ms --template&lt;span class="o"&gt;=&lt;/span&gt;digest2 &lt;span class="k"&gt;$(&lt;/span&gt;VARIABLES&lt;span class="k"&gt;)&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
&lt;a id="rest_code_5ab2cc7cb49a4aa6bc3da5f7f5f15411-3" name="rest_code_5ab2cc7cb49a4aa6bc3da5f7f5f15411-3"&gt;&lt;/a&gt;                --output&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$@&lt;/span&gt; --pdf-engine-opt&lt;span class="o"&gt;=&lt;/span&gt;-P-p8.5i,5.5i $&amp;lt;
&lt;/pre&gt;&lt;p&gt;Unfortunately when I originally had this need for digest pages I
hadn't realized that the &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;--pdf-engine-opt=&lt;/span&gt;&lt;/code&gt; option existed.&lt;/p&gt;
&lt;p&gt;So I used &lt;code class="docutils literal"&gt;pandoc &lt;span class="pre"&gt;--verbose&lt;/span&gt;&lt;/code&gt; and found the &lt;span class="app"&gt;pdfroff&lt;/span&gt; invocation
&lt;span class="app"&gt;pandoc&lt;/span&gt; uses, and made my &lt;span class="app"&gt;pandoc&lt;/span&gt; invocation output
&lt;span class="app"&gt;ms&lt;/span&gt; instead of PDF, then passed it through a &lt;span class="app"&gt;pdfroff&lt;/span&gt;
command with the added &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;-P-p8.5i,5.5i&lt;/span&gt;&lt;/code&gt; argument.  Here's what I put
in my &lt;span class="file"&gt;GNUmakefile&lt;/span&gt;:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://tkurtbond.github.io/listings/GNUmakefile.pandoc-digest-save-ms.html"&gt;GNUmakefile.pandoc-digest-save-ms&lt;/a&gt;  &lt;a class="reference external" href="https://tkurtbond.github.io/listings/GNUmakefile.pandoc-digest-save-ms"&gt;(Source)&lt;/a&gt;&lt;/p&gt;
&lt;pre class="code make"&gt;&lt;a id="rest_code_d70b9484e7814055a510b17d7fa71267-1" name="rest_code_d70b9484e7814055a510b17d7fa71267-1"&gt;&lt;/a&gt;&lt;span class="nf"&gt;%.digest.ms.pdf &lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; %.&lt;span class="n"&gt;rst&lt;/span&gt;
&lt;a id="rest_code_d70b9484e7814055a510b17d7fa71267-2" name="rest_code_d70b9484e7814055a510b17d7fa71267-2"&gt;&lt;/a&gt;        pandoc -s -r rst -w ms -s --template&lt;span class="o"&gt;=&lt;/span&gt;digest2 &lt;span class="k"&gt;$(&lt;/span&gt;VARIABLES&lt;span class="k"&gt;)&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
&lt;a id="rest_code_d70b9484e7814055a510b17d7fa71267-3" name="rest_code_d70b9484e7814055a510b17d7fa71267-3"&gt;&lt;/a&gt;               --output&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$*&lt;/span&gt;.ms $&amp;lt;
&lt;a id="rest_code_d70b9484e7814055a510b17d7fa71267-4" name="rest_code_d70b9484e7814055a510b17d7fa71267-4"&gt;&lt;/a&gt;        pdfroff -ms -mpdfmark -e -t -k -KUTF-8 --no-toc-relocation &lt;span class="se"&gt;\&lt;/span&gt;
&lt;a id="rest_code_d70b9484e7814055a510b17d7fa71267-5" name="rest_code_d70b9484e7814055a510b17d7fa71267-5"&gt;&lt;/a&gt;                -P-p8.5i,5.5i &lt;span class="nv"&gt;$*&lt;/span&gt;.ms &amp;gt; &lt;span class="nv"&gt;$@&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Or, if you don't care about having the &lt;span class="app"&gt;ms&lt;/span&gt; output for debugging,
you could do it as a pipeline:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://tkurtbond.github.io/listings/GNUmakefile.pandoc-digest-pipeline.html"&gt;GNUmakefile.pandoc-digest-pipeline&lt;/a&gt;  &lt;a class="reference external" href="https://tkurtbond.github.io/listings/GNUmakefile.pandoc-digest-pipeline"&gt;(Source)&lt;/a&gt;&lt;/p&gt;
&lt;pre class="code make"&gt;&lt;a id="rest_code_b27434ab506341eba41c131fc09ca3de-1" name="rest_code_b27434ab506341eba41c131fc09ca3de-1"&gt;&lt;/a&gt;&lt;span class="nf"&gt;%.digest.ms.pdf &lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; %.&lt;span class="n"&gt;rst&lt;/span&gt;
&lt;a id="rest_code_b27434ab506341eba41c131fc09ca3de-2" name="rest_code_b27434ab506341eba41c131fc09ca3de-2"&gt;&lt;/a&gt;        pandoc -s -r rst -w ms -s --template&lt;span class="o"&gt;=&lt;/span&gt;digest2 &lt;span class="k"&gt;$(&lt;/span&gt;VARIABLES&lt;span class="k"&gt;)&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
&lt;a id="rest_code_b27434ab506341eba41c131fc09ca3de-3" name="rest_code_b27434ab506341eba41c131fc09ca3de-3"&gt;&lt;/a&gt;               --output&lt;span class="o"&gt;=&lt;/span&gt;- $&amp;lt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
&lt;a id="rest_code_b27434ab506341eba41c131fc09ca3de-4" name="rest_code_b27434ab506341eba41c131fc09ca3de-4"&gt;&lt;/a&gt;        pdfroff -ms -mpdfmark -e -t -k -KUTF-8 --no-toc-relocation &lt;span class="se"&gt;\&lt;/span&gt;
&lt;a id="rest_code_b27434ab506341eba41c131fc09ca3de-5" name="rest_code_b27434ab506341eba41c131fc09ca3de-5"&gt;&lt;/a&gt;                -P-p8.5i,5.5i - &amp;gt;&lt;span class="nv"&gt;$@&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;There are still some instances where this technique of having
&lt;span class="app"&gt;pandoc&lt;/span&gt; output the &lt;span class="app"&gt;ms&lt;/span&gt; source directly and pass it through
&lt;span class="app"&gt;pdfroff&lt;/span&gt; yourself.  For instance, if you have to do some
massaging of the &lt;span class="app"&gt;ms&lt;/span&gt; source, like changing &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;.RS/.RE&lt;/span&gt;&lt;/code&gt; to
&lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;.QS/.QE&lt;/span&gt;&lt;/code&gt; to get around the problem with block quotes in &lt;span class="app"&gt;ms&lt;/span&gt;
output in the current &lt;span class="app"&gt;pandoc&lt;/span&gt; release, discussed &lt;a class="reference external" href="https://tkurtbond.github.io/posts/2020/03/11/pandoc-discuss-post-can-the-rsre-macros-in-ms-output-be-replaced-with-qsqe/"&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;dl class="footnote brackets"&gt;
&lt;dt class="label" id="heirloomtroff"&gt;&lt;span class="brackets"&gt;&lt;a class="fn-backref" href="https://tkurtbond.github.io/posts/2020/03/13/making-digest-sized-pages-with-pandoc-and-ms-output/#id1"&gt;1&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;
&lt;dd&gt;&lt;p&gt;Heirloom Troff (originally at &lt;a class="reference external" href="http://heirloom.sourceforge.net/doctools.html"&gt;H1&lt;/a&gt;, but now &lt;em&gt;I
think&lt;/em&gt; more up to date at &lt;a class="reference external" href="http://n-t-roff.github.io/heirloom/doctools.html"&gt;H2&lt;/a&gt; and &lt;a class="reference external" href="https://github.com/n-t-roff/heirloom-doctools"&gt;H3&lt;/a&gt;) has the &lt;code class="docutils literal"&gt;.mediasize&lt;/code&gt; and
&lt;code class="docutils literal"&gt;.papersize&lt;/code&gt; commands for that.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt class="label" id="recursively"&gt;&lt;span class="brackets"&gt;&lt;a class="fn-backref" href="https://tkurtbond.github.io/posts/2020/03/13/making-digest-sized-pages-with-pandoc-and-ms-output/#id2"&gt;2&lt;/a&gt;&lt;/span&gt;&lt;/dt&gt;
&lt;dd&gt;&lt;p&gt;Amusingly, &lt;span class="app"&gt;pandoc&lt;/span&gt; passes the
&lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;--pdf-engine-opt=-P-p8.5i,5.5i&lt;/span&gt;&lt;/code&gt; argument to &lt;span class="app"&gt;pdfroff&lt;/span&gt;,
which passes the &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;-P-p8.5i,5.5i&lt;/span&gt;&lt;/code&gt; part to &lt;span class="app"&gt;groff&lt;/span&gt;, which
passes the &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;-p8.5i,5.5i&lt;/span&gt;&lt;/code&gt; part to the (final) post processor — I'm
not sure if &lt;em&gt;that&lt;/em&gt; is &lt;span class="app"&gt;grops&lt;/span&gt; or &lt;span class="app"&gt;gropdf&lt;/span&gt;.&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;&lt;/div&gt;</description><category>computer</category><category>digest</category><category>groff</category><category>make</category><category>ms macros</category><category>pandoc</category><category>pdfroff</category><category>text processing</category><guid>https://tkurtbond.github.io/posts/2020/03/13/making-digest-sized-pages-with-pandoc-and-ms-output/</guid><pubDate>Fri, 13 Mar 2020 18:01:10 GMT</pubDate></item><item><title>pandoc-discuss post: Can the .RS/.RE macros in ms output be replaced with .QS/.QE?</title><link>https://tkurtbond.github.io/posts/2020/03/11/pandoc-discuss-post-can-the-rsre-macros-in-ms-output-be-replaced-with-qsqe/</link><dc:creator>T. Kurt Bond</dc:creator><description>&lt;div&gt;&lt;p&gt;On March 9, 2020 I made a &lt;a class="reference external" href="https://groups.google.com/forum/#!topic/pandoc-discuss/zulmB6uujgc"&gt;post&lt;/a&gt; on the pandoc-discuss mailing list
that explains some changes to pandoc to better handle block quotes in
ms output, and a workaround for it until the version with changes
comes out, but I forgot to mention it here.&lt;/p&gt;
&lt;p&gt;In short, use a pipeline like this:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://tkurtbond.github.io/listings/GNUmakefile.change-RS-RE-to-QS-QE.html"&gt;GNUmakefile.change-RS-RE-to-QS-QE&lt;/a&gt;  &lt;a class="reference external" href="https://tkurtbond.github.io/listings/GNUmakefile.change-RS-RE-to-QS-QE"&gt;(Source)&lt;/a&gt;&lt;/p&gt;
&lt;pre class="code make"&gt;&lt;a id="rest_code_9e548aff198145b8b86faa869d609265-1" name="rest_code_9e548aff198145b8b86faa869d609265-1"&gt;&lt;/a&gt;&lt;span class="nf"&gt;%.qs.ms.pdf &lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; %.&lt;span class="n"&gt;rst&lt;/span&gt;
&lt;a id="rest_code_9e548aff198145b8b86faa869d609265-2" name="rest_code_9e548aff198145b8b86faa869d609265-2"&gt;&lt;/a&gt;        pandoc --verbose -r rst -w ms &lt;span class="k"&gt;$(&lt;/span&gt;PANDOCOPTS&lt;span class="k"&gt;)&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
&lt;a id="rest_code_9e548aff198145b8b86faa869d609265-3" name="rest_code_9e548aff198145b8b86faa869d609265-3"&gt;&lt;/a&gt;                --output&lt;span class="o"&gt;=&lt;/span&gt;- $&amp;lt; &lt;span class="p"&gt;|&lt;/span&gt; gsed -e &lt;span class="s1"&gt;'s/^\.RS$$/.QS/'&lt;/span&gt; -e &lt;span class="s1"&gt;'s/^\.RE$$/.QE/'&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
&lt;a id="rest_code_9e548aff198145b8b86faa869d609265-4" name="rest_code_9e548aff198145b8b86faa869d609265-4"&gt;&lt;/a&gt;        pdfroff -ms -mpdfmark -e -t -k -KUTF-8 -i --no-toc-relocation &amp;gt;&lt;span class="nv"&gt;$@&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</description><category>.QS/.QE</category><category>.RS/.RE</category><category>block quotes</category><category>groff</category><category>ms macros</category><category>pandoc</category><guid>https://tkurtbond.github.io/posts/2020/03/11/pandoc-discuss-post-can-the-rsre-macros-in-ms-output-be-replaced-with-qsqe/</guid><pubDate>Thu, 12 Mar 2020 00:35:47 GMT</pubDate></item></channel></rss>