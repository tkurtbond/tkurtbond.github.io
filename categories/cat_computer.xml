<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Lacking Natural Simplicity (Posts about computer)</title><link>https://tkurtbond.github.io/</link><description></description><atom:link href="https://tkurtbond.github.io/categories/cat_computer.xml" rel="self" type="application/rss+xml"></atom:link><language>en</language><copyright>Contents © 2020 &lt;a href="mailto:tkurtbond@gmail.com"&gt;T. Kurt Bond&lt;/a&gt; </copyright><lastBuildDate>Thu, 05 Mar 2020 23:07:36 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Foreign File Systems on macOS: Fail!</title><link>https://tkurtbond.github.io/posts/2020/02/24/foreign-file-systems-on-macos-fail/</link><dc:creator>T. Kurt Bond</dc:creator><description>&lt;div&gt;&lt;p&gt;Back sometime in March 2018 I installed &lt;a class="reference external" href="https://www.tuxera.com/"&gt;Tuxera&lt;/a&gt; &lt;a class="reference external" href="https://www.tuxera.com/products/tuxera-ntfs-for-mac/"&gt;NTFS for Mac&lt;/a&gt;.  It was
the first NTFS for Mac that I found.  I used it casually for a while
and it seemed ok.&lt;/p&gt;
&lt;p&gt;Sometime later, probably in October 2019, I decided I needed to move
110 GB of files off my Macbook Pro laptop's internal drive and onto a
external drive.  I also wanted to access this drive from Linux, and
thought I'd just use a NTFS-formatted drive so it would be readable
there.&lt;/p&gt;
&lt;p&gt;I copied the files over using rsync and there seemed to be no
problems, until I (in a fit of paranoia) ran the Unix cmp command on
all the files on the original disk and the matching files on the
NTFS-formatted drive.  There were lots of differences. Uh oh.&lt;/p&gt;
&lt;p&gt;I didn't see anything on the Internet complaining about this.&lt;/p&gt;
&lt;p&gt;So, sometime in October 2019 in I installed &lt;a class="reference external" href="https://www.paragon-drivers.com/"&gt;Paragon Software&lt;/a&gt;
&lt;a class="reference external" href="https://www.paragon-drivers.com/en/extfsmac/"&gt;extFS for Mac&lt;/a&gt;. (I see now that they have a &lt;a class="reference external" href="https://www.paragon-drivers.com/en/ntfsmac/"&gt;NTFS for Mac&lt;/a&gt;; I
haven't tried it.)&lt;/p&gt;
&lt;p&gt;I wanted to try the same thing and see if it worked more reliably with
extFS.  I originally wrote short shell scripts for this, for
consistency, so I could just change the volume name and run them
again.  Again there were lots of differences.  Uh oh.&lt;/p&gt;
&lt;p&gt;Again, I didn't see anything on the Internet complaining about this.&lt;/p&gt;
&lt;p&gt;All I was doing was running &lt;code class="docutils literal"&gt;rsync &lt;span class="pre"&gt;-avz&lt;/span&gt;&lt;/code&gt; with the appropriate
directories; it should have worked.&lt;/p&gt;
&lt;p&gt;I formatted the drive to Mac OS Extended (Journaled) and recopied the
files, and this time they all compared ok.&lt;/p&gt;
&lt;p&gt;I decided to just use &lt;a class="reference external" href="https://www.cis.upenn.edu/~bcpierce/unison/"&gt;Unison&lt;/a&gt; to sync the files to a couple of my
computers for backup and local use instead of connecting the external
drive to each computer in turn.  This is working ok for me.&lt;/p&gt;
&lt;p&gt;Maybe this was user error on my part, but it happened consistently
with both of these file systems.&lt;/p&gt;&lt;/div&gt;</description><category>extfs</category><category>macos</category><category>ntfs</category><category>paragon</category><category>tuxera</category><guid>https://tkurtbond.github.io/posts/2020/02/24/foreign-file-systems-on-macos-fail/</guid><pubDate>Mon, 24 Feb 2020 22:40:34 GMT</pubDate></item><item><title>Failing at Ada Again</title><link>https://tkurtbond.github.io/posts/2019/11/10/failing-at-ada-again/</link><dc:creator>T. Kurt Bond</dc:creator><description>&lt;div&gt;&lt;p&gt;Back on May 20th, 2019 I ordered a copy of &lt;a class="reference external" href="https://www.amazon.com/gp/product/110742481X/"&gt;Programming in Ada&lt;/a&gt; by
John Barnes and spent some time reading it and working with Ada.  I
get interested again in Ada &lt;a class="reference external" href="https://tkurtbond.github.io/posts/2003/07/24/2003-07-24-ada-cohen/"&gt;periodically&lt;/a&gt;.  In theory, I ought to like
programming in Ada — it's one of the last remaining widely used members
of the Pascal language family, which I like.  There is a distribution
of the &lt;a class="reference external" href="https://www.adacore.com/download"&gt;GNAT Community Edition&lt;/a&gt; for macOS which bundles the &lt;a class="reference external" href="https://en.wikipedia.org/wiki/GNAT"&gt;GNAT&lt;/a&gt; Ada
compiler and some useful libraries.  But I could never get
comfortable.&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;GNAT Community Edition for macOS doesn't include GtkAda, so I
couldn't easily write GUI programs.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Getting programming libraries was back to the old download and
install it from scratch yourself method.  I find it much easier to
use systems like Chicken Scheme's &lt;a class="reference external" href="http://wiki.call-cc.org/chicken-projects/egg-index-5.html"&gt;Eggs Unlimited&lt;/a&gt; to find and
install software, or &lt;a class="reference external" href="https://ocaml.org/"&gt;OCaml&lt;/a&gt;'s &lt;a class="reference external" href="https://opam.ocaml.org/"&gt;opam&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://brew.sh"&gt;Brew&lt;/a&gt;, a package manager for macOS, doesn't include GNAT and
GtkAda. The case is better in &lt;a class="reference external" href="https://www.macports.org/"&gt;MacPorts&lt;/a&gt; and much better on Fedora,
but not good on Ubuntu.  I think there are are fewer packaged Ada
libraries across the open source Unixes in general.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The lack of a garbage collector is annoying.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;The type system is strict and not very flexible.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;And especially irritating to me, I tried using  the Ada mode on GNU &lt;a class="reference external" href="https://elpa.gnu.org/"&gt;Elpa&lt;/a&gt;
and it didn't indent Ada code properly.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I think in my current programming environment using Ada is still a
difficult task.&lt;/p&gt;&lt;/div&gt;</description><category>ada</category><guid>https://tkurtbond.github.io/posts/2019/11/10/failing-at-ada-again/</guid><pubDate>Sun, 10 Nov 2019 21:24:35 GMT</pubDate></item><item><title>Converting my emacs-lisp repository to GIT and putting it online</title><link>https://tkurtbond.github.io/posts/2019/11/10/converting-my-emacs-lisp-repository-to-git-and-putting-it-online/</link><dc:creator>T. Kurt Bond</dc:creator><description>&lt;div&gt;&lt;p&gt;I've had a &lt;a class="reference external" href="https://www.mercurial-scm.org/"&gt;mercurial&lt;/a&gt; repository for my Emacs Lisp initialization
files since Thursday, Oct 29, 2009, but had actually used it very
little.  Recently I had occasion to untangle my initialization files
somewhat — they had over 12,000 lines of code when I started, and I've
reduced that to 6,137 lines and switched over to using &lt;a class="reference external" href="https://elpa.gnu.org/"&gt;Elpa&lt;/a&gt; packages
for as much stuff as I can.&lt;/p&gt;
&lt;p&gt;I decided I'd put it in one of the online repositories, and since I'm
already using &lt;a class="reference external" href="https://github.com/tkurtbond"&gt;github.com&lt;/a&gt; for my blog I decided to put it &lt;a class="reference external" href="https://github.com/tkurtbond/emacs-lisp"&gt;there&lt;/a&gt;.
But that meant converting it to &lt;a class="reference external" href="https://git-scm.com/"&gt;GIT&lt;/a&gt;.  I used the directions &lt;a class="reference external" href="https://git-scm.com/book/en/v2/Git-and-Other-Systems-Migrating-to-Git#_mercurial"&gt;here&lt;/a&gt;
using &lt;a class="reference external" href="https://github.com/frej/fast-export"&gt;fast-export&lt;/a&gt; which seemed to work fine.&lt;/p&gt;&lt;/div&gt;</description><category>conversion</category><category>emacs lisp</category><category>git</category><category>mercurial</category><guid>https://tkurtbond.github.io/posts/2019/11/10/converting-my-emacs-lisp-repository-to-git-and-putting-it-online/</guid><pubDate>Sun, 10 Nov 2019 19:09:17 GMT</pubDate></item><item><title>Fixing more broken links in this blog</title><link>https://tkurtbond.github.io/posts/2019/11/10/fixing-more-broken-links-in-this-blog/</link><dc:creator>T. Kurt Bond</dc:creator><description>&lt;p&gt;I did another round of searching for broken internal links on this
blog and fixing them.  It took several hours.  Along the way I
annotated some old blog posts with notes from the present and fixed
typos. I think the blog is in pretty good shape now, though.&lt;/p&gt;</description><category>blog</category><guid>https://tkurtbond.github.io/posts/2019/11/10/fixing-more-broken-links-in-this-blog/</guid><pubDate>Sun, 10 Nov 2019 10:55:15 GMT</pubDate></item><item><title>macOS Catalina doesn't have a FTP client!</title><link>https://tkurtbond.github.io/posts/2019/11/09/macos-catalina-doesnt-have-a-ftp-client/</link><dc:creator>T. Kurt Bond</dc:creator><description>&lt;div&gt;&lt;p&gt;Ack!  macOS Catalina doesn't have an FTP client!  Yes, I know it is
terribly insecure, but I only use it inside our firewall to access one
legacy computer system.  I was glad &lt;a class="reference external" href="https://brew.sh/"&gt;brew&lt;/a&gt; had &lt;a class="reference external" href="https://lftp.yar.ru/"&gt;LFTP&lt;/a&gt;, and I figured out
how to use active mode in &lt;code class="docutils literal"&gt;LFTP&lt;/code&gt;:&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_d57b6d37af574a74858367bb53193546-1"&gt;&lt;/a&gt;&lt;span class="nb"&gt;set&lt;/span&gt; ftp:passive-mode off
&lt;/pre&gt;&lt;p&gt;because that machine's FTP server only works with active mode.&lt;/p&gt;&lt;/div&gt;</description><category>catalina</category><category>ftp</category><category>macos</category><guid>https://tkurtbond.github.io/posts/2019/11/09/macos-catalina-doesnt-have-a-ftp-client/</guid><pubDate>Sun, 10 Nov 2019 03:00:04 GMT</pubDate></item><item><title>Playing with Hashlife</title><link>https://tkurtbond.github.io/posts/2019/11/08/playing-with-hashlife/</link><dc:creator>T. Kurt Bond</dc:creator><description>&lt;div&gt;&lt;p&gt;C.P. found &lt;a class="reference external" href="https://github.com/stylewarning"&gt;Robert Smith&lt;/a&gt;'s &lt;a class="reference external" href="https://github.com/stylewarning/lisp-random/tree/master/hashlife"&gt;implementation&lt;/a&gt; of Bill Gosper's HASHLIFE
algorithm and wanted my help with running it.  I cloned the &lt;a class="reference external" href="https://github.com/stylewarning/lisp-random"&gt;repo&lt;/a&gt; it
was in and ran &lt;code class="docutils literal"&gt;sbcl&lt;/code&gt; in the &lt;code class="docutils literal"&gt;hashlife&lt;/code&gt; directory.  Then I
entered:&lt;/p&gt;
&lt;pre class="code lisp"&gt;&lt;a name="rest_code_746d3f178eca465d9bb468a9cac8c4ef-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;asdf:operate&lt;/span&gt; &lt;span class="ss"&gt;'asdf:load-op&lt;/span&gt; &lt;span class="ss"&gt;'charmlife&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;That resulted in a &lt;code class="docutils literal"&gt;Component CHARMLIFE not found&lt;/code&gt; error in sbcl.  I
thought that was odd — it was right there in the current directory.  I
looked at &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;asdf:*central-registry*&lt;/span&gt;&lt;/code&gt;, and the only thing in it was
the quicklisp directory.  The ASDF &lt;a class="reference external" href="https://common-lisp.net/~mmommer/asdf-howto.shtml#sec11"&gt;howto&lt;/a&gt; showed an example of setting
&lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;asdf:*central-registry*&lt;/span&gt;&lt;/code&gt;:&lt;/p&gt;
&lt;pre class="code lisp"&gt;&lt;a name="rest_code_0d041d47fb664d2f8eea131f790540f2-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;setf&lt;/span&gt; &lt;span class="nv"&gt;asdf:*central-registry*&lt;/span&gt;
&lt;a name="rest_code_0d041d47fb664d2f8eea131f790540f2-2"&gt;&lt;/a&gt;  &lt;span class="c1"&gt;;; Default directories, usually just the ``current directory''&lt;/span&gt;
&lt;a name="rest_code_0d041d47fb664d2f8eea131f790540f2-3"&gt;&lt;/a&gt;  &lt;span class="o"&gt;'&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="vg"&gt;*default-pathname-defaults*&lt;/span&gt;
&lt;a name="rest_code_0d041d47fb664d2f8eea131f790540f2-4"&gt;&lt;/a&gt;
&lt;a name="rest_code_0d041d47fb664d2f8eea131f790540f2-5"&gt;&lt;/a&gt;    &lt;span class="c1"&gt;;; Additional places where ASDF can find&lt;/span&gt;
&lt;a name="rest_code_0d041d47fb664d2f8eea131f790540f2-6"&gt;&lt;/a&gt;    &lt;span class="c1"&gt;;; system definition files&lt;/span&gt;
&lt;a name="rest_code_0d041d47fb664d2f8eea131f790540f2-7"&gt;&lt;/a&gt;    &lt;span class="l l-Other"&gt;#p"/home/foo/lisp/systems/"&lt;/span&gt;
&lt;a name="rest_code_0d041d47fb664d2f8eea131f790540f2-8"&gt;&lt;/a&gt;    &lt;span class="l l-Other"&gt;#p"/usr/share/common-lisp/systems/"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Noticing that it had the symbol &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;*default-pathname-defaults*&lt;/span&gt;&lt;/code&gt; in the
new value, I guessed that it being missing from mine caused ASDF to
not find the system in the current directory.  So I added it and tried
again.  This time ASDF couldn't find &lt;code class="docutils literal"&gt;&lt;span class="pre"&gt;cl-charms&lt;/span&gt;&lt;/code&gt;.  I guessed and
used &lt;a class="reference external" href="https://www.quicklisp.org/"&gt;Quicklisp&lt;/a&gt; to load it.  That worked.  Then I looked at
&lt;code class="docutils literal"&gt;charmlife.lisp&lt;/code&gt; and looked at the &lt;code class="docutils literal"&gt;main&lt;/code&gt; function and figured out
how to run it and how to interact with the program when it was running.&lt;/p&gt;
&lt;p&gt;Here's what I had to do:&lt;/p&gt;
&lt;pre class="code lisp"&gt;&lt;a name="rest_code_3dbeeca9efbc43539347ec5809d2f21f-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;setf&lt;/span&gt; &lt;span class="nv"&gt;asdf:*central-registry*&lt;/span&gt;
&lt;a name="rest_code_3dbeeca9efbc43539347ec5809d2f21f-2"&gt;&lt;/a&gt;      &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;cons&lt;/span&gt; &lt;span class="ss"&gt;'*default-pathname-defaults*&lt;/span&gt;
&lt;a name="rest_code_3dbeeca9efbc43539347ec5809d2f21f-3"&gt;&lt;/a&gt;            &lt;span class="nv"&gt;asdf:*central-registry*&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;a name="rest_code_3dbeeca9efbc43539347ec5809d2f21f-4"&gt;&lt;/a&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;ql:quickload&lt;/span&gt; &lt;span class="s"&gt;"cl-charms"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_3dbeeca9efbc43539347ec5809d2f21f-5"&gt;&lt;/a&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;asdf:operate&lt;/span&gt; &lt;span class="ss"&gt;'asdf:load-op&lt;/span&gt; &lt;span class="ss"&gt;'charmlife&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_3dbeeca9efbc43539347ec5809d2f21f-6"&gt;&lt;/a&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;charmlife:main&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</description><category>common lisp</category><category>hashlife</category><category>life</category><guid>https://tkurtbond.github.io/posts/2019/11/08/playing-with-hashlife/</guid><pubDate>Fri, 08 Nov 2019 14:43:19 GMT</pubDate></item><item><title>Looping on 'dnf -y system-upgrade download' until it succeeds</title><link>https://tkurtbond.github.io/posts/2019/11/07/looping-on-dnf-y-system-upgrade-download-until-it-succeeds/</link><dc:creator>T. Kurt Bond</dc:creator><description>&lt;div&gt;&lt;p&gt;Fedora 31 is out, and fool that I am I'm upgrading to it.
Unfortunately, my DSL connection is slow and my DSL modem router is flaky.
With over 3000 packages to download,&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_21e2330621784af4b97cd61fb3330453-1"&gt;&lt;/a&gt;dnf -y system-upgrade download --refresh --releasever&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;31&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;is bound to die in the middle at least once, if not multiple times,
and with more than 6 hours estimated for the download to run I can't
sit watching it and restarting it every time it dies.&lt;/p&gt;
&lt;p&gt;I tried running &lt;code class="docutils literal"&gt;dnf&lt;/code&gt; as the argument to a while loop, but was
unable to C-c to interrupt it when I &lt;em&gt;did&lt;/em&gt; want to kill it since
&lt;code class="docutils literal"&gt;dnf&lt;/code&gt; caught the SIGINT and the loop started the &lt;code class="docutils literal"&gt;dnf&lt;/code&gt; command
over again before I could C-c the shell.&lt;/p&gt;
&lt;p&gt;Here's the script I came up with to work around the issue:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://tkurtbond.github.io/listings/tryfedoraupdate.html"&gt;tryfedoraupdate&lt;/a&gt;  &lt;a class="reference external" href="https://tkurtbond.github.io/listings/tryfedoraupdate"&gt;(Source)&lt;/a&gt;&lt;/p&gt;
&lt;table class="codetable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;&lt;a href="https://tkurtbond.github.io/posts/2019/11/07/looping-on-dnf-y-system-upgrade-download-until-it-succeeds/#rest_code_ded2d69af711413f8d82b509517106de-1"&gt; 1&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/07/looping-on-dnf-y-system-upgrade-download-until-it-succeeds/#rest_code_ded2d69af711413f8d82b509517106de-2"&gt; 2&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/07/looping-on-dnf-y-system-upgrade-download-until-it-succeeds/#rest_code_ded2d69af711413f8d82b509517106de-3"&gt; 3&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/07/looping-on-dnf-y-system-upgrade-download-until-it-succeeds/#rest_code_ded2d69af711413f8d82b509517106de-4"&gt; 4&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/07/looping-on-dnf-y-system-upgrade-download-until-it-succeeds/#rest_code_ded2d69af711413f8d82b509517106de-5"&gt; 5&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/07/looping-on-dnf-y-system-upgrade-download-until-it-succeeds/#rest_code_ded2d69af711413f8d82b509517106de-6"&gt; 6&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/07/looping-on-dnf-y-system-upgrade-download-until-it-succeeds/#rest_code_ded2d69af711413f8d82b509517106de-7"&gt; 7&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/07/looping-on-dnf-y-system-upgrade-download-until-it-succeeds/#rest_code_ded2d69af711413f8d82b509517106de-8"&gt; 8&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/07/looping-on-dnf-y-system-upgrade-download-until-it-succeeds/#rest_code_ded2d69af711413f8d82b509517106de-9"&gt; 9&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/07/looping-on-dnf-y-system-upgrade-download-until-it-succeeds/#rest_code_ded2d69af711413f8d82b509517106de-10"&gt;10&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/07/looping-on-dnf-y-system-upgrade-download-until-it-succeeds/#rest_code_ded2d69af711413f8d82b509517106de-11"&gt;11&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/07/looping-on-dnf-y-system-upgrade-download-until-it-succeeds/#rest_code_ded2d69af711413f8d82b509517106de-12"&gt;12&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/07/looping-on-dnf-y-system-upgrade-download-until-it-succeeds/#rest_code_ded2d69af711413f8d82b509517106de-13"&gt;13&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/07/looping-on-dnf-y-system-upgrade-download-until-it-succeeds/#rest_code_ded2d69af711413f8d82b509517106de-14"&gt;14&lt;/a&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre class="code bash"&gt;&lt;a name="rest_code_ded2d69af711413f8d82b509517106de-1"&gt;&lt;/a&gt;&lt;span class="ch"&gt;#! /usr/bin/bash&lt;/span&gt;
&lt;a name="rest_code_ded2d69af711413f8d82b509517106de-2"&gt;&lt;/a&gt;
&lt;a name="rest_code_ded2d69af711413f8d82b509517106de-3"&gt;&lt;/a&gt;&lt;span class="k"&gt;while&lt;/span&gt; ! dnf -y system-upgrade download --refresh --releasever&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;31&lt;/span&gt;
&lt;a name="rest_code_ded2d69af711413f8d82b509517106de-4"&gt;&lt;/a&gt;&lt;span class="k"&gt;do&lt;/span&gt;
&lt;a name="rest_code_ded2d69af711413f8d82b509517106de-5"&gt;&lt;/a&gt;    &lt;span class="nb"&gt;read&lt;/span&gt; -t &lt;span class="m"&gt;30&lt;/span&gt; -p &lt;span class="s2"&gt;"Continue? (y/n) "&lt;/span&gt; reply
&lt;a name="rest_code_ded2d69af711413f8d82b509517106de-6"&gt;&lt;/a&gt;    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;((&lt;/span&gt;&lt;span class="nv"&gt;$?&lt;/span&gt;&amp;gt;128&lt;span class="o"&gt;))&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
&lt;a name="rest_code_ded2d69af711413f8d82b509517106de-7"&gt;&lt;/a&gt;        &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;"timed out, continuing..."&lt;/span&gt;
&lt;a name="rest_code_ded2d69af711413f8d82b509517106de-8"&gt;&lt;/a&gt;    &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="o"&gt;[[&lt;/span&gt; &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$reply&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;~ &lt;span class="o"&gt;[&lt;/span&gt;Nn&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;]]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
&lt;a name="rest_code_ded2d69af711413f8d82b509517106de-9"&gt;&lt;/a&gt;        &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;"Exiting..."&lt;/span&gt;
&lt;a name="rest_code_ded2d69af711413f8d82b509517106de-10"&gt;&lt;/a&gt;        &lt;span class="nb"&gt;exit&lt;/span&gt;
&lt;a name="rest_code_ded2d69af711413f8d82b509517106de-11"&gt;&lt;/a&gt;    &lt;span class="k"&gt;else&lt;/span&gt;
&lt;a name="rest_code_ded2d69af711413f8d82b509517106de-12"&gt;&lt;/a&gt;        &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;"Continuing..."&lt;/span&gt;
&lt;a name="rest_code_ded2d69af711413f8d82b509517106de-13"&gt;&lt;/a&gt;    &lt;span class="k"&gt;fi&lt;/span&gt;
&lt;a name="rest_code_ded2d69af711413f8d82b509517106de-14"&gt;&lt;/a&gt;&lt;span class="k"&gt;done&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;This way I can stop the script easily, but if it dies itself it will
continue after a timeout.&lt;/p&gt;&lt;/div&gt;</description><category>bash</category><category>dnf</category><category>fedora</category><guid>https://tkurtbond.github.io/posts/2019/11/07/looping-on-dnf-y-system-upgrade-download-until-it-succeeds/</guid><pubDate>Fri, 08 Nov 2019 02:16:59 GMT</pubDate></item><item><title>Converting my pyBloxsom blog into a Nikola blog</title><link>https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/</link><dc:creator>T. Kurt Bond</dc:creator><description>&lt;div&gt;&lt;p&gt;Yesterday I decided to try blogging again.  I started writing a post
at blogger.com, but that was like wading through a rotting whale
corpse.  Instead I decided to use &lt;a class="reference external" href="https://help.github.com/en/github/working-with-github-pages/about-github-pages"&gt;GitHub Pages&lt;/a&gt;
and use the static blog/site generator &lt;a class="reference external" href="https://getnikola.com/"&gt;Nikola&lt;/a&gt; to generate the
content, editing reStructuredText (ReST) files.&lt;/p&gt;
&lt;p&gt;I wrote my first &lt;a class="reference external" href="https://tkurtbond.github.io/posts/2019/11/05/getting-nxml-mode-in-emacs-to-validate-docbook-5-documents/"&gt;post&lt;/a&gt; and it was good!  Using ReST again was much
better than editing in a GUI like blogger.com, and having it hosted by
GitHub Pages was more restful than running a machine hosting a
website.&lt;/p&gt;
&lt;p&gt;But then I thought of all the posts I had in my old blog, before I
stopped running machine hosting a website.  They were all written in
ReST — maybe I could put them up on my new blog?&lt;/p&gt;
&lt;p&gt;I took a couple three hours and wrote a shell script to find the old
&lt;a class="reference external" href="https://pyblosxom.github.io/"&gt;pyBloxsom&lt;/a&gt; files and feed them into a python script that I also wrote.
Along the way I made sure the files all had &lt;code class="docutils literal"&gt;#published&lt;/code&gt; and
&lt;code class="docutils literal"&gt;#tags&lt;/code&gt; lines, in that order, immediately following the title line.&lt;/p&gt;
&lt;p&gt;Here's the shell script:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://tkurtbond.github.io/listings/drive-pyblox-to-nikola.html"&gt;drive-pyblox-to-nikola&lt;/a&gt;  &lt;a class="reference external" href="https://tkurtbond.github.io/listings/drive-pyblox-to-nikola"&gt;(Source)&lt;/a&gt;&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_c9bf14abe317409a894eec6f64589304-1"&gt;&lt;/a&gt;&lt;span class="ch"&gt;#! /usr/bin/env bash&lt;/span&gt;
&lt;a name="rest_code_c9bf14abe317409a894eec6f64589304-2"&gt;&lt;/a&gt;
&lt;a name="rest_code_c9bf14abe317409a894eec6f64589304-3"&gt;&lt;/a&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; ~/myblog &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;
&lt;a name="rest_code_c9bf14abe317409a894eec6f64589304-4"&gt;&lt;/a&gt;     find notentries/ entries/ -type f -name &lt;span class="se"&gt;\*&lt;/span&gt;.rst &lt;span class="p"&gt;|&lt;/span&gt;
&lt;a name="rest_code_c9bf14abe317409a894eec6f64589304-5"&gt;&lt;/a&gt;         ~/comp/tkbtools/Scripts/pyblox-to-nikola&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Here's the python script:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://tkurtbond.github.io/listings/pyblox-to-nikola.html"&gt;pyblox-to-nikola&lt;/a&gt;  &lt;a class="reference external" href="https://tkurtbond.github.io/listings/pyblox-to-nikola"&gt;(Source)&lt;/a&gt;&lt;/p&gt;
&lt;table class="codetable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt;&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-1"&gt; 1&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-2"&gt; 2&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-3"&gt; 3&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-4"&gt; 4&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-5"&gt; 5&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-6"&gt; 6&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-7"&gt; 7&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-8"&gt; 8&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-9"&gt; 9&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-10"&gt;10&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-11"&gt;11&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-12"&gt;12&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-13"&gt;13&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-14"&gt;14&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-15"&gt;15&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-16"&gt;16&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-17"&gt;17&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-18"&gt;18&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-19"&gt;19&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-20"&gt;20&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-21"&gt;21&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-22"&gt;22&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-23"&gt;23&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-24"&gt;24&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-25"&gt;25&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-26"&gt;26&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-27"&gt;27&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-28"&gt;28&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-29"&gt;29&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-30"&gt;30&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-31"&gt;31&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-32"&gt;32&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-33"&gt;33&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-34"&gt;34&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-35"&gt;35&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-36"&gt;36&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-37"&gt;37&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-38"&gt;38&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-39"&gt;39&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-40"&gt;40&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-41"&gt;41&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-42"&gt;42&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-43"&gt;43&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-44"&gt;44&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-45"&gt;45&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-46"&gt;46&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-47"&gt;47&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-48"&gt;48&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-49"&gt;49&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-50"&gt;50&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-51"&gt;51&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-52"&gt;52&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-53"&gt;53&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-54"&gt;54&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-55"&gt;55&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-56"&gt;56&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-57"&gt;57&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-58"&gt;58&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-59"&gt;59&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-60"&gt;60&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-61"&gt;61&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-62"&gt;62&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-63"&gt;63&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-64"&gt;64&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-65"&gt;65&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-66"&gt;66&lt;/a&gt;
&lt;a href="https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/#rest_code_84e66bc23fb84c688ac11bfcc1cb872e-67"&gt;67&lt;/a&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;pre class="code python"&gt;&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-1"&gt;&lt;/a&gt;&lt;span class="ch"&gt;#! /usr/bin/env python3.7&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-2"&gt;&lt;/a&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-3"&gt;&lt;/a&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-4"&gt;&lt;/a&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os.path&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-5"&gt;&lt;/a&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;sys&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-6"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;datetime&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-7"&gt;&lt;/a&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-8"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# datetime.strptime ('2019-11-05 20:32:24', '%Y-%m-%d %H:%M:%S')&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-9"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# dt.strftime ('%Y-%m-%d %H:%M:%S UTC-05:00')&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-10"&gt;&lt;/a&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-11"&gt;&lt;/a&gt;&lt;span class="n"&gt;entries_prefix&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'entries/'&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-12"&gt;&lt;/a&gt;&lt;span class="n"&gt;notentries_prefix&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'notentries/'&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-13"&gt;&lt;/a&gt;&lt;span class="n"&gt;published_prefix&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'#published '&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-14"&gt;&lt;/a&gt;&lt;span class="n"&gt;tags_prefix&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'#tags '&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-15"&gt;&lt;/a&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-16"&gt;&lt;/a&gt;&lt;span class="n"&gt;files_read&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-17"&gt;&lt;/a&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;filename&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;sys&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;stdin&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-18"&gt;&lt;/a&gt;    &lt;span class="n"&gt;filename&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;filename&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rstrip&lt;/span&gt; &lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-19"&gt;&lt;/a&gt;    &lt;span class="n"&gt;basename&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;basename&lt;/span&gt;  &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;filename&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-20"&gt;&lt;/a&gt;    &lt;span class="n"&gt;dirname&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dirname&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;filename&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-21"&gt;&lt;/a&gt;    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;dirname&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;startswith&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;entries_prefix&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-22"&gt;&lt;/a&gt;        &lt;span class="n"&gt;category&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;dirname&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;entries_prefix&lt;/span&gt;&lt;span class="p"&gt;):]&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-23"&gt;&lt;/a&gt;    &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;dirname&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;startswith&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;notentries_prefix&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-24"&gt;&lt;/a&gt;        &lt;span class="n"&gt;category&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;dirname&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;notentries_prefix&lt;/span&gt;&lt;span class="p"&gt;):]&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-25"&gt;&lt;/a&gt;    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-26"&gt;&lt;/a&gt;        &lt;span class="n"&gt;category&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;''&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-27"&gt;&lt;/a&gt;    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;slug&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;_&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;splitext&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;basename&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-28"&gt;&lt;/a&gt;    &lt;span class="nb"&gt;print&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'filename: &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;basename: &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;dirname: &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;category: &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;slug: &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-29"&gt;&lt;/a&gt;           &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;filename&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;basename&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dirname&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;category&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;slug&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-30"&gt;&lt;/a&gt;    &lt;span class="n"&gt;inf&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;filename&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'r'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-31"&gt;&lt;/a&gt;    &lt;span class="n"&gt;files_read&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;files_read&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-32"&gt;&lt;/a&gt;    &lt;span class="n"&gt;title&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;inf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;readline&lt;/span&gt; &lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-33"&gt;&lt;/a&gt;    &lt;span class="n"&gt;title&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rstrip&lt;/span&gt; &lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-34"&gt;&lt;/a&gt;    &lt;span class="n"&gt;published&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;inf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;readline&lt;/span&gt; &lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-35"&gt;&lt;/a&gt;    &lt;span class="n"&gt;published&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;published&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strip&lt;/span&gt; &lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-36"&gt;&lt;/a&gt;    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;published&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;startswith&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;published_prefix&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-37"&gt;&lt;/a&gt;        &lt;span class="n"&gt;published&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;published&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;published_prefix&lt;/span&gt;&lt;span class="p"&gt;):]&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-38"&gt;&lt;/a&gt;    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-39"&gt;&lt;/a&gt;        &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'Unknown line should be #published'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;published&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-40"&gt;&lt;/a&gt;    &lt;span class="n"&gt;published_date&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;datetime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strptime&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;published&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'%Y-%m-&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s1"&gt; %H:%M:%S'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-41"&gt;&lt;/a&gt;    &lt;span class="n"&gt;nikola_date&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;published_date&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strftime&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'%Y-%m-&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s1"&gt; %H:%M:%S UTC-05:00'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-42"&gt;&lt;/a&gt;    &lt;span class="n"&gt;datepath&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;published_date&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;strftime&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'%Y/%m/&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-43"&gt;&lt;/a&gt;    &lt;span class="n"&gt;newdir&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'/Users/tkb/nikola/newblog/posts'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;datepath&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-44"&gt;&lt;/a&gt;    &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;makedirs&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;newdir&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;exist_ok&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-45"&gt;&lt;/a&gt;    &lt;span class="n"&gt;tags&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;inf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;readline&lt;/span&gt; &lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-46"&gt;&lt;/a&gt;    &lt;span class="n"&gt;tags&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;tags&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rstrip&lt;/span&gt; &lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-47"&gt;&lt;/a&gt;    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;tags&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;startswith&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tags_prefix&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-48"&gt;&lt;/a&gt;        &lt;span class="n"&gt;tags&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;tags&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tags_prefix&lt;/span&gt;&lt;span class="p"&gt;):]&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-49"&gt;&lt;/a&gt;    &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-50"&gt;&lt;/a&gt;        &lt;span class="k"&gt;raise&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'Unknown line should be #tags'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;tags&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-51"&gt;&lt;/a&gt;    &lt;span class="n"&gt;tags&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;tags&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lower&lt;/span&gt; &lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-52"&gt;&lt;/a&gt;    &lt;span class="n"&gt;outfname&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;newdir&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;basename&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-53"&gt;&lt;/a&gt;    &lt;span class="nb"&gt;print&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'outfname: &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;outfname&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-54"&gt;&lt;/a&gt;    &lt;span class="n"&gt;outf&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;outfname&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'w'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-55"&gt;&lt;/a&gt;    &lt;span class="n"&gt;outf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'.. title: &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-56"&gt;&lt;/a&gt;    &lt;span class="n"&gt;outf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'.. slug: &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;slug&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-57"&gt;&lt;/a&gt;    &lt;span class="n"&gt;outf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'.. date: &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;nikola_date&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-58"&gt;&lt;/a&gt;    &lt;span class="n"&gt;outf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'.. tags: &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;tags&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-59"&gt;&lt;/a&gt;    &lt;span class="n"&gt;outf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'.. category: &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;category&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-60"&gt;&lt;/a&gt;    &lt;span class="n"&gt;outf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'.. link: &lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-61"&gt;&lt;/a&gt;    &lt;span class="n"&gt;outf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'.. description: &lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-62"&gt;&lt;/a&gt;    &lt;span class="n"&gt;outf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'.. type: text&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-63"&gt;&lt;/a&gt;    &lt;span class="n"&gt;outf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-64"&gt;&lt;/a&gt;    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;inf&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-65"&gt;&lt;/a&gt;        &lt;span class="n"&gt;outf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;write&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-66"&gt;&lt;/a&gt;    &lt;span class="n"&gt;inf&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt; &lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_84e66bc23fb84c688ac11bfcc1cb872e-67"&gt;&lt;/a&gt;&lt;span class="nb"&gt;print&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="se"&gt;\n\n&lt;/span&gt;&lt;span class="s1"&gt;Files Read: &lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;files_read&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;There were 810 &lt;a class="reference external" href="http://docutils.sourceforge.io/rst.html"&gt;reStructuredText&lt;/a&gt; files to process.  Once that was
done, I had to work through those files multiple times finding all the
broken internal links, since many of them were absolute links to my
old blog or other pages on my old website.  I did &lt;cite&gt;grep-find&lt;/cite&gt; in Emacs
multiple times to find all the occurances of my old website's hostname
(which went through a couple of variations over time), then looked for
site relative links that started with &lt;code class="docutils literal"&gt;/~tkb&lt;/code&gt;, a tedious but not too
difficult process.&lt;/p&gt;&lt;/div&gt;</description><category>blog</category><category>conversion</category><category>nikola</category><category>pybloxsom</category><guid>https://tkurtbond.github.io/posts/2019/11/06/converting-my-pybloxsom-blog-into-a-nikola-blog/</guid><pubDate>Wed, 06 Nov 2019 19:10:35 GMT</pubDate></item><item><title>Getting nxml-mode in emacs to validate DocBook 5 documents</title><link>https://tkurtbond.github.io/posts/2019/11/05/getting-nxml-mode-in-emacs-to-validate-docbook-5-documents/</link><dc:creator>T. Kurt Bond</dc:creator><description>&lt;div&gt;&lt;p&gt;I have occasion to edit and build a DocBook 5 document under both
macOS Catalina and Fedora 30.&lt;/p&gt;
&lt;p&gt;On macOS I've used homebrew to install the docbook, docbook-xsl, and
libxslt (for xsltproc), and fop formulas, and changed my PATH to
include the directory where brew installed &lt;code class="docutils literal"&gt;xsltproc&lt;/code&gt;. which will then
use &lt;code class="docutils literal"&gt;/usr/local/etc/xml/catalog&lt;/code&gt; to find files, in which brew installed
links to the docbook schemas and xsl stylesheets.&lt;/p&gt;
&lt;p&gt;On Fedora I've used &lt;code class="docutils literal"&gt;dnf&lt;/code&gt; to install the docbook5-schemas,
docbook5-style-xsl, and fop packages.&lt;/p&gt;
&lt;p&gt;The document builds fine on both OSes, but Emacs doesn't validate
properly against the DocBook RELAX NG schemas, because the &lt;code class="docutils literal"&gt;*.rnc&lt;/code&gt; files
supplied with Emacs (26.3 on macOS, 26.2 on Fedora) are for DocBook 4.
However, Emacs will look at a &lt;code class="docutils literal"&gt;schemas.xml&lt;/code&gt; file in the same directory
as the file you are editing to find the &lt;code class="docutils literal"&gt;*.rnc&lt;/code&gt; files.  Unfortunately,
of course, they have different locations on macOS with brew and on
Fedora.&lt;/p&gt;
&lt;p&gt;So I wrote a script, generate-schemas-xml, in bash using xmlcatalog to
look up the translation for the URI for the RELAX NG compiled schema
file and generate the &lt;code class="docutils literal"&gt;schemas.xml&lt;/code&gt; file and substitute the translation
into the file:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://tkurtbond.github.io/listings/generate-schemas-xml.html"&gt;generate-schemas-xml&lt;/a&gt;  &lt;a class="reference external" href="https://tkurtbond.github.io/listings/generate-schemas-xml"&gt;(Source)&lt;/a&gt;&lt;/p&gt;
&lt;pre class="code bash"&gt;&lt;a name="rest_code_db3b90dc413840e49ba6b266373267fe-1"&gt;&lt;/a&gt;&lt;span class="ch"&gt;#! /usr/bin/env bash&lt;/span&gt;
&lt;a name="rest_code_db3b90dc413840e49ba6b266373267fe-2"&gt;&lt;/a&gt;
&lt;a name="rest_code_db3b90dc413840e49ba6b266373267fe-3"&gt;&lt;/a&gt;&lt;span class="nv"&gt;schema_location&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;xmlcatalog &lt;span class="s2"&gt;""&lt;/span&gt; &lt;span class="s2"&gt;"http://docbook.org/xml/5.0/rng/docbookxi.rnc"&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt;
&lt;a name="rest_code_db3b90dc413840e49ba6b266373267fe-4"&gt;&lt;/a&gt;    grep &lt;span class="s2"&gt;"^file:///"&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; sed &lt;span class="s1"&gt;'s#^file://##'&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;"&lt;/span&gt;
&lt;a name="rest_code_db3b90dc413840e49ba6b266373267fe-5"&gt;&lt;/a&gt;
&lt;a name="rest_code_db3b90dc413840e49ba6b266373267fe-6"&gt;&lt;/a&gt;cat &amp;gt;schemas.xml &lt;span class="s"&gt;&amp;lt;&amp;lt;EOF&lt;/span&gt;
&lt;a name="rest_code_db3b90dc413840e49ba6b266373267fe-7"&gt;&lt;/a&gt;&lt;span class="s"&gt;&amp;lt;locatingRules xmlns="http://thaiopensource.com/ns/locating-rules/1.0"&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_db3b90dc413840e49ba6b266373267fe-8"&gt;&lt;/a&gt;&lt;span class="s"&gt;&amp;lt;namespace ns="http://docbook.org/ns/docbook" uri="$schema_location"/&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_db3b90dc413840e49ba6b266373267fe-9"&gt;&lt;/a&gt;&lt;span class="s"&gt;&amp;lt;/locatingRules&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_db3b90dc413840e49ba6b266373267fe-10"&gt;&lt;/a&gt;&lt;span class="s"&gt;EOF&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Then I had my Makefile generate the &lt;code class="docutils literal"&gt;schemas.xml&lt;/code&gt; file if it was missing.&lt;/p&gt;
&lt;p&gt;It was more complicated that I'd have liked, but it does work.&lt;/p&gt;&lt;/div&gt;</description><category>docbook 5</category><category>emacs</category><category>fedora</category><category>macos</category><guid>https://tkurtbond.github.io/posts/2019/11/05/getting-nxml-mode-in-emacs-to-validate-docbook-5-documents/</guid><pubDate>Wed, 06 Nov 2019 01:32:24 GMT</pubDate></item><item><title>POISE DMS-PLus</title><link>https://tkurtbond.github.io/posts/2014/11/23/poise-dms-plus/</link><dc:creator>T. Kurt Bond</dc:creator><description>&lt;p&gt;I found a &lt;a class="reference external" href="http://www2.esp-tulsa.com/products.htm#dmsplus"&gt;web page&lt;/a&gt; that lists all the POISE products, now known as the
Jenzabar PX Administrative Information Systems, including the POISE
DMS-Plus.&lt;/p&gt;</description><category>dms-plus</category><category>jenzabar px</category><category>poise</category><guid>https://tkurtbond.github.io/posts/2014/11/23/poise-dms-plus/</guid><pubDate>Sun, 23 Nov 2014 06:48:58 GMT</pubDate></item></channel></rss>